var Kw=Object.defineProperty;var sE=a=>{throw TypeError(a)};var Yw=(a,i,s)=>i in a?Kw(a,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[i]=s;var es=(a,i,s)=>Yw(a,typeof i!="symbol"?i+"":i,s),o_=(a,i,s)=>i.has(a)||sE("Cannot "+s);var tt=(a,i,s)=>(o_(a,i,"read from private field"),s?s.call(a):i.get(a)),At=(a,i,s)=>i.has(a)?sE("Cannot add the same private member more than once"):i instanceof WeakSet?i.add(a):i.set(a,s),xt=(a,i,s,o)=>(o_(a,i,"write to private field"),o?o.call(a,s):i.set(a,s),s),yt=(a,i,s)=>(o_(a,i,"access private method"),s);var Pr=(a,i,s,o)=>({set _(j){xt(a,i,j,s)},get _(){return tt(a,i,o)}});function _mergeNamespaces(a,i){for(var s=0;s<i.length;s++){const o=i[s];if(typeof o!="string"&&!Array.isArray(o)){for(const j in o)if(j!=="default"&&!(j in a)){const _e=Object.getOwnPropertyDescriptor(o,j);_e&&Object.defineProperty(a,j,_e.get?_e:{enumerable:!0,get:()=>o[j]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const j of document.querySelectorAll('link[rel="modulepreload"]'))o(j);new MutationObserver(j=>{for(const _e of j)if(_e.type==="childList")for(const et of _e.addedNodes)et.tagName==="LINK"&&et.rel==="modulepreload"&&o(et)}).observe(document,{childList:!0,subtree:!0});function s(j){const _e={};return j.integrity&&(_e.integrity=j.integrity),j.referrerPolicy&&(_e.referrerPolicy=j.referrerPolicy),j.crossOrigin==="use-credentials"?_e.credentials="include":j.crossOrigin==="anonymous"?_e.credentials="omit":_e.credentials="same-origin",_e}function o(j){if(j.ep)return;j.ep=!0;const _e=s(j);fetch(j.href,_e)}})();function getDefaultExportFromCjs(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function getAugmentedNamespace(a){if(a.__esModule)return a;var i=a.default;if(typeof i=="function"){var s=function o(){return this instanceof o?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};s.prototype=i.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(a).forEach(function(o){var j=Object.getOwnPropertyDescriptor(a,o);Object.defineProperty(s,o,j.get?j:{enumerable:!0,get:function(){return a[o]}})}),s}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u$1=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(a){return a===null||typeof a!="object"?null:(a=z$2&&a[z$2]||a["@@iterator"],typeof a=="function"?a:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$2={};function E$2(a,i,s){this.props=a,this.context=i,this.refs=D$2,this.updater=s||B$2}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(a,i){if(typeof a!="object"&&typeof a!="function"&&a!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,a,i,"setState")};E$2.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")};function F(){}F.prototype=E$2.prototype;function G$1(a,i,s){this.props=a,this.context=i,this.refs=D$2,this.updater=s||B$2}var H$2=G$1.prototype=new F;H$2.constructor=G$1;C$2(H$2,E$2.prototype);H$2.isPureReactComponent=!0;var I$2=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$2(a,i,s){var o,j={},_e=null,et=null;if(i!=null)for(o in i.ref!==void 0&&(et=i.ref),i.key!==void 0&&(_e=""+i.key),i)J.call(i,o)&&!L$2.hasOwnProperty(o)&&(j[o]=i[o]);var nt=arguments.length-2;if(nt===1)j.children=s;else if(1<nt){for(var it=Array(nt),rt=0;rt<nt;rt++)it[rt]=arguments[rt+2];j.children=it}if(a&&a.defaultProps)for(o in nt=a.defaultProps,nt)j[o]===void 0&&(j[o]=nt[o]);return{$$typeof:l$1,type:a,key:_e,ref:et,props:j,_owner:K$1.current}}function N$2(a,i){return{$$typeof:l$1,type:a.type,key:i,ref:a.ref,props:a.props,_owner:a._owner}}function O$2(a){return typeof a=="object"&&a!==null&&a.$$typeof===l$1}function escape$1(a){var i={"=":"=0",":":"=2"};return"$"+a.replace(/[=:]/g,function(s){return i[s]})}var P$2=/\/+/g;function Q$2(a,i){return typeof a=="object"&&a!==null&&a.key!=null?escape$1(""+a.key):i.toString(36)}function R$2(a,i,s,o,j){var _e=typeof a;(_e==="undefined"||_e==="boolean")&&(a=null);var et=!1;if(a===null)et=!0;else switch(_e){case"string":case"number":et=!0;break;case"object":switch(a.$$typeof){case l$1:case n$1:et=!0}}if(et)return et=a,j=j(et),a=o===""?"."+Q$2(et,0):o,I$2(j)?(s="",a!=null&&(s=a.replace(P$2,"$&/")+"/"),R$2(j,i,s,"",function(rt){return rt})):j!=null&&(O$2(j)&&(j=N$2(j,s+(!j.key||et&&et.key===j.key?"":(""+j.key).replace(P$2,"$&/")+"/")+a)),i.push(j)),1;if(et=0,o=o===""?".":o+":",I$2(a))for(var nt=0;nt<a.length;nt++){_e=a[nt];var it=o+Q$2(_e,nt);et+=R$2(_e,i,s,it,j)}else if(it=A$2(a),typeof it=="function")for(a=it.call(a),nt=0;!(_e=a.next()).done;)_e=_e.value,it=o+Q$2(_e,nt++),et+=R$2(_e,i,s,it,j);else if(_e==="object")throw i=String(a),Error("Objects are not valid as a React child (found: "+(i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)+"). If you meant to render a collection of children, use an array instead.");return et}function S$2(a,i,s){if(a==null)return a;var o=[],j=0;return R$2(a,o,"","",function(_e){return i.call(s,_e,j++)}),o}function T$2(a){if(a._status===-1){var i=a._result;i=i(),i.then(function(s){(a._status===0||a._status===-1)&&(a._status=1,a._result=s)},function(s){(a._status===0||a._status===-1)&&(a._status=2,a._result=s)}),a._status===-1&&(a._status=0,a._result=i)}if(a._status===1)return a._result.default;throw a._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$2,forEach:function(a,i,s){S$2(a,function(){i.apply(this,arguments)},s)},count:function(a){var i=0;return S$2(a,function(){i++}),i},toArray:function(a){return S$2(a,function(i){return i})||[]},only:function(a){if(!O$2(a))throw Error("React.Children.only expected to receive a single React element child.");return a}};react_production_min.Component=E$2;react_production_min.Fragment=p$3;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$2;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$1;react_production_min.cloneElement=function(a,i,s){if(a==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+a+".");var o=C$2({},a.props),j=a.key,_e=a.ref,et=a._owner;if(i!=null){if(i.ref!==void 0&&(_e=i.ref,et=K$1.current),i.key!==void 0&&(j=""+i.key),a.type&&a.type.defaultProps)var nt=a.type.defaultProps;for(it in i)J.call(i,it)&&!L$2.hasOwnProperty(it)&&(o[it]=i[it]===void 0&&nt!==void 0?nt[it]:i[it])}var it=arguments.length-2;if(it===1)o.children=s;else if(1<it){nt=Array(it);for(var rt=0;rt<it;rt++)nt[rt]=arguments[rt+2];o.children=nt}return{$$typeof:l$1,type:a.type,key:j,ref:_e,props:o,_owner:et}};react_production_min.createContext=function(a){return a={$$typeof:u$1,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},a.Provider={$$typeof:t,_context:a},a.Consumer=a};react_production_min.createElement=M$2;react_production_min.createFactory=function(a){var i=M$2.bind(null,a);return i.type=a,i};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(a){return{$$typeof:v$2,render:a}};react_production_min.isValidElement=O$2;react_production_min.lazy=function(a){return{$$typeof:y$1,_payload:{_status:-1,_result:a},_init:T$2}};react_production_min.memo=function(a,i){return{$$typeof:x$1,type:a,compare:i===void 0?null:i}};react_production_min.startTransition=function(a){var i=V$1.transition;V$1.transition={};try{a()}finally{V$1.transition=i}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(a,i){return U$1.current.useCallback(a,i)};react_production_min.useContext=function(a){return U$1.current.useContext(a)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(a){return U$1.current.useDeferredValue(a)};react_production_min.useEffect=function(a,i){return U$1.current.useEffect(a,i)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(a,i,s){return U$1.current.useImperativeHandle(a,i,s)};react_production_min.useInsertionEffect=function(a,i){return U$1.current.useInsertionEffect(a,i)};react_production_min.useLayoutEffect=function(a,i){return U$1.current.useLayoutEffect(a,i)};react_production_min.useMemo=function(a,i){return U$1.current.useMemo(a,i)};react_production_min.useReducer=function(a,i,s){return U$1.current.useReducer(a,i,s)};react_production_min.useRef=function(a){return U$1.current.useRef(a)};react_production_min.useState=function(a){return U$1.current.useState(a)};react_production_min.useSyncExternalStore=function(a,i,s){return U$1.current.useSyncExternalStore(a,i,s)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const e=getDefaultExportFromCjs(reactExports),React=_mergeNamespaces({__proto__:null,default:e},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k$1=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$2=Object.prototype.hasOwnProperty,n=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$2={key:!0,ref:!0,__self:!0,__source:!0};function q$1(a,i,s){var o,j={},_e=null,et=null;s!==void 0&&(_e=""+s),i.key!==void 0&&(_e=""+i.key),i.ref!==void 0&&(et=i.ref);for(o in i)m$2.call(i,o)&&!p$2.hasOwnProperty(o)&&(j[o]=i[o]);if(a&&a.defaultProps)for(o in i=a.defaultProps,i)j[o]===void 0&&(j[o]=i[o]);return{$$typeof:k$1,type:a,key:_e,ref:et,props:j,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(a){function i(Ut,Lt){var zt=Ut.length;Ut.push(Lt);e:for(;0<zt;){var Zt=zt-1>>>1,Ft=Ut[Zt];if(0<j(Ft,Lt))Ut[Zt]=Lt,Ut[zt]=Ft,zt=Zt;else break e}}function s(Ut){return Ut.length===0?null:Ut[0]}function o(Ut){if(Ut.length===0)return null;var Lt=Ut[0],zt=Ut.pop();if(zt!==Lt){Ut[0]=zt;e:for(var Zt=0,Ft=Ut.length,Et=Ft>>>1;Zt<Et;){var Tt=2*(Zt+1)-1,kt=Ut[Tt],jt=Tt+1,Nt=Ut[jt];if(0>j(kt,zt))jt<Ft&&0>j(Nt,kt)?(Ut[Zt]=Nt,Ut[jt]=zt,Zt=jt):(Ut[Zt]=kt,Ut[Tt]=zt,Zt=Tt);else if(jt<Ft&&0>j(Nt,zt))Ut[Zt]=Nt,Ut[jt]=zt,Zt=jt;else break e}}return Lt}function j(Ut,Lt){var zt=Ut.sortIndex-Lt.sortIndex;return zt!==0?zt:Ut.id-Lt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var _e=performance;a.unstable_now=function(){return _e.now()}}else{var et=Date,nt=et.now();a.unstable_now=function(){return et.now()-nt}}var it=[],rt=[],st=1,at=null,ot=3,ut=!1,ct=!1,dt=!1,ft=typeof setTimeout=="function"?setTimeout:null,lt=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function pt(Ut){for(var Lt=s(rt);Lt!==null;){if(Lt.callback===null)o(rt);else if(Lt.startTime<=Ut)o(rt),Lt.sortIndex=Lt.expirationTime,i(it,Lt);else break;Lt=s(rt)}}function vt(Ut){if(dt=!1,pt(Ut),!ct)if(s(it)!==null)ct=!0,Yt(gt);else{var Lt=s(rt);Lt!==null&&Ht(vt,Lt.startTime-Ut)}}function gt(Ut,Lt){ct=!1,dt&&(dt=!1,lt(bt),bt=-1),ut=!0;var zt=ot;try{for(pt(Lt),at=s(it);at!==null&&(!(at.expirationTime>Lt)||Ut&&!St());){var Zt=at.callback;if(typeof Zt=="function"){at.callback=null,ot=at.priorityLevel;var Ft=Zt(at.expirationTime<=Lt);Lt=a.unstable_now(),typeof Ft=="function"?at.callback=Ft:at===s(it)&&o(it),pt(Lt)}else o(it);at=s(it)}if(at!==null)var Et=!0;else{var Tt=s(rt);Tt!==null&&Ht(vt,Tt.startTime-Lt),Et=!1}return Et}finally{at=null,ot=zt,ut=!1}}var _t=!1,mt=null,bt=-1,Ct=5,Pt=-1;function St(){return!(a.unstable_now()-Pt<Ct)}function Mt(){if(mt!==null){var Ut=a.unstable_now();Pt=Ut;var Lt=!0;try{Lt=mt(!0,Ut)}finally{Lt?Dt():(_t=!1,mt=null)}}else _t=!1}var Dt;if(typeof ht=="function")Dt=function(){ht(Mt)};else if(typeof MessageChannel<"u"){var Qt=new MessageChannel,Xt=Qt.port2;Qt.port1.onmessage=Mt,Dt=function(){Xt.postMessage(null)}}else Dt=function(){ft(Mt,0)};function Yt(Ut){mt=Ut,_t||(_t=!0,Dt())}function Ht(Ut,Lt){bt=ft(function(){Ut(a.unstable_now())},Lt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(Ut){Ut.callback=null},a.unstable_continueExecution=function(){ct||ut||(ct=!0,Yt(gt))},a.unstable_forceFrameRate=function(Ut){0>Ut||125<Ut?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ct=0<Ut?Math.floor(1e3/Ut):5},a.unstable_getCurrentPriorityLevel=function(){return ot},a.unstable_getFirstCallbackNode=function(){return s(it)},a.unstable_next=function(Ut){switch(ot){case 1:case 2:case 3:var Lt=3;break;default:Lt=ot}var zt=ot;ot=Lt;try{return Ut()}finally{ot=zt}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(Ut,Lt){switch(Ut){case 1:case 2:case 3:case 4:case 5:break;default:Ut=3}var zt=ot;ot=Ut;try{return Lt()}finally{ot=zt}},a.unstable_scheduleCallback=function(Ut,Lt,zt){var Zt=a.unstable_now();switch(typeof zt=="object"&&zt!==null?(zt=zt.delay,zt=typeof zt=="number"&&0<zt?Zt+zt:Zt):zt=Zt,Ut){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=zt+Ft,Ut={id:st++,callback:Lt,priorityLevel:Ut,startTime:zt,expirationTime:Ft,sortIndex:-1},zt>Zt?(Ut.sortIndex=zt,i(rt,Ut),s(it)===null&&Ut===s(rt)&&(dt?(lt(bt),bt=-1):dt=!0,Ht(vt,zt-Zt))):(Ut.sortIndex=Ft,i(it,Ut),ct||ut||(ct=!0,Yt(gt))),Ut},a.unstable_shouldYield=St,a.unstable_wrapCallback=function(Ut){var Lt=ot;return function(){var zt=ot;ot=Lt;try{return Ut.apply(this,arguments)}finally{ot=zt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$1(a){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+a,s=1;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+a+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(a,i){ha(a,i),ha(a+"Capture",i)}function ha(a,i){for(ea[a]=i,a=0;a<i.length;a++)da.add(i[a])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(a){return ja.call(ma,a)?!0:ja.call(la,a)?!1:ka.test(a)?ma[a]=!0:(la[a]=!0,!1)}function pa(a,i,s,o){if(s!==null&&s.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return o?!1:s!==null?!s.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function qa(a,i,s,o){if(i===null||typeof i>"u"||pa(a,i,s,o))return!0;if(o)return!1;if(s!==null)switch(s.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function v$1(a,i,s,o,j,_e,et){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=o,this.attributeNamespace=j,this.mustUseProperty=s,this.propertyName=a,this.type=i,this.sanitizeURL=_e,this.removeEmptyString=et}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){z$1[a]=new v$1(a,0,!1,a,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var i=a[0];z$1[i]=new v$1(i,1,!1,a[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(a){z$1[a]=new v$1(a,2,!1,a.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){z$1[a]=new v$1(a,2,!1,a,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){z$1[a]=new v$1(a,3,!1,a.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(a){z$1[a]=new v$1(a,3,!0,a,null,!1,!1)});["capture","download"].forEach(function(a){z$1[a]=new v$1(a,4,!1,a,null,!1,!1)});["cols","rows","size","span"].forEach(function(a){z$1[a]=new v$1(a,6,!1,a,null,!1,!1)});["rowSpan","start"].forEach(function(a){z$1[a]=new v$1(a,5,!1,a.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var i=a.replace(ra,sa);z$1[i]=new v$1(i,1,!1,a,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var i=a.replace(ra,sa);z$1[i]=new v$1(i,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(a){var i=a.replace(ra,sa);z$1[i]=new v$1(i,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(a){z$1[a]=new v$1(a,1,!1,a.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(a){z$1[a]=new v$1(a,1,!1,a.toLowerCase(),null,!0,!0)});function ta(a,i,s,o){var j=z$1.hasOwnProperty(i)?z$1[i]:null;(j!==null?j.type!==0:o||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(qa(i,s,j,o)&&(s=null),o||j===null?oa(i)&&(s===null?a.removeAttribute(i):a.setAttribute(i,""+s)):j.mustUseProperty?a[j.propertyName]=s===null?j.type===3?!1:"":s:(i=j.attributeName,o=j.attributeNamespace,s===null?a.removeAttribute(i):(j=j.type,s=j===3||j===4&&s===!0?"":""+s,o?a.setAttributeNS(o,i,s):a.setAttribute(i,s))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(a){return a===null||typeof a!="object"?null:(a=Ja&&a[Ja]||a["@@iterator"],typeof a=="function"?a:null)}var A$1=Object.assign,La;function Ma(a){if(La===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);La=i&&i[1]||""}return`
`+La+a}var Na=!1;function Oa(a,i){if(!a||Na)return"";Na=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(rt){var o=rt}Reflect.construct(a,[],i)}else{try{i.call()}catch(rt){o=rt}a.call(i.prototype)}else{try{throw Error()}catch(rt){o=rt}a()}}catch(rt){if(rt&&o&&typeof rt.stack=="string"){for(var j=rt.stack.split(`
`),_e=o.stack.split(`
`),et=j.length-1,nt=_e.length-1;1<=et&&0<=nt&&j[et]!==_e[nt];)nt--;for(;1<=et&&0<=nt;et--,nt--)if(j[et]!==_e[nt]){if(et!==1||nt!==1)do if(et--,nt--,0>nt||j[et]!==_e[nt]){var it=`
`+j[et].replace(" at new "," at ");return a.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",a.displayName)),it}while(1<=et&&0<=nt);break}}}finally{Na=!1,Error.prepareStackTrace=s}return(a=a?a.displayName||a.name:"")?Ma(a):""}function Pa(a){switch(a.tag){case 5:return Ma(a.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return a=Oa(a.type,!1),a;case 11:return a=Oa(a.type.render,!1),a;case 1:return a=Oa(a.type,!0),a;default:return""}}function Qa(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case Ca:return(a.displayName||"Context")+".Consumer";case Ba:return(a._context.displayName||"Context")+".Provider";case Da:var i=a.render;return a=a.displayName,a||(a=i.displayName||i.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Ga:return i=a.displayName||null,i!==null?i:Qa(a.type)||"Memo";case Ha:i=a._payload,a=a._init;try{return Qa(a(i))}catch{}}return null}function Ra(a){var i=a.type;switch(a.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=i.render,a=a.displayName||a.name||"",i.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(i);case 8:return i===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Sa(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ta(a){var i=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ua(a){var i=Ta(a)?"checked":"value",s=Object.getOwnPropertyDescriptor(a.constructor.prototype,i),o=""+a[i];if(!a.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var j=s.get,_e=s.set;return Object.defineProperty(a,i,{configurable:!0,get:function(){return j.call(this)},set:function(et){o=""+et,_e.call(this,et)}}),Object.defineProperty(a,i,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(et){o=""+et},stopTracking:function(){a._valueTracker=null,delete a[i]}}}}function Va(a){a._valueTracker||(a._valueTracker=Ua(a))}function Wa(a){if(!a)return!1;var i=a._valueTracker;if(!i)return!0;var s=i.getValue(),o="";return a&&(o=Ta(a)?a.checked?"true":"false":a.value),a=o,a!==s?(i.setValue(a),!0):!1}function Xa(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Ya(a,i){var s=i.checked;return A$1({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??a._wrapperState.initialChecked})}function Za(a,i){var s=i.defaultValue==null?"":i.defaultValue,o=i.checked!=null?i.checked:i.defaultChecked;s=Sa(i.value!=null?i.value:s),a._wrapperState={initialChecked:o,initialValue:s,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function ab(a,i){i=i.checked,i!=null&&ta(a,"checked",i,!1)}function bb(a,i){ab(a,i);var s=Sa(i.value),o=i.type;if(s!=null)o==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+s):a.value!==""+s&&(a.value=""+s);else if(o==="submit"||o==="reset"){a.removeAttribute("value");return}i.hasOwnProperty("value")?cb(a,i.type,s):i.hasOwnProperty("defaultValue")&&cb(a,i.type,Sa(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(a.defaultChecked=!!i.defaultChecked)}function db(a,i,s){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var o=i.type;if(!(o!=="submit"&&o!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+a._wrapperState.initialValue,s||i===a.value||(a.value=i),a.defaultValue=i}s=a.name,s!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,s!==""&&(a.name=s)}function cb(a,i,s){(i!=="number"||Xa(a.ownerDocument)!==a)&&(s==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+s&&(a.defaultValue=""+s))}var eb=Array.isArray;function fb(a,i,s,o){if(a=a.options,i){i={};for(var j=0;j<s.length;j++)i["$"+s[j]]=!0;for(s=0;s<a.length;s++)j=i.hasOwnProperty("$"+a[s].value),a[s].selected!==j&&(a[s].selected=j),j&&o&&(a[s].defaultSelected=!0)}else{for(s=""+Sa(s),i=null,j=0;j<a.length;j++){if(a[j].value===s){a[j].selected=!0,o&&(a[j].defaultSelected=!0);return}i!==null||a[j].disabled||(i=a[j])}i!==null&&(i.selected=!0)}}function gb(a,i){if(i.dangerouslySetInnerHTML!=null)throw Error(p$1(91));return A$1({},i,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function hb(a,i){var s=i.value;if(s==null){if(s=i.children,i=i.defaultValue,s!=null){if(i!=null)throw Error(p$1(92));if(eb(s)){if(1<s.length)throw Error(p$1(93));s=s[0]}i=s}i==null&&(i=""),s=i}a._wrapperState={initialValue:Sa(s)}}function ib(a,i){var s=Sa(i.value),o=Sa(i.defaultValue);s!=null&&(s=""+s,s!==a.value&&(a.value=s),i.defaultValue==null&&a.defaultValue!==s&&(a.defaultValue=s)),o!=null&&(a.defaultValue=""+o)}function jb(a){var i=a.textContent;i===a._wrapperState.initialValue&&i!==""&&i!==null&&(a.value=i)}function kb(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(a,i){return a==null||a==="http://www.w3.org/1999/xhtml"?kb(i):a==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var mb,nb=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,s,o,j){MSApp.execUnsafeLocalFunction(function(){return a(i,s,o,j)})}:a}(function(a,i){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=i;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=mb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;i.firstChild;)a.appendChild(i.firstChild)}});function ob(a,i){if(i){var s=a.firstChild;if(s&&s===a.lastChild&&s.nodeType===3){s.nodeValue=i;return}}a.textContent=i}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(a){qb.forEach(function(i){i=i+a.charAt(0).toUpperCase()+a.substring(1),pb[i]=pb[a]})});function rb(a,i,s){return i==null||typeof i=="boolean"||i===""?"":s||typeof i!="number"||i===0||pb.hasOwnProperty(a)&&pb[a]?(""+i).trim():i+"px"}function sb(a,i){a=a.style;for(var s in i)if(i.hasOwnProperty(s)){var o=s.indexOf("--")===0,j=rb(s,i[s],o);s==="float"&&(s="cssFloat"),o?a.setProperty(s,j):a[s]=j}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(a,i){if(i){if(tb[a]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(p$1(137,a));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(p$1(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(p$1(61))}if(i.style!=null&&typeof i.style!="object")throw Error(p$1(62))}}function vb(a,i){if(a.indexOf("-")===-1)return typeof i.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var yb=null,zb=null,Ab=null;function Bb(a){if(a=Cb(a)){if(typeof yb!="function")throw Error(p$1(280));var i=a.stateNode;i&&(i=Db(i),yb(a.stateNode,a.type,i))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,i=Ab;if(Ab=zb=null,Bb(a),i)for(a=0;a<i.length;a++)Bb(i[a])}}function Gb(a,i){return a(i)}function Hb(){}var Ib=!1;function Jb(a,i,s){if(Ib)return a(i,s);Ib=!0;try{return Gb(a,i,s)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(a,i){var s=a.stateNode;if(s===null)return null;var o=Db(s);if(o===null)return null;s=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(a=a.type,o=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!o;break e;default:a=!1}if(a)return null;if(s&&typeof s!="function")throw Error(p$1(231,i,typeof s));return s}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(a,i,s,o,j,_e,et,nt,it){var rt=Array.prototype.slice.call(arguments,3);try{i.apply(s,rt)}catch(st){this.onError(st)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(a){Ob=!0,Pb=a}};function Tb(a,i,s,o,j,_e,et,nt,it){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(a,i,s,o,j,_e,et,nt,it){if(Tb.apply(this,arguments),Ob){if(Ob){var rt=Pb;Ob=!1,Pb=null}else throw Error(p$1(198));Qb||(Qb=!0,Rb=rt)}}function Vb(a){var i=a,s=a;if(a.alternate)for(;i.return;)i=i.return;else{a=i;do i=a,i.flags&4098&&(s=i.return),a=i.return;while(a)}return i.tag===3?s:null}function Wb(a){if(a.tag===13){var i=a.memoizedState;if(i===null&&(a=a.alternate,a!==null&&(i=a.memoizedState)),i!==null)return i.dehydrated}return null}function Xb(a){if(Vb(a)!==a)throw Error(p$1(188))}function Yb(a){var i=a.alternate;if(!i){if(i=Vb(a),i===null)throw Error(p$1(188));return i!==a?null:a}for(var s=a,o=i;;){var j=s.return;if(j===null)break;var _e=j.alternate;if(_e===null){if(o=j.return,o!==null){s=o;continue}break}if(j.child===_e.child){for(_e=j.child;_e;){if(_e===s)return Xb(j),a;if(_e===o)return Xb(j),i;_e=_e.sibling}throw Error(p$1(188))}if(s.return!==o.return)s=j,o=_e;else{for(var et=!1,nt=j.child;nt;){if(nt===s){et=!0,s=j,o=_e;break}if(nt===o){et=!0,o=j,s=_e;break}nt=nt.sibling}if(!et){for(nt=_e.child;nt;){if(nt===s){et=!0,s=_e,o=j;break}if(nt===o){et=!0,o=_e,s=j;break}nt=nt.sibling}if(!et)throw Error(p$1(189))}}if(s.alternate!==o)throw Error(p$1(190))}if(s.tag!==3)throw Error(p$1(188));return s.stateNode.current===s?a:i}function Zb(a){return a=Yb(a),a!==null?$b(a):null}function $b(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var i=$b(a);if(i!==null)return i;a=a.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(a){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,a,void 0,(a.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(a){return a>>>=0,a===0?32:31-(pc(a)/qc|0)|0}var rc=64,sc=4194304;function tc(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function uc(a,i){var s=a.pendingLanes;if(s===0)return 0;var o=0,j=a.suspendedLanes,_e=a.pingedLanes,et=s&268435455;if(et!==0){var nt=et&~j;nt!==0?o=tc(nt):(_e&=et,_e!==0&&(o=tc(_e)))}else et=s&~j,et!==0?o=tc(et):_e!==0&&(o=tc(_e));if(o===0)return 0;if(i!==0&&i!==o&&!(i&j)&&(j=o&-o,_e=i&-i,j>=_e||j===16&&(_e&4194240)!==0))return i;if(o&4&&(o|=s&16),i=a.entangledLanes,i!==0)for(a=a.entanglements,i&=o;0<i;)s=31-oc(i),j=1<<s,o|=a[s],i&=~j;return o}function vc(a,i){switch(a){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(a,i){for(var s=a.suspendedLanes,o=a.pingedLanes,j=a.expirationTimes,_e=a.pendingLanes;0<_e;){var et=31-oc(_e),nt=1<<et,it=j[et];it===-1?(!(nt&s)||nt&o)&&(j[et]=vc(nt,i)):it<=i&&(a.expiredLanes|=nt),_e&=~nt}}function xc(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function yc(){var a=rc;return rc<<=1,!(rc&4194240)&&(rc=64),a}function zc(a){for(var i=[],s=0;31>s;s++)i.push(a);return i}function Ac(a,i,s){a.pendingLanes|=i,i!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,i=31-oc(i),a[i]=s}function Bc(a,i){var s=a.pendingLanes&~i;a.pendingLanes=i,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=i,a.mutableReadLanes&=i,a.entangledLanes&=i,i=a.entanglements;var o=a.eventTimes;for(a=a.expirationTimes;0<s;){var j=31-oc(s),_e=1<<j;i[j]=0,o[j]=-1,a[j]=-1,s&=~_e}}function Cc(a,i){var s=a.entangledLanes|=i;for(a=a.entanglements;s;){var o=31-oc(s),j=1<<o;j&i|a[o]&i&&(a[o]|=i),s&=~j}}var C$1=0;function Dc(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(a,i){switch(a){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(i.pointerId)}}function Tc(a,i,s,o,j,_e){return a===null||a.nativeEvent!==_e?(a={blockedOn:i,domEventName:s,eventSystemFlags:o,nativeEvent:_e,targetContainers:[j]},i!==null&&(i=Cb(i),i!==null&&Fc(i)),a):(a.eventSystemFlags|=o,i=a.targetContainers,j!==null&&i.indexOf(j)===-1&&i.push(j),a)}function Uc(a,i,s,o,j){switch(i){case"focusin":return Lc=Tc(Lc,a,i,s,o,j),!0;case"dragenter":return Mc=Tc(Mc,a,i,s,o,j),!0;case"mouseover":return Nc=Tc(Nc,a,i,s,o,j),!0;case"pointerover":var _e=j.pointerId;return Oc.set(_e,Tc(Oc.get(_e)||null,a,i,s,o,j)),!0;case"gotpointercapture":return _e=j.pointerId,Pc.set(_e,Tc(Pc.get(_e)||null,a,i,s,o,j)),!0}return!1}function Vc(a){var i=Wc(a.target);if(i!==null){var s=Vb(i);if(s!==null){if(i=s.tag,i===13){if(i=Wb(s),i!==null){a.blockedOn=i,Ic(a.priority,function(){Gc(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){a.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Xc(a){if(a.blockedOn!==null)return!1;for(var i=a.targetContainers;0<i.length;){var s=Yc(a.domEventName,a.eventSystemFlags,i[0],a.nativeEvent);if(s===null){s=a.nativeEvent;var o=new s.constructor(s.type,s);wb=o,s.target.dispatchEvent(o),wb=null}else return i=Cb(s),i!==null&&Fc(i),a.blockedOn=s,!1;i.shift()}return!0}function Zc(a,i,s){Xc(a)&&s.delete(i)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(a,i){a.blockedOn===i&&(a.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(a){function i(j){return ad(j,a)}if(0<Kc.length){ad(Kc[0],a);for(var s=1;s<Kc.length;s++){var o=Kc[s];o.blockedOn===a&&(o.blockedOn=null)}}for(Lc!==null&&ad(Lc,a),Mc!==null&&ad(Mc,a),Nc!==null&&ad(Nc,a),Oc.forEach(i),Pc.forEach(i),s=0;s<Qc.length;s++)o=Qc[s],o.blockedOn===a&&(o.blockedOn=null);for(;0<Qc.length&&(s=Qc[0],s.blockedOn===null);)Vc(s),s.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(a,i,s,o){var j=C$1,_e=cd.transition;cd.transition=null;try{C$1=1,fd(a,i,s,o)}finally{C$1=j,cd.transition=_e}}function gd(a,i,s,o){var j=C$1,_e=cd.transition;cd.transition=null;try{C$1=4,fd(a,i,s,o)}finally{C$1=j,cd.transition=_e}}function fd(a,i,s,o){if(dd){var j=Yc(a,i,s,o);if(j===null)hd(a,i,o,id,s),Sc(a,o);else if(Uc(j,a,i,s,o))o.stopPropagation();else if(Sc(a,o),i&4&&-1<Rc.indexOf(a)){for(;j!==null;){var _e=Cb(j);if(_e!==null&&Ec(_e),_e=Yc(a,i,s,o),_e===null&&hd(a,i,o,id,s),_e===j)break;j=_e}j!==null&&o.stopPropagation()}else hd(a,i,o,null,s)}}var id=null;function Yc(a,i,s,o){if(id=null,a=xb(o),a=Wc(a),a!==null)if(i=Vb(a),i===null)a=null;else if(s=i.tag,s===13){if(a=Wb(i),a!==null)return a;a=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;a=null}else i!==a&&(a=null);return id=a,null}function jd(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var a,i=ld,s=i.length,o,j="value"in kd?kd.value:kd.textContent,_e=j.length;for(a=0;a<s&&i[a]===j[a];a++);var et=s-a;for(o=1;o<=et&&i[s-o]===j[_e-o];o++);return md=j.slice(a,1<o?1-o:void 0)}function od(a){var i=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&i===13&&(a=13)):a=i,a===10&&(a=13),32<=a||a===13?a:0}function pd(){return!0}function qd(){return!1}function rd(a){function i(s,o,j,_e,et){this._reactName=s,this._targetInst=j,this.type=o,this.nativeEvent=_e,this.target=et,this.currentTarget=null;for(var nt in a)a.hasOwnProperty(nt)&&(s=a[nt],this[nt]=s?s(_e):_e[nt]);return this.isDefaultPrevented=(_e.defaultPrevented!=null?_e.defaultPrevented:_e.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),i}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==yd&&(yd&&a.type==="mousemove"?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a),wd)},movementY:function(a){return"movementY"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(a){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(a):(a=Od[a])?!!i[a]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(a){if(a.key){var i=Md[a.key]||a.key;if(i!=="Unidentified")return i}return a.type==="keypress"?(a=od(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Nd[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return a.type==="keypress"?od(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?od(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(a,i){switch(a){case"keyup":return $d.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ie=!1;function je(a,i){switch(a){case"compositionend":return he(i);case"keypress":return i.which!==32?null:(fe=!0,ee);case"textInput":return a=i.data,a===ee&&fe?null:a;default:return null}}function ke(a,i){if(ie)return a==="compositionend"||!ae&&ge(a,i)?(a=nd(),md=ld=kd=null,ie=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return de&&i.locale!=="ko"?null:i.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i==="input"?!!le[a.type]:i==="textarea"}function ne(a,i,s,o){Eb(o),i=oe(i,"onChange"),0<i.length&&(s=new td("onChange","change",null,s,o),a.push({event:s,listeners:i}))}var pe=null,qe=null;function re(a){se(a,0)}function te(a){var i=ue(a);if(Wa(i))return a}function ve(a,i){if(a==="change")return i}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(a){if(a.propertyName==="value"&&te(qe)){var i=[];ne(i,qe,a,xb(a)),Jb(re,i)}}function Ce(a,i,s){a==="focusin"?(Ae(),pe=i,qe=s,pe.attachEvent("onpropertychange",Be)):a==="focusout"&&Ae()}function De(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return te(qe)}function Ee(a,i){if(a==="click")return te(i)}function Fe(a,i){if(a==="input"||a==="change")return te(i)}function Ge(a,i){return a===i&&(a!==0||1/a===1/i)||a!==a&&i!==i}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(a,i){if(He(a,i))return!0;if(typeof a!="object"||a===null||typeof i!="object"||i===null)return!1;var s=Object.keys(a),o=Object.keys(i);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var j=s[o];if(!ja.call(i,j)||!He(a[j],i[j]))return!1}return!0}function Je(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Ke(a,i){var s=Je(a);a=0;for(var o;s;){if(s.nodeType===3){if(o=a+s.textContent.length,a<=i&&o>=i)return{node:s,offset:i-a};a=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Je(s)}}function Le(a,i){return a&&i?a===i?!0:a&&a.nodeType===3?!1:i&&i.nodeType===3?Le(a,i.parentNode):"contains"in a?a.contains(i):a.compareDocumentPosition?!!(a.compareDocumentPosition(i)&16):!1:!1}function Me(){for(var a=window,i=Xa();i instanceof a.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)a=i.contentWindow;else break;i=Xa(a.document)}return i}function Ne(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i&&(i==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||i==="textarea"||a.contentEditable==="true")}function Oe(a){var i=Me(),s=a.focusedElem,o=a.selectionRange;if(i!==s&&s&&s.ownerDocument&&Le(s.ownerDocument.documentElement,s)){if(o!==null&&Ne(s)){if(i=o.start,a=o.end,a===void 0&&(a=i),"selectionStart"in s)s.selectionStart=i,s.selectionEnd=Math.min(a,s.value.length);else if(a=(i=s.ownerDocument||document)&&i.defaultView||window,a.getSelection){a=a.getSelection();var j=s.textContent.length,_e=Math.min(o.start,j);o=o.end===void 0?_e:Math.min(o.end,j),!a.extend&&_e>o&&(j=o,o=_e,_e=j),j=Ke(s,_e);var et=Ke(s,o);j&&et&&(a.rangeCount!==1||a.anchorNode!==j.node||a.anchorOffset!==j.offset||a.focusNode!==et.node||a.focusOffset!==et.offset)&&(i=i.createRange(),i.setStart(j.node,j.offset),a.removeAllRanges(),_e>o?(a.addRange(i),a.extend(et.node,et.offset)):(i.setEnd(et.node,et.offset),a.addRange(i)))}}for(i=[],a=s;a=a.parentNode;)a.nodeType===1&&i.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<i.length;s++)a=i[s],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(a,i,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Te||Qe==null||Qe!==Xa(o)||(o=Qe,"selectionStart"in o&&Ne(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Se&&Ie(Se,o)||(Se=o,o=oe(Re,"onSelect"),0<o.length&&(i=new td("onSelect","select",null,i,s),a.push({event:i,listeners:o}),i.target=Qe)))}function Ve(a,i){var s={};return s[a.toLowerCase()]=i.toLowerCase(),s["Webkit"+a]="webkit"+i,s["Moz"+a]="moz"+i,s}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(a){if(Xe[a])return Xe[a];if(!We[a])return a;var i=We[a],s;for(s in i)if(i.hasOwnProperty(s)&&s in Ye)return Xe[a]=i[s];return a}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(a,i){df.set(a,i),fa(i,[a])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(a,i,s){var o=a.type||"unknown-event";a.currentTarget=s,Ub(o,i,void 0,a),a.currentTarget=null}function se(a,i){i=(i&4)!==0;for(var s=0;s<a.length;s++){var o=a[s],j=o.event;o=o.listeners;e:{var _e=void 0;if(i)for(var et=o.length-1;0<=et;et--){var nt=o[et],it=nt.instance,rt=nt.currentTarget;if(nt=nt.listener,it!==_e&&j.isPropagationStopped())break e;nf(j,nt,rt),_e=it}else for(et=0;et<o.length;et++){if(nt=o[et],it=nt.instance,rt=nt.currentTarget,nt=nt.listener,it!==_e&&j.isPropagationStopped())break e;nf(j,nt,rt),_e=it}}}if(Qb)throw a=Rb,Qb=!1,Rb=null,a}function D$1(a,i){var s=i[of];s===void 0&&(s=i[of]=new Set);var o=a+"__bubble";s.has(o)||(pf(i,a,2,!1),s.add(o))}function qf(a,i,s){var o=0;i&&(o|=4),pf(s,a,o,i)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(a){if(!a[rf]){a[rf]=!0,da.forEach(function(s){s!=="selectionchange"&&(mf.has(s)||qf(s,!1,a),qf(s,!0,a))});var i=a.nodeType===9?a:a.ownerDocument;i===null||i[rf]||(i[rf]=!0,qf("selectionchange",!1,i))}}function pf(a,i,s,o){switch(jd(i)){case 1:var j=ed;break;case 4:j=gd;break;default:j=fd}s=j.bind(null,i,s,a),j=void 0,!Lb||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(j=!0),o?j!==void 0?a.addEventListener(i,s,{capture:!0,passive:j}):a.addEventListener(i,s,!0):j!==void 0?a.addEventListener(i,s,{passive:j}):a.addEventListener(i,s,!1)}function hd(a,i,s,o,j){var _e=o;if(!(i&1)&&!(i&2)&&o!==null)e:for(;;){if(o===null)return;var et=o.tag;if(et===3||et===4){var nt=o.stateNode.containerInfo;if(nt===j||nt.nodeType===8&&nt.parentNode===j)break;if(et===4)for(et=o.return;et!==null;){var it=et.tag;if((it===3||it===4)&&(it=et.stateNode.containerInfo,it===j||it.nodeType===8&&it.parentNode===j))return;et=et.return}for(;nt!==null;){if(et=Wc(nt),et===null)return;if(it=et.tag,it===5||it===6){o=_e=et;continue e}nt=nt.parentNode}}o=o.return}Jb(function(){var rt=_e,st=xb(s),at=[];e:{var ot=df.get(a);if(ot!==void 0){var ut=td,ct=a;switch(a){case"keypress":if(od(s)===0)break e;case"keydown":case"keyup":ut=Rd;break;case"focusin":ct="focus",ut=Fd;break;case"focusout":ct="blur",ut=Fd;break;case"beforeblur":case"afterblur":ut=Fd;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ut=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ut=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ut=Vd;break;case $e:case af:case bf:ut=Hd;break;case cf:ut=Xd;break;case"scroll":ut=vd;break;case"wheel":ut=Zd;break;case"copy":case"cut":case"paste":ut=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ut=Td}var dt=(i&4)!==0,ft=!dt&&a==="scroll",lt=dt?ot!==null?ot+"Capture":null:ot;dt=[];for(var ht=rt,pt;ht!==null;){pt=ht;var vt=pt.stateNode;if(pt.tag===5&&vt!==null&&(pt=vt,lt!==null&&(vt=Kb(ht,lt),vt!=null&&dt.push(tf(ht,vt,pt)))),ft)break;ht=ht.return}0<dt.length&&(ot=new ut(ot,ct,null,s,st),at.push({event:ot,listeners:dt}))}}if(!(i&7)){e:{if(ot=a==="mouseover"||a==="pointerover",ut=a==="mouseout"||a==="pointerout",ot&&s!==wb&&(ct=s.relatedTarget||s.fromElement)&&(Wc(ct)||ct[uf]))break e;if((ut||ot)&&(ot=st.window===st?st:(ot=st.ownerDocument)?ot.defaultView||ot.parentWindow:window,ut?(ct=s.relatedTarget||s.toElement,ut=rt,ct=ct?Wc(ct):null,ct!==null&&(ft=Vb(ct),ct!==ft||ct.tag!==5&&ct.tag!==6)&&(ct=null)):(ut=null,ct=rt),ut!==ct)){if(dt=Bd,vt="onMouseLeave",lt="onMouseEnter",ht="mouse",(a==="pointerout"||a==="pointerover")&&(dt=Td,vt="onPointerLeave",lt="onPointerEnter",ht="pointer"),ft=ut==null?ot:ue(ut),pt=ct==null?ot:ue(ct),ot=new dt(vt,ht+"leave",ut,s,st),ot.target=ft,ot.relatedTarget=pt,vt=null,Wc(st)===rt&&(dt=new dt(lt,ht+"enter",ct,s,st),dt.target=pt,dt.relatedTarget=ft,vt=dt),ft=vt,ut&&ct)t:{for(dt=ut,lt=ct,ht=0,pt=dt;pt;pt=vf(pt))ht++;for(pt=0,vt=lt;vt;vt=vf(vt))pt++;for(;0<ht-pt;)dt=vf(dt),ht--;for(;0<pt-ht;)lt=vf(lt),pt--;for(;ht--;){if(dt===lt||lt!==null&&dt===lt.alternate)break t;dt=vf(dt),lt=vf(lt)}dt=null}else dt=null;ut!==null&&wf(at,ot,ut,dt,!1),ct!==null&&ft!==null&&wf(at,ft,ct,dt,!0)}}e:{if(ot=rt?ue(rt):window,ut=ot.nodeName&&ot.nodeName.toLowerCase(),ut==="select"||ut==="input"&&ot.type==="file")var gt=ve;else if(me(ot))if(we)gt=Fe;else{gt=De;var _t=Ce}else(ut=ot.nodeName)&&ut.toLowerCase()==="input"&&(ot.type==="checkbox"||ot.type==="radio")&&(gt=Ee);if(gt&&(gt=gt(a,rt))){ne(at,gt,s,st);break e}_t&&_t(a,ot,rt),a==="focusout"&&(_t=ot._wrapperState)&&_t.controlled&&ot.type==="number"&&cb(ot,"number",ot.value)}switch(_t=rt?ue(rt):window,a){case"focusin":(me(_t)||_t.contentEditable==="true")&&(Qe=_t,Re=rt,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(at,s,st);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(at,s,st)}var mt;if(ae)e:{switch(a){case"compositionstart":var bt="onCompositionStart";break e;case"compositionend":bt="onCompositionEnd";break e;case"compositionupdate":bt="onCompositionUpdate";break e}bt=void 0}else ie?ge(a,s)&&(bt="onCompositionEnd"):a==="keydown"&&s.keyCode===229&&(bt="onCompositionStart");bt&&(de&&s.locale!=="ko"&&(ie||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&ie&&(mt=nd()):(kd=st,ld="value"in kd?kd.value:kd.textContent,ie=!0)),_t=oe(rt,bt),0<_t.length&&(bt=new Ld(bt,a,null,s,st),at.push({event:bt,listeners:_t}),mt?bt.data=mt:(mt=he(s),mt!==null&&(bt.data=mt)))),(mt=ce?je(a,s):ke(a,s))&&(rt=oe(rt,"onBeforeInput"),0<rt.length&&(st=new Ld("onBeforeInput","beforeinput",null,s,st),at.push({event:st,listeners:rt}),st.data=mt))}se(at,i)})}function tf(a,i,s){return{instance:a,listener:i,currentTarget:s}}function oe(a,i){for(var s=i+"Capture",o=[];a!==null;){var j=a,_e=j.stateNode;j.tag===5&&_e!==null&&(j=_e,_e=Kb(a,s),_e!=null&&o.unshift(tf(a,_e,j)),_e=Kb(a,i),_e!=null&&o.push(tf(a,_e,j))),a=a.return}return o}function vf(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function wf(a,i,s,o,j){for(var _e=i._reactName,et=[];s!==null&&s!==o;){var nt=s,it=nt.alternate,rt=nt.stateNode;if(it!==null&&it===o)break;nt.tag===5&&rt!==null&&(nt=rt,j?(it=Kb(s,_e),it!=null&&et.unshift(tf(s,it,nt))):j||(it=Kb(s,_e),it!=null&&et.push(tf(s,it,nt)))),s=s.return}et.length!==0&&a.push({event:i,listeners:et})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(a){return(typeof a=="string"?a:""+a).replace(xf,`
`).replace(yf,"")}function Af(a,i,s){if(i=zf(i),zf(a)!==i&&s)throw Error(p$1(425))}function Bf(){}var Cf=null,Df=null;function Ef(a,i){return a==="textarea"||a==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(a){return Hf.resolve(null).then(a).catch(If)}:Ff;function If(a){setTimeout(function(){throw a})}function Kf(a,i){var s=i,o=0;do{var j=s.nextSibling;if(a.removeChild(s),j&&j.nodeType===8)if(s=j.data,s==="/$"){if(o===0){a.removeChild(j),bd(i);return}o--}else s!=="$"&&s!=="$?"&&s!=="$!"||o++;s=j}while(s);bd(i)}function Lf(a){for(;a!=null;a=a.nextSibling){var i=a.nodeType;if(i===1||i===3)break;if(i===8){if(i=a.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return a}function Mf(a){a=a.previousSibling;for(var i=0;a;){if(a.nodeType===8){var s=a.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return a;i--}else s==="/$"&&i++}a=a.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(a){var i=a[Of];if(i)return i;for(var s=a.parentNode;s;){if(i=s[uf]||s[Of]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(a=Mf(a);a!==null;){if(s=a[Of])return s;a=Mf(a)}return i}a=s,s=a.parentNode}return null}function Cb(a){return a=a[Of]||a[uf],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function ue(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(p$1(33))}function Db(a){return a[Pf]||null}var Sf=[],Tf=-1;function Uf(a){return{current:a}}function E$1(a){0>Tf||(a.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(a,i){Tf++,Sf[Tf]=a.current,a.current=i}var Vf={},H$1=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(a,i){var s=a.type.contextTypes;if(!s)return Vf;var o=a.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===i)return o.__reactInternalMemoizedMaskedChildContext;var j={},_e;for(_e in s)j[_e]=i[_e];return o&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=i,a.__reactInternalMemoizedMaskedChildContext=j),j}function Zf(a){return a=a.childContextTypes,a!=null}function $f(){E$1(Wf),E$1(H$1)}function ag(a,i,s){if(H$1.current!==Vf)throw Error(p$1(168));G(H$1,i),G(Wf,s)}function bg(a,i,s){var o=a.stateNode;if(i=i.childContextTypes,typeof o.getChildContext!="function")return s;o=o.getChildContext();for(var j in o)if(!(j in i))throw Error(p$1(108,Ra(a)||"Unknown",j));return A$1({},s,o)}function cg(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$1.current,G(H$1,a),G(Wf,Wf.current),!0}function dg(a,i,s){var o=a.stateNode;if(!o)throw Error(p$1(169));s?(a=bg(a,i,Xf),o.__reactInternalMemoizedMergedChildContext=a,E$1(Wf),E$1(H$1),G(H$1,a)):E$1(Wf),G(Wf,s)}var eg=null,fg=!1,gg=!1;function hg(a){eg===null?eg=[a]:eg.push(a)}function ig(a){fg=!0,hg(a)}function jg(){if(!gg&&eg!==null){gg=!0;var a=0,i=C$1;try{var s=eg;for(C$1=1;a<s.length;a++){var o=s[a];do o=o(!0);while(o!==null)}eg=null,fg=!1}catch(j){throw eg!==null&&(eg=eg.slice(a+1)),ac(fc,jg),j}finally{C$1=i,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(a,i){kg[lg++]=ng,kg[lg++]=mg,mg=a,ng=i}function ug(a,i,s){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=a;var o=rg;a=sg;var j=32-oc(o)-1;o&=~(1<<j),s+=1;var _e=32-oc(i)+j;if(30<_e){var et=j-j%5;_e=(o&(1<<et)-1).toString(32),o>>=et,j-=et,rg=1<<32-oc(i)+j|s<<j|o,sg=_e+a}else rg=1<<_e|s<<j|o,sg=a}function vg(a){a.return!==null&&(tg(a,1),ug(a,1,0))}function wg(a){for(;a===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;a===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag(a,i){var s=Bg(5,null,null,0);s.elementType="DELETED",s.stateNode=i,s.return=a,i=a.deletions,i===null?(a.deletions=[s],a.flags|=16):i.push(s)}function Cg(a,i){switch(a.tag){case 5:var s=a.type;return i=i.nodeType!==1||s.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(a.stateNode=i,xg=a,yg=Lf(i.firstChild),!0):!1;case 6:return i=a.pendingProps===""||i.nodeType!==3?null:i,i!==null?(a.stateNode=i,xg=a,yg=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(s=qg!==null?{id:rg,overflow:sg}:null,a.memoizedState={dehydrated:i,treeContext:s,retryLane:1073741824},s=Bg(18,null,null,0),s.stateNode=i,s.return=a,a.child=s,xg=a,yg=null,!0):!1;default:return!1}}function Dg(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Eg(a){if(I$1){var i=yg;if(i){var s=i;if(!Cg(a,i)){if(Dg(a))throw Error(p$1(418));i=Lf(s.nextSibling);var o=xg;i&&Cg(a,i)?Ag(o,s):(a.flags=a.flags&-4097|2,I$1=!1,xg=a)}}else{if(Dg(a))throw Error(p$1(418));a.flags=a.flags&-4097|2,I$1=!1,xg=a}}}function Fg(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;xg=a}function Gg(a){if(a!==xg)return!1;if(!I$1)return Fg(a),I$1=!0,!1;var i;if((i=a.tag!==3)&&!(i=a.tag!==5)&&(i=a.type,i=i!=="head"&&i!=="body"&&!Ef(a.type,a.memoizedProps)),i&&(i=yg)){if(Dg(a))throw Hg(),Error(p$1(418));for(;i;)Ag(a,i),i=Lf(i.nextSibling)}if(Fg(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(p$1(317));e:{for(a=a.nextSibling,i=0;a;){if(a.nodeType===8){var s=a.data;if(s==="/$"){if(i===0){yg=Lf(a.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++}a=a.nextSibling}yg=null}}else yg=xg?Lf(a.stateNode.nextSibling):null;return!0}function Hg(){for(var a=yg;a;)a=Lf(a.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg(a){zg===null?zg=[a]:zg.push(a)}var Kg=ua.ReactCurrentBatchConfig;function Lg(a,i,s){if(a=s.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(p$1(309));var o=s.stateNode}if(!o)throw Error(p$1(147,a));var j=o,_e=""+a;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===_e?i.ref:(i=function(et){var nt=j.refs;et===null?delete nt[_e]:nt[_e]=et},i._stringRef=_e,i)}if(typeof a!="string")throw Error(p$1(284));if(!s._owner)throw Error(p$1(290,a))}return a}function Mg(a,i){throw a=Object.prototype.toString.call(i),Error(p$1(31,a==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":a))}function Ng(a){var i=a._init;return i(a._payload)}function Og(a){function i(lt,ht){if(a){var pt=lt.deletions;pt===null?(lt.deletions=[ht],lt.flags|=16):pt.push(ht)}}function s(lt,ht){if(!a)return null;for(;ht!==null;)i(lt,ht),ht=ht.sibling;return null}function o(lt,ht){for(lt=new Map;ht!==null;)ht.key!==null?lt.set(ht.key,ht):lt.set(ht.index,ht),ht=ht.sibling;return lt}function j(lt,ht){return lt=Pg(lt,ht),lt.index=0,lt.sibling=null,lt}function _e(lt,ht,pt){return lt.index=pt,a?(pt=lt.alternate,pt!==null?(pt=pt.index,pt<ht?(lt.flags|=2,ht):pt):(lt.flags|=2,ht)):(lt.flags|=1048576,ht)}function et(lt){return a&&lt.alternate===null&&(lt.flags|=2),lt}function nt(lt,ht,pt,vt){return ht===null||ht.tag!==6?(ht=Qg(pt,lt.mode,vt),ht.return=lt,ht):(ht=j(ht,pt),ht.return=lt,ht)}function it(lt,ht,pt,vt){var gt=pt.type;return gt===ya?st(lt,ht,pt.props.children,vt,pt.key):ht!==null&&(ht.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===Ha&&Ng(gt)===ht.type)?(vt=j(ht,pt.props),vt.ref=Lg(lt,ht,pt),vt.return=lt,vt):(vt=Rg(pt.type,pt.key,pt.props,null,lt.mode,vt),vt.ref=Lg(lt,ht,pt),vt.return=lt,vt)}function rt(lt,ht,pt,vt){return ht===null||ht.tag!==4||ht.stateNode.containerInfo!==pt.containerInfo||ht.stateNode.implementation!==pt.implementation?(ht=Sg(pt,lt.mode,vt),ht.return=lt,ht):(ht=j(ht,pt.children||[]),ht.return=lt,ht)}function st(lt,ht,pt,vt,gt){return ht===null||ht.tag!==7?(ht=Tg(pt,lt.mode,vt,gt),ht.return=lt,ht):(ht=j(ht,pt),ht.return=lt,ht)}function at(lt,ht,pt){if(typeof ht=="string"&&ht!==""||typeof ht=="number")return ht=Qg(""+ht,lt.mode,pt),ht.return=lt,ht;if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case va:return pt=Rg(ht.type,ht.key,ht.props,null,lt.mode,pt),pt.ref=Lg(lt,null,ht),pt.return=lt,pt;case wa:return ht=Sg(ht,lt.mode,pt),ht.return=lt,ht;case Ha:var vt=ht._init;return at(lt,vt(ht._payload),pt)}if(eb(ht)||Ka(ht))return ht=Tg(ht,lt.mode,pt,null),ht.return=lt,ht;Mg(lt,ht)}return null}function ot(lt,ht,pt,vt){var gt=ht!==null?ht.key:null;if(typeof pt=="string"&&pt!==""||typeof pt=="number")return gt!==null?null:nt(lt,ht,""+pt,vt);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case va:return pt.key===gt?it(lt,ht,pt,vt):null;case wa:return pt.key===gt?rt(lt,ht,pt,vt):null;case Ha:return gt=pt._init,ot(lt,ht,gt(pt._payload),vt)}if(eb(pt)||Ka(pt))return gt!==null?null:st(lt,ht,pt,vt,null);Mg(lt,pt)}return null}function ut(lt,ht,pt,vt,gt){if(typeof vt=="string"&&vt!==""||typeof vt=="number")return lt=lt.get(pt)||null,nt(ht,lt,""+vt,gt);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case va:return lt=lt.get(vt.key===null?pt:vt.key)||null,it(ht,lt,vt,gt);case wa:return lt=lt.get(vt.key===null?pt:vt.key)||null,rt(ht,lt,vt,gt);case Ha:var _t=vt._init;return ut(lt,ht,pt,_t(vt._payload),gt)}if(eb(vt)||Ka(vt))return lt=lt.get(pt)||null,st(ht,lt,vt,gt,null);Mg(ht,vt)}return null}function ct(lt,ht,pt,vt){for(var gt=null,_t=null,mt=ht,bt=ht=0,Ct=null;mt!==null&&bt<pt.length;bt++){mt.index>bt?(Ct=mt,mt=null):Ct=mt.sibling;var Pt=ot(lt,mt,pt[bt],vt);if(Pt===null){mt===null&&(mt=Ct);break}a&&mt&&Pt.alternate===null&&i(lt,mt),ht=_e(Pt,ht,bt),_t===null?gt=Pt:_t.sibling=Pt,_t=Pt,mt=Ct}if(bt===pt.length)return s(lt,mt),I$1&&tg(lt,bt),gt;if(mt===null){for(;bt<pt.length;bt++)mt=at(lt,pt[bt],vt),mt!==null&&(ht=_e(mt,ht,bt),_t===null?gt=mt:_t.sibling=mt,_t=mt);return I$1&&tg(lt,bt),gt}for(mt=o(lt,mt);bt<pt.length;bt++)Ct=ut(mt,lt,bt,pt[bt],vt),Ct!==null&&(a&&Ct.alternate!==null&&mt.delete(Ct.key===null?bt:Ct.key),ht=_e(Ct,ht,bt),_t===null?gt=Ct:_t.sibling=Ct,_t=Ct);return a&&mt.forEach(function(St){return i(lt,St)}),I$1&&tg(lt,bt),gt}function dt(lt,ht,pt,vt){var gt=Ka(pt);if(typeof gt!="function")throw Error(p$1(150));if(pt=gt.call(pt),pt==null)throw Error(p$1(151));for(var _t=gt=null,mt=ht,bt=ht=0,Ct=null,Pt=pt.next();mt!==null&&!Pt.done;bt++,Pt=pt.next()){mt.index>bt?(Ct=mt,mt=null):Ct=mt.sibling;var St=ot(lt,mt,Pt.value,vt);if(St===null){mt===null&&(mt=Ct);break}a&&mt&&St.alternate===null&&i(lt,mt),ht=_e(St,ht,bt),_t===null?gt=St:_t.sibling=St,_t=St,mt=Ct}if(Pt.done)return s(lt,mt),I$1&&tg(lt,bt),gt;if(mt===null){for(;!Pt.done;bt++,Pt=pt.next())Pt=at(lt,Pt.value,vt),Pt!==null&&(ht=_e(Pt,ht,bt),_t===null?gt=Pt:_t.sibling=Pt,_t=Pt);return I$1&&tg(lt,bt),gt}for(mt=o(lt,mt);!Pt.done;bt++,Pt=pt.next())Pt=ut(mt,lt,bt,Pt.value,vt),Pt!==null&&(a&&Pt.alternate!==null&&mt.delete(Pt.key===null?bt:Pt.key),ht=_e(Pt,ht,bt),_t===null?gt=Pt:_t.sibling=Pt,_t=Pt);return a&&mt.forEach(function(Mt){return i(lt,Mt)}),I$1&&tg(lt,bt),gt}function ft(lt,ht,pt,vt){if(typeof pt=="object"&&pt!==null&&pt.type===ya&&pt.key===null&&(pt=pt.props.children),typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case va:e:{for(var gt=pt.key,_t=ht;_t!==null;){if(_t.key===gt){if(gt=pt.type,gt===ya){if(_t.tag===7){s(lt,_t.sibling),ht=j(_t,pt.props.children),ht.return=lt,lt=ht;break e}}else if(_t.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===Ha&&Ng(gt)===_t.type){s(lt,_t.sibling),ht=j(_t,pt.props),ht.ref=Lg(lt,_t,pt),ht.return=lt,lt=ht;break e}s(lt,_t);break}else i(lt,_t);_t=_t.sibling}pt.type===ya?(ht=Tg(pt.props.children,lt.mode,vt,pt.key),ht.return=lt,lt=ht):(vt=Rg(pt.type,pt.key,pt.props,null,lt.mode,vt),vt.ref=Lg(lt,ht,pt),vt.return=lt,lt=vt)}return et(lt);case wa:e:{for(_t=pt.key;ht!==null;){if(ht.key===_t)if(ht.tag===4&&ht.stateNode.containerInfo===pt.containerInfo&&ht.stateNode.implementation===pt.implementation){s(lt,ht.sibling),ht=j(ht,pt.children||[]),ht.return=lt,lt=ht;break e}else{s(lt,ht);break}else i(lt,ht);ht=ht.sibling}ht=Sg(pt,lt.mode,vt),ht.return=lt,lt=ht}return et(lt);case Ha:return _t=pt._init,ft(lt,ht,_t(pt._payload),vt)}if(eb(pt))return ct(lt,ht,pt,vt);if(Ka(pt))return dt(lt,ht,pt,vt);Mg(lt,pt)}return typeof pt=="string"&&pt!==""||typeof pt=="number"?(pt=""+pt,ht!==null&&ht.tag===6?(s(lt,ht.sibling),ht=j(ht,pt),ht.return=lt,lt=ht):(s(lt,ht),ht=Qg(pt,lt.mode,vt),ht.return=lt,lt=ht),et(lt)):s(lt,ht)}return ft}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(a){var i=Wg.current;E$1(Wg),a._currentValue=i}function bh(a,i,s){for(;a!==null;){var o=a.alternate;if((a.childLanes&i)!==i?(a.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),a===s)break;a=a.return}}function ch(a,i){Xg=a,Zg=Yg=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&i&&(dh=!0),a.firstContext=null)}function eh(a){var i=a._currentValue;if(Zg!==a)if(a={context:a,memoizedValue:i,next:null},Yg===null){if(Xg===null)throw Error(p$1(308));Yg=a,Xg.dependencies={lanes:0,firstContext:a}}else Yg=Yg.next=a;return i}var fh=null;function gh(a){fh===null?fh=[a]:fh.push(a)}function hh(a,i,s,o){var j=i.interleaved;return j===null?(s.next=s,gh(i)):(s.next=j.next,j.next=s),i.interleaved=s,ih(a,o)}function ih(a,i){a.lanes|=i;var s=a.alternate;for(s!==null&&(s.lanes|=i),s=a,a=a.return;a!==null;)a.childLanes|=i,s=a.alternate,s!==null&&(s.childLanes|=i),s=a,a=a.return;return s.tag===3?s.stateNode:null}var jh=!1;function kh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(a,i){a=a.updateQueue,i.updateQueue===a&&(i.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function mh(a,i){return{eventTime:a,lane:i,tag:0,payload:null,callback:null,next:null}}function nh(a,i,s){var o=a.updateQueue;if(o===null)return null;if(o=o.shared,K&2){var j=o.pending;return j===null?i.next=i:(i.next=j.next,j.next=i),o.pending=i,ih(a,s)}return j=o.interleaved,j===null?(i.next=i,gh(o)):(i.next=j.next,j.next=i),o.interleaved=i,ih(a,s)}function oh(a,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194240)!==0)){var o=i.lanes;o&=a.pendingLanes,s|=o,i.lanes=s,Cc(a,s)}}function ph(a,i){var s=a.updateQueue,o=a.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var j=null,_e=null;if(s=s.firstBaseUpdate,s!==null){do{var et={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};_e===null?j=_e=et:_e=_e.next=et,s=s.next}while(s!==null);_e===null?j=_e=i:_e=_e.next=i}else j=_e=i;s={baseState:o.baseState,firstBaseUpdate:j,lastBaseUpdate:_e,shared:o.shared,effects:o.effects},a.updateQueue=s;return}a=s.lastBaseUpdate,a===null?s.firstBaseUpdate=i:a.next=i,s.lastBaseUpdate=i}function qh(a,i,s,o){var j=a.updateQueue;jh=!1;var _e=j.firstBaseUpdate,et=j.lastBaseUpdate,nt=j.shared.pending;if(nt!==null){j.shared.pending=null;var it=nt,rt=it.next;it.next=null,et===null?_e=rt:et.next=rt,et=it;var st=a.alternate;st!==null&&(st=st.updateQueue,nt=st.lastBaseUpdate,nt!==et&&(nt===null?st.firstBaseUpdate=rt:nt.next=rt,st.lastBaseUpdate=it))}if(_e!==null){var at=j.baseState;et=0,st=rt=it=null,nt=_e;do{var ot=nt.lane,ut=nt.eventTime;if((o&ot)===ot){st!==null&&(st=st.next={eventTime:ut,lane:0,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null});e:{var ct=a,dt=nt;switch(ot=i,ut=s,dt.tag){case 1:if(ct=dt.payload,typeof ct=="function"){at=ct.call(ut,at,ot);break e}at=ct;break e;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=dt.payload,ot=typeof ct=="function"?ct.call(ut,at,ot):ct,ot==null)break e;at=A$1({},at,ot);break e;case 2:jh=!0}}nt.callback!==null&&nt.lane!==0&&(a.flags|=64,ot=j.effects,ot===null?j.effects=[nt]:ot.push(nt))}else ut={eventTime:ut,lane:ot,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null},st===null?(rt=st=ut,it=at):st=st.next=ut,et|=ot;if(nt=nt.next,nt===null){if(nt=j.shared.pending,nt===null)break;ot=nt,nt=ot.next,ot.next=null,j.lastBaseUpdate=ot,j.shared.pending=null}}while(!0);if(st===null&&(it=at),j.baseState=it,j.firstBaseUpdate=rt,j.lastBaseUpdate=st,i=j.shared.interleaved,i!==null){j=i;do et|=j.lane,j=j.next;while(j!==i)}else _e===null&&(j.shared.lanes=0);rh|=et,a.lanes=et,a.memoizedState=at}}function sh(a,i,s){if(a=i.effects,i.effects=null,a!==null)for(i=0;i<a.length;i++){var o=a[i],j=o.callback;if(j!==null){if(o.callback=null,o=s,typeof j!="function")throw Error(p$1(191,j));j.call(o)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(a){if(a===th)throw Error(p$1(174));return a}function yh(a,i){switch(G(wh,i),G(vh,a),G(uh,th),a=i.nodeType,a){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:lb(null,"");break;default:a=a===8?i.parentNode:i,i=a.namespaceURI||null,a=a.tagName,i=lb(i,a)}E$1(uh),G(uh,i)}function zh(){E$1(uh),E$1(vh),E$1(wh)}function Ah(a){xh(wh.current);var i=xh(uh.current),s=lb(i,a.type);i!==s&&(G(vh,a),G(uh,s))}function Bh(a){vh.current===a&&(E$1(uh),E$1(vh))}var L$1=Uf(0);function Ch(a){for(var i=a;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Dh=[];function Eh(){for(var a=0;a<Dh.length;a++)Dh[a]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$1=null,N$1=null,O$1=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$1(){throw Error(p$1(321))}function Mh(a,i){if(i===null)return!1;for(var s=0;s<i.length&&s<a.length;s++)if(!He(a[s],i[s]))return!1;return!0}function Nh(a,i,s,o,j,_e){if(Hh=_e,M$1=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Fh.current=a===null||a.memoizedState===null?Oh:Ph,a=s(o,j),Jh){_e=0;do{if(Jh=!1,Kh=0,25<=_e)throw Error(p$1(301));_e+=1,O$1=N$1=null,i.updateQueue=null,Fh.current=Qh,a=s(o,j)}while(Jh)}if(Fh.current=Rh,i=N$1!==null&&N$1.next!==null,Hh=0,O$1=N$1=M$1=null,Ih=!1,i)throw Error(p$1(300));return a}function Sh(){var a=Kh!==0;return Kh=0,a}function Th(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$1===null?M$1.memoizedState=O$1=a:O$1=O$1.next=a,O$1}function Uh(){if(N$1===null){var a=M$1.alternate;a=a!==null?a.memoizedState:null}else a=N$1.next;var i=O$1===null?M$1.memoizedState:O$1.next;if(i!==null)O$1=i,N$1=a;else{if(a===null)throw Error(p$1(310));N$1=a,a={memoizedState:N$1.memoizedState,baseState:N$1.baseState,baseQueue:N$1.baseQueue,queue:N$1.queue,next:null},O$1===null?M$1.memoizedState=O$1=a:O$1=O$1.next=a}return O$1}function Vh(a,i){return typeof i=="function"?i(a):i}function Wh(a){var i=Uh(),s=i.queue;if(s===null)throw Error(p$1(311));s.lastRenderedReducer=a;var o=N$1,j=o.baseQueue,_e=s.pending;if(_e!==null){if(j!==null){var et=j.next;j.next=_e.next,_e.next=et}o.baseQueue=j=_e,s.pending=null}if(j!==null){_e=j.next,o=o.baseState;var nt=et=null,it=null,rt=_e;do{var st=rt.lane;if((Hh&st)===st)it!==null&&(it=it.next={lane:0,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null}),o=rt.hasEagerState?rt.eagerState:a(o,rt.action);else{var at={lane:st,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null};it===null?(nt=it=at,et=o):it=it.next=at,M$1.lanes|=st,rh|=st}rt=rt.next}while(rt!==null&&rt!==_e);it===null?et=o:it.next=nt,He(o,i.memoizedState)||(dh=!0),i.memoizedState=o,i.baseState=et,i.baseQueue=it,s.lastRenderedState=o}if(a=s.interleaved,a!==null){j=a;do _e=j.lane,M$1.lanes|=_e,rh|=_e,j=j.next;while(j!==a)}else j===null&&(s.lanes=0);return[i.memoizedState,s.dispatch]}function Xh(a){var i=Uh(),s=i.queue;if(s===null)throw Error(p$1(311));s.lastRenderedReducer=a;var o=s.dispatch,j=s.pending,_e=i.memoizedState;if(j!==null){s.pending=null;var et=j=j.next;do _e=a(_e,et.action),et=et.next;while(et!==j);He(_e,i.memoizedState)||(dh=!0),i.memoizedState=_e,i.baseQueue===null&&(i.baseState=_e),s.lastRenderedState=_e}return[_e,o]}function Yh(){}function Zh(a,i){var s=M$1,o=Uh(),j=i(),_e=!He(o.memoizedState,j);if(_e&&(o.memoizedState=j,dh=!0),o=o.queue,$h(ai.bind(null,s,o,a),[a]),o.getSnapshot!==i||_e||O$1!==null&&O$1.memoizedState.tag&1){if(s.flags|=2048,bi(9,ci.bind(null,s,o,j,i),void 0,null),Q$1===null)throw Error(p$1(349));Hh&30||di(s,i,j)}return j}function di(a,i,s){a.flags|=16384,a={getSnapshot:i,value:s},i=M$1.updateQueue,i===null?(i={lastEffect:null,stores:null},M$1.updateQueue=i,i.stores=[a]):(s=i.stores,s===null?i.stores=[a]:s.push(a))}function ci(a,i,s,o){i.value=s,i.getSnapshot=o,ei(i)&&fi(a)}function ai(a,i,s){return s(function(){ei(i)&&fi(a)})}function ei(a){var i=a.getSnapshot;a=a.value;try{var s=i();return!He(a,s)}catch{return!0}}function fi(a){var i=ih(a,1);i!==null&&gi(i,a,1,-1)}function hi(a){var i=Th();return typeof a=="function"&&(a=a()),i.memoizedState=i.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:a},i.queue=a,a=a.dispatch=ii.bind(null,M$1,a),[i.memoizedState,a]}function bi(a,i,s,o){return a={tag:a,create:i,destroy:s,deps:o,next:null},i=M$1.updateQueue,i===null?(i={lastEffect:null,stores:null},M$1.updateQueue=i,i.lastEffect=a.next=a):(s=i.lastEffect,s===null?i.lastEffect=a.next=a:(o=s.next,s.next=a,a.next=o,i.lastEffect=a)),a}function ji(){return Uh().memoizedState}function ki(a,i,s,o){var j=Th();M$1.flags|=a,j.memoizedState=bi(1|i,s,void 0,o===void 0?null:o)}function li(a,i,s,o){var j=Uh();o=o===void 0?null:o;var _e=void 0;if(N$1!==null){var et=N$1.memoizedState;if(_e=et.destroy,o!==null&&Mh(o,et.deps)){j.memoizedState=bi(i,s,_e,o);return}}M$1.flags|=a,j.memoizedState=bi(1|i,s,_e,o)}function mi(a,i){return ki(8390656,8,a,i)}function $h(a,i){return li(2048,8,a,i)}function ni(a,i){return li(4,2,a,i)}function oi(a,i){return li(4,4,a,i)}function pi(a,i){if(typeof i=="function")return a=a(),i(a),function(){i(null)};if(i!=null)return a=a(),i.current=a,function(){i.current=null}}function qi(a,i,s){return s=s!=null?s.concat([a]):null,li(4,4,pi.bind(null,i,a),s)}function ri(){}function si(a,i){var s=Uh();i=i===void 0?null:i;var o=s.memoizedState;return o!==null&&i!==null&&Mh(i,o[1])?o[0]:(s.memoizedState=[a,i],a)}function ti(a,i){var s=Uh();i=i===void 0?null:i;var o=s.memoizedState;return o!==null&&i!==null&&Mh(i,o[1])?o[0]:(a=a(),s.memoizedState=[a,i],a)}function ui(a,i,s){return Hh&21?(He(s,i)||(s=yc(),M$1.lanes|=s,rh|=s,a.baseState=!0),i):(a.baseState&&(a.baseState=!1,dh=!0),a.memoizedState=s)}function vi(a,i){var s=C$1;C$1=s!==0&&4>s?s:4,a(!0);var o=Gh.transition;Gh.transition={};try{a(!1),i()}finally{C$1=s,Gh.transition=o}}function wi(){return Uh().memoizedState}function xi(a,i,s){var o=yi(a);if(s={lane:o,action:s,hasEagerState:!1,eagerState:null,next:null},zi(a))Ai(i,s);else if(s=hh(a,i,s,o),s!==null){var j=R$1();gi(s,a,o,j),Bi(s,i,o)}}function ii(a,i,s){var o=yi(a),j={lane:o,action:s,hasEagerState:!1,eagerState:null,next:null};if(zi(a))Ai(i,j);else{var _e=a.alternate;if(a.lanes===0&&(_e===null||_e.lanes===0)&&(_e=i.lastRenderedReducer,_e!==null))try{var et=i.lastRenderedState,nt=_e(et,s);if(j.hasEagerState=!0,j.eagerState=nt,He(nt,et)){var it=i.interleaved;it===null?(j.next=j,gh(i)):(j.next=it.next,it.next=j),i.interleaved=j;return}}catch{}finally{}s=hh(a,i,j,o),s!==null&&(j=R$1(),gi(s,a,o,j),Bi(s,i,o))}}function zi(a){var i=a.alternate;return a===M$1||i!==null&&i===M$1}function Ai(a,i){Jh=Ih=!0;var s=a.pending;s===null?i.next=i:(i.next=s.next,s.next=i),a.pending=i}function Bi(a,i,s){if(s&4194240){var o=i.lanes;o&=a.pendingLanes,s|=o,i.lanes=s,Cc(a,s)}}var Rh={readContext:eh,useCallback:P$1,useContext:P$1,useEffect:P$1,useImperativeHandle:P$1,useInsertionEffect:P$1,useLayoutEffect:P$1,useMemo:P$1,useReducer:P$1,useRef:P$1,useState:P$1,useDebugValue:P$1,useDeferredValue:P$1,useTransition:P$1,useMutableSource:P$1,useSyncExternalStore:P$1,useId:P$1,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(a,i){return Th().memoizedState=[a,i===void 0?null:i],a},useContext:eh,useEffect:mi,useImperativeHandle:function(a,i,s){return s=s!=null?s.concat([a]):null,ki(4194308,4,pi.bind(null,i,a),s)},useLayoutEffect:function(a,i){return ki(4194308,4,a,i)},useInsertionEffect:function(a,i){return ki(4,2,a,i)},useMemo:function(a,i){var s=Th();return i=i===void 0?null:i,a=a(),s.memoizedState=[a,i],a},useReducer:function(a,i,s){var o=Th();return i=s!==void 0?s(i):i,o.memoizedState=o.baseState=i,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:i},o.queue=a,a=a.dispatch=xi.bind(null,M$1,a),[o.memoizedState,a]},useRef:function(a){var i=Th();return a={current:a},i.memoizedState=a},useState:hi,useDebugValue:ri,useDeferredValue:function(a){return Th().memoizedState=a},useTransition:function(){var a=hi(!1),i=a[0];return a=vi.bind(null,a[1]),Th().memoizedState=a,[i,a]},useMutableSource:function(){},useSyncExternalStore:function(a,i,s){var o=M$1,j=Th();if(I$1){if(s===void 0)throw Error(p$1(407));s=s()}else{if(s=i(),Q$1===null)throw Error(p$1(349));Hh&30||di(o,i,s)}j.memoizedState=s;var _e={value:s,getSnapshot:i};return j.queue=_e,mi(ai.bind(null,o,_e,a),[a]),o.flags|=2048,bi(9,ci.bind(null,o,_e,s,i),void 0,null),s},useId:function(){var a=Th(),i=Q$1.identifierPrefix;if(I$1){var s=sg,o=rg;s=(o&~(1<<32-oc(o)-1)).toString(32)+s,i=":"+i+"R"+s,s=Kh++,0<s&&(i+="H"+s.toString(32)),i+=":"}else s=Lh++,i=":"+i+"r"+s.toString(32)+":";return a.memoizedState=i},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(a){var i=Uh();return ui(i,N$1.memoizedState,a)},useTransition:function(){var a=Wh(Vh)[0],i=Uh().memoizedState;return[a,i]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(a){var i=Uh();return N$1===null?i.memoizedState=a:ui(i,N$1.memoizedState,a)},useTransition:function(){var a=Xh(Vh)[0],i=Uh().memoizedState;return[a,i]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(a,i){if(a&&a.defaultProps){i=A$1({},i),a=a.defaultProps;for(var s in a)i[s]===void 0&&(i[s]=a[s]);return i}return i}function Di(a,i,s,o){i=a.memoizedState,s=s(o,i),s=s==null?i:A$1({},i,s),a.memoizedState=s,a.lanes===0&&(a.updateQueue.baseState=s)}var Ei={isMounted:function(a){return(a=a._reactInternals)?Vb(a)===a:!1},enqueueSetState:function(a,i,s){a=a._reactInternals;var o=R$1(),j=yi(a),_e=mh(o,j);_e.payload=i,s!=null&&(_e.callback=s),i=nh(a,_e,j),i!==null&&(gi(i,a,j,o),oh(i,a,j))},enqueueReplaceState:function(a,i,s){a=a._reactInternals;var o=R$1(),j=yi(a),_e=mh(o,j);_e.tag=1,_e.payload=i,s!=null&&(_e.callback=s),i=nh(a,_e,j),i!==null&&(gi(i,a,j,o),oh(i,a,j))},enqueueForceUpdate:function(a,i){a=a._reactInternals;var s=R$1(),o=yi(a),j=mh(s,o);j.tag=2,i!=null&&(j.callback=i),i=nh(a,j,o),i!==null&&(gi(i,a,o,s),oh(i,a,o))}};function Fi(a,i,s,o,j,_e,et){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(o,_e,et):i.prototype&&i.prototype.isPureReactComponent?!Ie(s,o)||!Ie(j,_e):!0}function Gi(a,i,s){var o=!1,j=Vf,_e=i.contextType;return typeof _e=="object"&&_e!==null?_e=eh(_e):(j=Zf(i)?Xf:H$1.current,o=i.contextTypes,_e=(o=o!=null)?Yf(a,j):Vf),i=new i(s,_e),a.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ei,a.stateNode=i,i._reactInternals=a,o&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=j,a.__reactInternalMemoizedMaskedChildContext=_e),i}function Hi(a,i,s,o){a=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,o),i.state!==a&&Ei.enqueueReplaceState(i,i.state,null)}function Ii(a,i,s,o){var j=a.stateNode;j.props=s,j.state=a.memoizedState,j.refs={},kh(a);var _e=i.contextType;typeof _e=="object"&&_e!==null?j.context=eh(_e):(_e=Zf(i)?Xf:H$1.current,j.context=Yf(a,_e)),j.state=a.memoizedState,_e=i.getDerivedStateFromProps,typeof _e=="function"&&(Di(a,i,_e,s),j.state=a.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(i=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),i!==j.state&&Ei.enqueueReplaceState(j,j.state,null),qh(a,s,j,o),j.state=a.memoizedState),typeof j.componentDidMount=="function"&&(a.flags|=4194308)}function Ji(a,i){try{var s="",o=i;do s+=Pa(o),o=o.return;while(o);var j=s}catch(_e){j=`
Error generating stack: `+_e.message+`
`+_e.stack}return{value:a,source:i,stack:j,digest:null}}function Ki(a,i,s){return{value:a,source:null,stack:s??null,digest:i??null}}function Li(a,i){try{console.error(i.value)}catch(s){setTimeout(function(){throw s})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(a,i,s){s=mh(-1,s),s.tag=3,s.payload={element:null};var o=i.value;return s.callback=function(){Oi||(Oi=!0,Pi=o),Li(a,i)},s}function Qi(a,i,s){s=mh(-1,s),s.tag=3;var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var j=i.value;s.payload=function(){return o(j)},s.callback=function(){Li(a,i)}}var _e=a.stateNode;return _e!==null&&typeof _e.componentDidCatch=="function"&&(s.callback=function(){Li(a,i),typeof o!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var et=i.stack;this.componentDidCatch(i.value,{componentStack:et!==null?et:""})}),s}function Si(a,i,s){var o=a.pingCache;if(o===null){o=a.pingCache=new Mi;var j=new Set;o.set(i,j)}else j=o.get(i),j===void 0&&(j=new Set,o.set(i,j));j.has(s)||(j.add(s),a=Ti.bind(null,a,i,s),i.then(a,a))}function Ui(a){do{var i;if((i=a.tag===13)&&(i=a.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return a;a=a.return}while(a!==null);return null}function Vi(a,i,s,o,j){return a.mode&1?(a.flags|=65536,a.lanes=j,a):(a===i?a.flags|=65536:(a.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(i=mh(-1,1),i.tag=2,nh(s,i,1))),s.lanes|=1),a)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(a,i,s,o){i.child=a===null?Vg(i,null,s,o):Ug(i,a.child,s,o)}function Yi(a,i,s,o,j){s=s.render;var _e=i.ref;return ch(i,j),o=Nh(a,i,s,o,_e,j),s=Sh(),a!==null&&!dh?(i.updateQueue=a.updateQueue,i.flags&=-2053,a.lanes&=~j,Zi(a,i,j)):(I$1&&s&&vg(i),i.flags|=1,Xi(a,i,o,j),i.child)}function $i(a,i,s,o,j){if(a===null){var _e=s.type;return typeof _e=="function"&&!aj(_e)&&_e.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(i.tag=15,i.type=_e,bj(a,i,_e,o,j)):(a=Rg(s.type,null,o,i,i.mode,j),a.ref=i.ref,a.return=i,i.child=a)}if(_e=a.child,!(a.lanes&j)){var et=_e.memoizedProps;if(s=s.compare,s=s!==null?s:Ie,s(et,o)&&a.ref===i.ref)return Zi(a,i,j)}return i.flags|=1,a=Pg(_e,o),a.ref=i.ref,a.return=i,i.child=a}function bj(a,i,s,o,j){if(a!==null){var _e=a.memoizedProps;if(Ie(_e,o)&&a.ref===i.ref)if(dh=!1,i.pendingProps=o=_e,(a.lanes&j)!==0)a.flags&131072&&(dh=!0);else return i.lanes=a.lanes,Zi(a,i,j)}return cj(a,i,s,o,j)}function dj(a,i,s){var o=i.pendingProps,j=o.children,_e=a!==null?a.memoizedState:null;if(o.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=s;else{if(!(s&1073741824))return a=_e!==null?_e.baseLanes|s:s,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:a,cachePool:null,transitions:null},i.updateQueue=null,G(ej,fj),fj|=a,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=_e!==null?_e.baseLanes:s,G(ej,fj),fj|=o}else _e!==null?(o=_e.baseLanes|s,i.memoizedState=null):o=s,G(ej,fj),fj|=o;return Xi(a,i,j,s),i.child}function gj(a,i){var s=i.ref;(a===null&&s!==null||a!==null&&a.ref!==s)&&(i.flags|=512,i.flags|=2097152)}function cj(a,i,s,o,j){var _e=Zf(s)?Xf:H$1.current;return _e=Yf(i,_e),ch(i,j),s=Nh(a,i,s,o,_e,j),o=Sh(),a!==null&&!dh?(i.updateQueue=a.updateQueue,i.flags&=-2053,a.lanes&=~j,Zi(a,i,j)):(I$1&&o&&vg(i),i.flags|=1,Xi(a,i,s,j),i.child)}function hj(a,i,s,o,j){if(Zf(s)){var _e=!0;cg(i)}else _e=!1;if(ch(i,j),i.stateNode===null)ij(a,i),Gi(i,s,o),Ii(i,s,o,j),o=!0;else if(a===null){var et=i.stateNode,nt=i.memoizedProps;et.props=nt;var it=et.context,rt=s.contextType;typeof rt=="object"&&rt!==null?rt=eh(rt):(rt=Zf(s)?Xf:H$1.current,rt=Yf(i,rt));var st=s.getDerivedStateFromProps,at=typeof st=="function"||typeof et.getSnapshotBeforeUpdate=="function";at||typeof et.UNSAFE_componentWillReceiveProps!="function"&&typeof et.componentWillReceiveProps!="function"||(nt!==o||it!==rt)&&Hi(i,et,o,rt),jh=!1;var ot=i.memoizedState;et.state=ot,qh(i,o,et,j),it=i.memoizedState,nt!==o||ot!==it||Wf.current||jh?(typeof st=="function"&&(Di(i,s,st,o),it=i.memoizedState),(nt=jh||Fi(i,s,nt,o,ot,it,rt))?(at||typeof et.UNSAFE_componentWillMount!="function"&&typeof et.componentWillMount!="function"||(typeof et.componentWillMount=="function"&&et.componentWillMount(),typeof et.UNSAFE_componentWillMount=="function"&&et.UNSAFE_componentWillMount()),typeof et.componentDidMount=="function"&&(i.flags|=4194308)):(typeof et.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=it),et.props=o,et.state=it,et.context=rt,o=nt):(typeof et.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{et=i.stateNode,lh(a,i),nt=i.memoizedProps,rt=i.type===i.elementType?nt:Ci(i.type,nt),et.props=rt,at=i.pendingProps,ot=et.context,it=s.contextType,typeof it=="object"&&it!==null?it=eh(it):(it=Zf(s)?Xf:H$1.current,it=Yf(i,it));var ut=s.getDerivedStateFromProps;(st=typeof ut=="function"||typeof et.getSnapshotBeforeUpdate=="function")||typeof et.UNSAFE_componentWillReceiveProps!="function"&&typeof et.componentWillReceiveProps!="function"||(nt!==at||ot!==it)&&Hi(i,et,o,it),jh=!1,ot=i.memoizedState,et.state=ot,qh(i,o,et,j);var ct=i.memoizedState;nt!==at||ot!==ct||Wf.current||jh?(typeof ut=="function"&&(Di(i,s,ut,o),ct=i.memoizedState),(rt=jh||Fi(i,s,rt,o,ot,ct,it)||!1)?(st||typeof et.UNSAFE_componentWillUpdate!="function"&&typeof et.componentWillUpdate!="function"||(typeof et.componentWillUpdate=="function"&&et.componentWillUpdate(o,ct,it),typeof et.UNSAFE_componentWillUpdate=="function"&&et.UNSAFE_componentWillUpdate(o,ct,it)),typeof et.componentDidUpdate=="function"&&(i.flags|=4),typeof et.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof et.componentDidUpdate!="function"||nt===a.memoizedProps&&ot===a.memoizedState||(i.flags|=4),typeof et.getSnapshotBeforeUpdate!="function"||nt===a.memoizedProps&&ot===a.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=ct),et.props=o,et.state=ct,et.context=it,o=rt):(typeof et.componentDidUpdate!="function"||nt===a.memoizedProps&&ot===a.memoizedState||(i.flags|=4),typeof et.getSnapshotBeforeUpdate!="function"||nt===a.memoizedProps&&ot===a.memoizedState||(i.flags|=1024),o=!1)}return jj(a,i,s,o,_e,j)}function jj(a,i,s,o,j,_e){gj(a,i);var et=(i.flags&128)!==0;if(!o&&!et)return j&&dg(i,s,!1),Zi(a,i,_e);o=i.stateNode,Wi.current=i;var nt=et&&typeof s.getDerivedStateFromError!="function"?null:o.render();return i.flags|=1,a!==null&&et?(i.child=Ug(i,a.child,null,_e),i.child=Ug(i,null,nt,_e)):Xi(a,i,nt,_e),i.memoizedState=o.state,j&&dg(i,s,!0),i.child}function kj(a){var i=a.stateNode;i.pendingContext?ag(a,i.pendingContext,i.pendingContext!==i.context):i.context&&ag(a,i.context,!1),yh(a,i.containerInfo)}function lj(a,i,s,o,j){return Ig(),Jg(j),i.flags|=256,Xi(a,i,s,o),i.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(a){return{baseLanes:a,cachePool:null,transitions:null}}function oj(a,i,s){var o=i.pendingProps,j=L$1.current,_e=!1,et=(i.flags&128)!==0,nt;if((nt=et)||(nt=a!==null&&a.memoizedState===null?!1:(j&2)!==0),nt?(_e=!0,i.flags&=-129):(a===null||a.memoizedState!==null)&&(j|=1),G(L$1,j&1),a===null)return Eg(i),a=i.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(i.mode&1?a.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(et=o.children,a=o.fallback,_e?(o=i.mode,_e=i.child,et={mode:"hidden",children:et},!(o&1)&&_e!==null?(_e.childLanes=0,_e.pendingProps=et):_e=pj(et,o,0,null),a=Tg(a,o,s,null),_e.return=i,a.return=i,_e.sibling=a,i.child=_e,i.child.memoizedState=nj(s),i.memoizedState=mj,a):qj(i,et));if(j=a.memoizedState,j!==null&&(nt=j.dehydrated,nt!==null))return rj(a,i,et,o,nt,j,s);if(_e){_e=o.fallback,et=i.mode,j=a.child,nt=j.sibling;var it={mode:"hidden",children:o.children};return!(et&1)&&i.child!==j?(o=i.child,o.childLanes=0,o.pendingProps=it,i.deletions=null):(o=Pg(j,it),o.subtreeFlags=j.subtreeFlags&14680064),nt!==null?_e=Pg(nt,_e):(_e=Tg(_e,et,s,null),_e.flags|=2),_e.return=i,o.return=i,o.sibling=_e,i.child=o,o=_e,_e=i.child,et=a.child.memoizedState,et=et===null?nj(s):{baseLanes:et.baseLanes|s,cachePool:null,transitions:et.transitions},_e.memoizedState=et,_e.childLanes=a.childLanes&~s,i.memoizedState=mj,o}return _e=a.child,a=_e.sibling,o=Pg(_e,{mode:"visible",children:o.children}),!(i.mode&1)&&(o.lanes=s),o.return=i,o.sibling=null,a!==null&&(s=i.deletions,s===null?(i.deletions=[a],i.flags|=16):s.push(a)),i.child=o,i.memoizedState=null,o}function qj(a,i){return i=pj({mode:"visible",children:i},a.mode,0,null),i.return=a,a.child=i}function sj(a,i,s,o){return o!==null&&Jg(o),Ug(i,a.child,null,s),a=qj(i,i.pendingProps.children),a.flags|=2,i.memoizedState=null,a}function rj(a,i,s,o,j,_e,et){if(s)return i.flags&256?(i.flags&=-257,o=Ki(Error(p$1(422))),sj(a,i,et,o)):i.memoizedState!==null?(i.child=a.child,i.flags|=128,null):(_e=o.fallback,j=i.mode,o=pj({mode:"visible",children:o.children},j,0,null),_e=Tg(_e,j,et,null),_e.flags|=2,o.return=i,_e.return=i,o.sibling=_e,i.child=o,i.mode&1&&Ug(i,a.child,null,et),i.child.memoizedState=nj(et),i.memoizedState=mj,_e);if(!(i.mode&1))return sj(a,i,et,null);if(j.data==="$!"){if(o=j.nextSibling&&j.nextSibling.dataset,o)var nt=o.dgst;return o=nt,_e=Error(p$1(419)),o=Ki(_e,o,void 0),sj(a,i,et,o)}if(nt=(et&a.childLanes)!==0,dh||nt){if(o=Q$1,o!==null){switch(et&-et){case 4:j=2;break;case 16:j=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:j=32;break;case 536870912:j=268435456;break;default:j=0}j=j&(o.suspendedLanes|et)?0:j,j!==0&&j!==_e.retryLane&&(_e.retryLane=j,ih(a,j),gi(o,a,j,-1))}return tj(),o=Ki(Error(p$1(421))),sj(a,i,et,o)}return j.data==="$?"?(i.flags|=128,i.child=a.child,i=uj.bind(null,a),j._reactRetry=i,null):(a=_e.treeContext,yg=Lf(j.nextSibling),xg=i,I$1=!0,zg=null,a!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=a.id,sg=a.overflow,qg=i),i=qj(i,o.children),i.flags|=4096,i)}function vj(a,i,s){a.lanes|=i;var o=a.alternate;o!==null&&(o.lanes|=i),bh(a.return,i,s)}function wj(a,i,s,o,j){var _e=a.memoizedState;_e===null?a.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:j}:(_e.isBackwards=i,_e.rendering=null,_e.renderingStartTime=0,_e.last=o,_e.tail=s,_e.tailMode=j)}function xj(a,i,s){var o=i.pendingProps,j=o.revealOrder,_e=o.tail;if(Xi(a,i,o.children,s),o=L$1.current,o&2)o=o&1|2,i.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=i.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&vj(a,s,i);else if(a.tag===19)vj(a,s,i);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}o&=1}if(G(L$1,o),!(i.mode&1))i.memoizedState=null;else switch(j){case"forwards":for(s=i.child,j=null;s!==null;)a=s.alternate,a!==null&&Ch(a)===null&&(j=s),s=s.sibling;s=j,s===null?(j=i.child,i.child=null):(j=s.sibling,s.sibling=null),wj(i,!1,j,s,_e);break;case"backwards":for(s=null,j=i.child,i.child=null;j!==null;){if(a=j.alternate,a!==null&&Ch(a)===null){i.child=j;break}a=j.sibling,j.sibling=s,s=j,j=a}wj(i,!0,s,null,_e);break;case"together":wj(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ij(a,i){!(i.mode&1)&&a!==null&&(a.alternate=null,i.alternate=null,i.flags|=2)}function Zi(a,i,s){if(a!==null&&(i.dependencies=a.dependencies),rh|=i.lanes,!(s&i.childLanes))return null;if(a!==null&&i.child!==a.child)throw Error(p$1(153));if(i.child!==null){for(a=i.child,s=Pg(a,a.pendingProps),i.child=s,s.return=i;a.sibling!==null;)a=a.sibling,s=s.sibling=Pg(a,a.pendingProps),s.return=i;s.sibling=null}return i.child}function yj(a,i,s){switch(i.tag){case 3:kj(i),Ig();break;case 5:Ah(i);break;case 1:Zf(i.type)&&cg(i);break;case 4:yh(i,i.stateNode.containerInfo);break;case 10:var o=i.type._context,j=i.memoizedProps.value;G(Wg,o._currentValue),o._currentValue=j;break;case 13:if(o=i.memoizedState,o!==null)return o.dehydrated!==null?(G(L$1,L$1.current&1),i.flags|=128,null):s&i.child.childLanes?oj(a,i,s):(G(L$1,L$1.current&1),a=Zi(a,i,s),a!==null?a.sibling:null);G(L$1,L$1.current&1);break;case 19:if(o=(s&i.childLanes)!==0,a.flags&128){if(o)return xj(a,i,s);i.flags|=128}if(j=i.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),G(L$1,L$1.current),o)break;return null;case 22:case 23:return i.lanes=0,dj(a,i,s)}return Zi(a,i,s)}var zj,Aj,Bj,Cj;zj=function(a,i){for(var s=i.child;s!==null;){if(s.tag===5||s.tag===6)a.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Aj=function(){};Bj=function(a,i,s,o){var j=a.memoizedProps;if(j!==o){a=i.stateNode,xh(uh.current);var _e=null;switch(s){case"input":j=Ya(a,j),o=Ya(a,o),_e=[];break;case"select":j=A$1({},j,{value:void 0}),o=A$1({},o,{value:void 0}),_e=[];break;case"textarea":j=gb(a,j),o=gb(a,o),_e=[];break;default:typeof j.onClick!="function"&&typeof o.onClick=="function"&&(a.onclick=Bf)}ub(s,o);var et;s=null;for(rt in j)if(!o.hasOwnProperty(rt)&&j.hasOwnProperty(rt)&&j[rt]!=null)if(rt==="style"){var nt=j[rt];for(et in nt)nt.hasOwnProperty(et)&&(s||(s={}),s[et]="")}else rt!=="dangerouslySetInnerHTML"&&rt!=="children"&&rt!=="suppressContentEditableWarning"&&rt!=="suppressHydrationWarning"&&rt!=="autoFocus"&&(ea.hasOwnProperty(rt)?_e||(_e=[]):(_e=_e||[]).push(rt,null));for(rt in o){var it=o[rt];if(nt=j!=null?j[rt]:void 0,o.hasOwnProperty(rt)&&it!==nt&&(it!=null||nt!=null))if(rt==="style")if(nt){for(et in nt)!nt.hasOwnProperty(et)||it&&it.hasOwnProperty(et)||(s||(s={}),s[et]="");for(et in it)it.hasOwnProperty(et)&&nt[et]!==it[et]&&(s||(s={}),s[et]=it[et])}else s||(_e||(_e=[]),_e.push(rt,s)),s=it;else rt==="dangerouslySetInnerHTML"?(it=it?it.__html:void 0,nt=nt?nt.__html:void 0,it!=null&&nt!==it&&(_e=_e||[]).push(rt,it)):rt==="children"?typeof it!="string"&&typeof it!="number"||(_e=_e||[]).push(rt,""+it):rt!=="suppressContentEditableWarning"&&rt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(rt)?(it!=null&&rt==="onScroll"&&D$1("scroll",a),_e||nt===it||(_e=[])):(_e=_e||[]).push(rt,it))}s&&(_e=_e||[]).push("style",s);var rt=_e;(i.updateQueue=rt)&&(i.flags|=4)}};Cj=function(a,i,s,o){s!==o&&(i.flags|=4)};function Dj(a,i){if(!I$1)switch(a.tailMode){case"hidden":i=a.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?a.tail=null:s.sibling=null;break;case"collapsed":s=a.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i||a.tail===null?a.tail=null:a.tail.sibling=null:o.sibling=null}}function S$1(a){var i=a.alternate!==null&&a.alternate.child===a.child,s=0,o=0;if(i)for(var j=a.child;j!==null;)s|=j.lanes|j.childLanes,o|=j.subtreeFlags&14680064,o|=j.flags&14680064,j.return=a,j=j.sibling;else for(j=a.child;j!==null;)s|=j.lanes|j.childLanes,o|=j.subtreeFlags,o|=j.flags,j.return=a,j=j.sibling;return a.subtreeFlags|=o,a.childLanes=s,i}function Ej(a,i,s){var o=i.pendingProps;switch(wg(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1(i),null;case 1:return Zf(i.type)&&$f(),S$1(i),null;case 3:return o=i.stateNode,zh(),E$1(Wf),E$1(H$1),Eh(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(a===null||a.child===null)&&(Gg(i)?i.flags|=4:a===null||a.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(a,i),S$1(i),null;case 5:Bh(i);var j=xh(wh.current);if(s=i.type,a!==null&&i.stateNode!=null)Bj(a,i,s,o,j),a.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!o){if(i.stateNode===null)throw Error(p$1(166));return S$1(i),null}if(a=xh(uh.current),Gg(i)){o=i.stateNode,s=i.type;var _e=i.memoizedProps;switch(o[Of]=i,o[Pf]=_e,a=(i.mode&1)!==0,s){case"dialog":D$1("cancel",o),D$1("close",o);break;case"iframe":case"object":case"embed":D$1("load",o);break;case"video":case"audio":for(j=0;j<lf.length;j++)D$1(lf[j],o);break;case"source":D$1("error",o);break;case"img":case"image":case"link":D$1("error",o),D$1("load",o);break;case"details":D$1("toggle",o);break;case"input":Za(o,_e),D$1("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!_e.multiple},D$1("invalid",o);break;case"textarea":hb(o,_e),D$1("invalid",o)}ub(s,_e),j=null;for(var et in _e)if(_e.hasOwnProperty(et)){var nt=_e[et];et==="children"?typeof nt=="string"?o.textContent!==nt&&(_e.suppressHydrationWarning!==!0&&Af(o.textContent,nt,a),j=["children",nt]):typeof nt=="number"&&o.textContent!==""+nt&&(_e.suppressHydrationWarning!==!0&&Af(o.textContent,nt,a),j=["children",""+nt]):ea.hasOwnProperty(et)&&nt!=null&&et==="onScroll"&&D$1("scroll",o)}switch(s){case"input":Va(o),db(o,_e,!0);break;case"textarea":Va(o),jb(o);break;case"select":case"option":break;default:typeof _e.onClick=="function"&&(o.onclick=Bf)}o=j,i.updateQueue=o,o!==null&&(i.flags|=4)}else{et=j.nodeType===9?j:j.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=kb(s)),a==="http://www.w3.org/1999/xhtml"?s==="script"?(a=et.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof o.is=="string"?a=et.createElement(s,{is:o.is}):(a=et.createElement(s),s==="select"&&(et=a,o.multiple?et.multiple=!0:o.size&&(et.size=o.size))):a=et.createElementNS(a,s),a[Of]=i,a[Pf]=o,zj(a,i,!1,!1),i.stateNode=a;e:{switch(et=vb(s,o),s){case"dialog":D$1("cancel",a),D$1("close",a),j=o;break;case"iframe":case"object":case"embed":D$1("load",a),j=o;break;case"video":case"audio":for(j=0;j<lf.length;j++)D$1(lf[j],a);j=o;break;case"source":D$1("error",a),j=o;break;case"img":case"image":case"link":D$1("error",a),D$1("load",a),j=o;break;case"details":D$1("toggle",a),j=o;break;case"input":Za(a,o),j=Ya(a,o),D$1("invalid",a);break;case"option":j=o;break;case"select":a._wrapperState={wasMultiple:!!o.multiple},j=A$1({},o,{value:void 0}),D$1("invalid",a);break;case"textarea":hb(a,o),j=gb(a,o),D$1("invalid",a);break;default:j=o}ub(s,j),nt=j;for(_e in nt)if(nt.hasOwnProperty(_e)){var it=nt[_e];_e==="style"?sb(a,it):_e==="dangerouslySetInnerHTML"?(it=it?it.__html:void 0,it!=null&&nb(a,it)):_e==="children"?typeof it=="string"?(s!=="textarea"||it!=="")&&ob(a,it):typeof it=="number"&&ob(a,""+it):_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&_e!=="autoFocus"&&(ea.hasOwnProperty(_e)?it!=null&&_e==="onScroll"&&D$1("scroll",a):it!=null&&ta(a,_e,it,et))}switch(s){case"input":Va(a),db(a,o,!1);break;case"textarea":Va(a),jb(a);break;case"option":o.value!=null&&a.setAttribute("value",""+Sa(o.value));break;case"select":a.multiple=!!o.multiple,_e=o.value,_e!=null?fb(a,!!o.multiple,_e,!1):o.defaultValue!=null&&fb(a,!!o.multiple,o.defaultValue,!0);break;default:typeof j.onClick=="function"&&(a.onclick=Bf)}switch(s){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return S$1(i),null;case 6:if(a&&i.stateNode!=null)Cj(a,i,a.memoizedProps,o);else{if(typeof o!="string"&&i.stateNode===null)throw Error(p$1(166));if(s=xh(wh.current),xh(uh.current),Gg(i)){if(o=i.stateNode,s=i.memoizedProps,o[Of]=i,(_e=o.nodeValue!==s)&&(a=xg,a!==null))switch(a.tag){case 3:Af(o.nodeValue,s,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Af(o.nodeValue,s,(a.mode&1)!==0)}_e&&(i.flags|=4)}else o=(s.nodeType===9?s:s.ownerDocument).createTextNode(o),o[Of]=i,i.stateNode=o}return S$1(i),null;case 13:if(E$1(L$1),o=i.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&i.mode&1&&!(i.flags&128))Hg(),Ig(),i.flags|=98560,_e=!1;else if(_e=Gg(i),o!==null&&o.dehydrated!==null){if(a===null){if(!_e)throw Error(p$1(318));if(_e=i.memoizedState,_e=_e!==null?_e.dehydrated:null,!_e)throw Error(p$1(317));_e[Of]=i}else Ig(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;S$1(i),_e=!1}else zg!==null&&(Fj(zg),zg=null),_e=!0;if(!_e)return i.flags&65536?i:null}return i.flags&128?(i.lanes=s,i):(o=o!==null,o!==(a!==null&&a.memoizedState!==null)&&o&&(i.child.flags|=8192,i.mode&1&&(a===null||L$1.current&1?T$1===0&&(T$1=3):tj())),i.updateQueue!==null&&(i.flags|=4),S$1(i),null);case 4:return zh(),Aj(a,i),a===null&&sf(i.stateNode.containerInfo),S$1(i),null;case 10:return ah(i.type._context),S$1(i),null;case 17:return Zf(i.type)&&$f(),S$1(i),null;case 19:if(E$1(L$1),_e=i.memoizedState,_e===null)return S$1(i),null;if(o=(i.flags&128)!==0,et=_e.rendering,et===null)if(o)Dj(_e,!1);else{if(T$1!==0||a!==null&&a.flags&128)for(a=i.child;a!==null;){if(et=Ch(a),et!==null){for(i.flags|=128,Dj(_e,!1),o=et.updateQueue,o!==null&&(i.updateQueue=o,i.flags|=4),i.subtreeFlags=0,o=s,s=i.child;s!==null;)_e=s,a=o,_e.flags&=14680066,et=_e.alternate,et===null?(_e.childLanes=0,_e.lanes=a,_e.child=null,_e.subtreeFlags=0,_e.memoizedProps=null,_e.memoizedState=null,_e.updateQueue=null,_e.dependencies=null,_e.stateNode=null):(_e.childLanes=et.childLanes,_e.lanes=et.lanes,_e.child=et.child,_e.subtreeFlags=0,_e.deletions=null,_e.memoizedProps=et.memoizedProps,_e.memoizedState=et.memoizedState,_e.updateQueue=et.updateQueue,_e.type=et.type,a=et.dependencies,_e.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s=s.sibling;return G(L$1,L$1.current&1|2),i.child}a=a.sibling}_e.tail!==null&&B$1()>Gj&&(i.flags|=128,o=!0,Dj(_e,!1),i.lanes=4194304)}else{if(!o)if(a=Ch(et),a!==null){if(i.flags|=128,o=!0,s=a.updateQueue,s!==null&&(i.updateQueue=s,i.flags|=4),Dj(_e,!0),_e.tail===null&&_e.tailMode==="hidden"&&!et.alternate&&!I$1)return S$1(i),null}else 2*B$1()-_e.renderingStartTime>Gj&&s!==1073741824&&(i.flags|=128,o=!0,Dj(_e,!1),i.lanes=4194304);_e.isBackwards?(et.sibling=i.child,i.child=et):(s=_e.last,s!==null?s.sibling=et:i.child=et,_e.last=et)}return _e.tail!==null?(i=_e.tail,_e.rendering=i,_e.tail=i.sibling,_e.renderingStartTime=B$1(),i.sibling=null,s=L$1.current,G(L$1,o?s&1|2:s&1),i):(S$1(i),null);case 22:case 23:return Hj(),o=i.memoizedState!==null,a!==null&&a.memoizedState!==null!==o&&(i.flags|=8192),o&&i.mode&1?fj&1073741824&&(S$1(i),i.subtreeFlags&6&&(i.flags|=8192)):S$1(i),null;case 24:return null;case 25:return null}throw Error(p$1(156,i.tag))}function Ij(a,i){switch(wg(i),i.tag){case 1:return Zf(i.type)&&$f(),a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 3:return zh(),E$1(Wf),E$1(H$1),Eh(),a=i.flags,a&65536&&!(a&128)?(i.flags=a&-65537|128,i):null;case 5:return Bh(i),null;case 13:if(E$1(L$1),a=i.memoizedState,a!==null&&a.dehydrated!==null){if(i.alternate===null)throw Error(p$1(340));Ig()}return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 19:return E$1(L$1),null;case 4:return zh(),null;case 10:return ah(i.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(a,i){var s=a.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(o){W(a,i,o)}else s.current=null}function Mj(a,i,s){try{s()}catch(o){W(a,i,o)}}var Nj=!1;function Oj(a,i){if(Cf=dd,a=Me(),Ne(a)){if("selectionStart"in a)var s={start:a.selectionStart,end:a.selectionEnd};else e:{s=(s=a.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var j=o.anchorOffset,_e=o.focusNode;o=o.focusOffset;try{s.nodeType,_e.nodeType}catch{s=null;break e}var et=0,nt=-1,it=-1,rt=0,st=0,at=a,ot=null;t:for(;;){for(var ut;at!==s||j!==0&&at.nodeType!==3||(nt=et+j),at!==_e||o!==0&&at.nodeType!==3||(it=et+o),at.nodeType===3&&(et+=at.nodeValue.length),(ut=at.firstChild)!==null;)ot=at,at=ut;for(;;){if(at===a)break t;if(ot===s&&++rt===j&&(nt=et),ot===_e&&++st===o&&(it=et),(ut=at.nextSibling)!==null)break;at=ot,ot=at.parentNode}at=ut}s=nt===-1||it===-1?null:{start:nt,end:it}}else s=null}s=s||{start:0,end:0}}else s=null;for(Df={focusedElem:a,selectionRange:s},dd=!1,V=i;V!==null;)if(i=V,a=i.child,(i.subtreeFlags&1028)!==0&&a!==null)a.return=i,V=a;else for(;V!==null;){i=V;try{var ct=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ct!==null){var dt=ct.memoizedProps,ft=ct.memoizedState,lt=i.stateNode,ht=lt.getSnapshotBeforeUpdate(i.elementType===i.type?dt:Ci(i.type,dt),ft);lt.__reactInternalSnapshotBeforeUpdate=ht}break;case 3:var pt=i.stateNode.containerInfo;pt.nodeType===1?pt.textContent="":pt.nodeType===9&&pt.documentElement&&pt.removeChild(pt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$1(163))}}catch(vt){W(i,i.return,vt)}if(a=i.sibling,a!==null){a.return=i.return,V=a;break}V=i.return}return ct=Nj,Nj=!1,ct}function Pj(a,i,s){var o=i.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var j=o=o.next;do{if((j.tag&a)===a){var _e=j.destroy;j.destroy=void 0,_e!==void 0&&Mj(i,s,_e)}j=j.next}while(j!==o)}}function Qj(a,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&a)===a){var o=s.create;s.destroy=o()}s=s.next}while(s!==i)}}function Rj(a){var i=a.ref;if(i!==null){var s=a.stateNode;switch(a.tag){case 5:a=s;break;default:a=s}typeof i=="function"?i(a):i.current=a}}function Sj(a){var i=a.alternate;i!==null&&(a.alternate=null,Sj(i)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(i=a.stateNode,i!==null&&(delete i[Of],delete i[Pf],delete i[of],delete i[Qf],delete i[Rf])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Tj(a){return a.tag===5||a.tag===3||a.tag===4}function Uj(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Tj(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Vj(a,i,s){var o=a.tag;if(o===5||o===6)a=a.stateNode,i?s.nodeType===8?s.parentNode.insertBefore(a,i):s.insertBefore(a,i):(s.nodeType===8?(i=s.parentNode,i.insertBefore(a,s)):(i=s,i.appendChild(a)),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Bf));else if(o!==4&&(a=a.child,a!==null))for(Vj(a,i,s),a=a.sibling;a!==null;)Vj(a,i,s),a=a.sibling}function Wj(a,i,s){var o=a.tag;if(o===5||o===6)a=a.stateNode,i?s.insertBefore(a,i):s.appendChild(a);else if(o!==4&&(a=a.child,a!==null))for(Wj(a,i,s),a=a.sibling;a!==null;)Wj(a,i,s),a=a.sibling}var X=null,Xj=!1;function Yj(a,i,s){for(s=s.child;s!==null;)Zj(a,i,s),s=s.sibling}function Zj(a,i,s){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,s)}catch{}switch(s.tag){case 5:U||Lj(s,i);case 6:var o=X,j=Xj;X=null,Yj(a,i,s),X=o,Xj=j,X!==null&&(Xj?(a=X,s=s.stateNode,a.nodeType===8?a.parentNode.removeChild(s):a.removeChild(s)):X.removeChild(s.stateNode));break;case 18:X!==null&&(Xj?(a=X,s=s.stateNode,a.nodeType===8?Kf(a.parentNode,s):a.nodeType===1&&Kf(a,s),bd(a)):Kf(X,s.stateNode));break;case 4:o=X,j=Xj,X=s.stateNode.containerInfo,Xj=!0,Yj(a,i,s),X=o,Xj=j;break;case 0:case 11:case 14:case 15:if(!U&&(o=s.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){j=o=o.next;do{var _e=j,et=_e.destroy;_e=_e.tag,et!==void 0&&(_e&2||_e&4)&&Mj(s,i,et),j=j.next}while(j!==o)}Yj(a,i,s);break;case 1:if(!U&&(Lj(s,i),o=s.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=s.memoizedProps,o.state=s.memoizedState,o.componentWillUnmount()}catch(nt){W(s,i,nt)}Yj(a,i,s);break;case 21:Yj(a,i,s);break;case 22:s.mode&1?(U=(o=U)||s.memoizedState!==null,Yj(a,i,s),U=o):Yj(a,i,s);break;default:Yj(a,i,s)}}function ak(a){var i=a.updateQueue;if(i!==null){a.updateQueue=null;var s=a.stateNode;s===null&&(s=a.stateNode=new Kj),i.forEach(function(o){var j=bk.bind(null,a,o);s.has(o)||(s.add(o),o.then(j,j))})}}function ck(a,i){var s=i.deletions;if(s!==null)for(var o=0;o<s.length;o++){var j=s[o];try{var _e=a,et=i,nt=et;e:for(;nt!==null;){switch(nt.tag){case 5:X=nt.stateNode,Xj=!1;break e;case 3:X=nt.stateNode.containerInfo,Xj=!0;break e;case 4:X=nt.stateNode.containerInfo,Xj=!0;break e}nt=nt.return}if(X===null)throw Error(p$1(160));Zj(_e,et,j),X=null,Xj=!1;var it=j.alternate;it!==null&&(it.return=null),j.return=null}catch(rt){W(j,i,rt)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)dk(i,a),i=i.sibling}function dk(a,i){var s=a.alternate,o=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(ck(i,a),ek(a),o&4){try{Pj(3,a,a.return),Qj(3,a)}catch(dt){W(a,a.return,dt)}try{Pj(5,a,a.return)}catch(dt){W(a,a.return,dt)}}break;case 1:ck(i,a),ek(a),o&512&&s!==null&&Lj(s,s.return);break;case 5:if(ck(i,a),ek(a),o&512&&s!==null&&Lj(s,s.return),a.flags&32){var j=a.stateNode;try{ob(j,"")}catch(dt){W(a,a.return,dt)}}if(o&4&&(j=a.stateNode,j!=null)){var _e=a.memoizedProps,et=s!==null?s.memoizedProps:_e,nt=a.type,it=a.updateQueue;if(a.updateQueue=null,it!==null)try{nt==="input"&&_e.type==="radio"&&_e.name!=null&&ab(j,_e),vb(nt,et);var rt=vb(nt,_e);for(et=0;et<it.length;et+=2){var st=it[et],at=it[et+1];st==="style"?sb(j,at):st==="dangerouslySetInnerHTML"?nb(j,at):st==="children"?ob(j,at):ta(j,st,at,rt)}switch(nt){case"input":bb(j,_e);break;case"textarea":ib(j,_e);break;case"select":var ot=j._wrapperState.wasMultiple;j._wrapperState.wasMultiple=!!_e.multiple;var ut=_e.value;ut!=null?fb(j,!!_e.multiple,ut,!1):ot!==!!_e.multiple&&(_e.defaultValue!=null?fb(j,!!_e.multiple,_e.defaultValue,!0):fb(j,!!_e.multiple,_e.multiple?[]:"",!1))}j[Pf]=_e}catch(dt){W(a,a.return,dt)}}break;case 6:if(ck(i,a),ek(a),o&4){if(a.stateNode===null)throw Error(p$1(162));j=a.stateNode,_e=a.memoizedProps;try{j.nodeValue=_e}catch(dt){W(a,a.return,dt)}}break;case 3:if(ck(i,a),ek(a),o&4&&s!==null&&s.memoizedState.isDehydrated)try{bd(i.containerInfo)}catch(dt){W(a,a.return,dt)}break;case 4:ck(i,a),ek(a);break;case 13:ck(i,a),ek(a),j=a.child,j.flags&8192&&(_e=j.memoizedState!==null,j.stateNode.isHidden=_e,!_e||j.alternate!==null&&j.alternate.memoizedState!==null||(fk=B$1())),o&4&&ak(a);break;case 22:if(st=s!==null&&s.memoizedState!==null,a.mode&1?(U=(rt=U)||st,ck(i,a),U=rt):ck(i,a),ek(a),o&8192){if(rt=a.memoizedState!==null,(a.stateNode.isHidden=rt)&&!st&&a.mode&1)for(V=a,st=a.child;st!==null;){for(at=V=st;V!==null;){switch(ot=V,ut=ot.child,ot.tag){case 0:case 11:case 14:case 15:Pj(4,ot,ot.return);break;case 1:Lj(ot,ot.return);var ct=ot.stateNode;if(typeof ct.componentWillUnmount=="function"){o=ot,s=ot.return;try{i=o,ct.props=i.memoizedProps,ct.state=i.memoizedState,ct.componentWillUnmount()}catch(dt){W(o,s,dt)}}break;case 5:Lj(ot,ot.return);break;case 22:if(ot.memoizedState!==null){gk(at);continue}}ut!==null?(ut.return=ot,V=ut):gk(at)}st=st.sibling}e:for(st=null,at=a;;){if(at.tag===5){if(st===null){st=at;try{j=at.stateNode,rt?(_e=j.style,typeof _e.setProperty=="function"?_e.setProperty("display","none","important"):_e.display="none"):(nt=at.stateNode,it=at.memoizedProps.style,et=it!=null&&it.hasOwnProperty("display")?it.display:null,nt.style.display=rb("display",et))}catch(dt){W(a,a.return,dt)}}}else if(at.tag===6){if(st===null)try{at.stateNode.nodeValue=rt?"":at.memoizedProps}catch(dt){W(a,a.return,dt)}}else if((at.tag!==22&&at.tag!==23||at.memoizedState===null||at===a)&&at.child!==null){at.child.return=at,at=at.child;continue}if(at===a)break e;for(;at.sibling===null;){if(at.return===null||at.return===a)break e;st===at&&(st=null),at=at.return}st===at&&(st=null),at.sibling.return=at.return,at=at.sibling}}break;case 19:ck(i,a),ek(a),o&4&&ak(a);break;case 21:break;default:ck(i,a),ek(a)}}function ek(a){var i=a.flags;if(i&2){try{e:{for(var s=a.return;s!==null;){if(Tj(s)){var o=s;break e}s=s.return}throw Error(p$1(160))}switch(o.tag){case 5:var j=o.stateNode;o.flags&32&&(ob(j,""),o.flags&=-33);var _e=Uj(a);Wj(a,_e,j);break;case 3:case 4:var et=o.stateNode.containerInfo,nt=Uj(a);Vj(a,nt,et);break;default:throw Error(p$1(161))}}catch(it){W(a,a.return,it)}a.flags&=-3}i&4096&&(a.flags&=-4097)}function hk(a,i,s){V=a,ik(a)}function ik(a,i,s){for(var o=(a.mode&1)!==0;V!==null;){var j=V,_e=j.child;if(j.tag===22&&o){var et=j.memoizedState!==null||Jj;if(!et){var nt=j.alternate,it=nt!==null&&nt.memoizedState!==null||U;nt=Jj;var rt=U;if(Jj=et,(U=it)&&!rt)for(V=j;V!==null;)et=V,it=et.child,et.tag===22&&et.memoizedState!==null?jk(j):it!==null?(it.return=et,V=it):jk(j);for(;_e!==null;)V=_e,ik(_e),_e=_e.sibling;V=j,Jj=nt,U=rt}kk(a)}else j.subtreeFlags&8772&&_e!==null?(_e.return=j,V=_e):kk(a)}}function kk(a){for(;V!==null;){var i=V;if(i.flags&8772){var s=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:U||Qj(5,i);break;case 1:var o=i.stateNode;if(i.flags&4&&!U)if(s===null)o.componentDidMount();else{var j=i.elementType===i.type?s.memoizedProps:Ci(i.type,s.memoizedProps);o.componentDidUpdate(j,s.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var _e=i.updateQueue;_e!==null&&sh(i,_e,o);break;case 3:var et=i.updateQueue;if(et!==null){if(s=null,i.child!==null)switch(i.child.tag){case 5:s=i.child.stateNode;break;case 1:s=i.child.stateNode}sh(i,et,s)}break;case 5:var nt=i.stateNode;if(s===null&&i.flags&4){s=nt;var it=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":it.autoFocus&&s.focus();break;case"img":it.src&&(s.src=it.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var rt=i.alternate;if(rt!==null){var st=rt.memoizedState;if(st!==null){var at=st.dehydrated;at!==null&&bd(at)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$1(163))}U||i.flags&512&&Rj(i)}catch(ot){W(i,i.return,ot)}}if(i===a){V=null;break}if(s=i.sibling,s!==null){s.return=i.return,V=s;break}V=i.return}}function gk(a){for(;V!==null;){var i=V;if(i===a){V=null;break}var s=i.sibling;if(s!==null){s.return=i.return,V=s;break}V=i.return}}function jk(a){for(;V!==null;){var i=V;try{switch(i.tag){case 0:case 11:case 15:var s=i.return;try{Qj(4,i)}catch(it){W(i,s,it)}break;case 1:var o=i.stateNode;if(typeof o.componentDidMount=="function"){var j=i.return;try{o.componentDidMount()}catch(it){W(i,j,it)}}var _e=i.return;try{Rj(i)}catch(it){W(i,_e,it)}break;case 5:var et=i.return;try{Rj(i)}catch(it){W(i,et,it)}}}catch(it){W(i,i.return,it)}if(i===a){V=null;break}var nt=i.sibling;if(nt!==null){nt.return=i.return,V=nt;break}V=i.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q$1=null,Y=null,Z=0,fj=0,ej=Uf(0),T$1=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$1(){return K&6?B$1():Ak!==-1?Ak:Ak=B$1()}function yi(a){return a.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(a=C$1,a!==0||(a=window.event,a=a===void 0?16:jd(a.type)),a):1}function gi(a,i,s,o){if(50<yk)throw yk=0,zk=null,Error(p$1(185));Ac(a,s,o),(!(K&2)||a!==Q$1)&&(a===Q$1&&(!(K&2)&&(qk|=s),T$1===4&&Ck(a,Z)),Dk(a,o),s===1&&K===0&&!(i.mode&1)&&(Gj=B$1()+500,fg&&jg()))}function Dk(a,i){var s=a.callbackNode;wc(a,i);var o=uc(a,a===Q$1?Z:0);if(o===0)s!==null&&bc(s),a.callbackNode=null,a.callbackPriority=0;else if(i=o&-o,a.callbackPriority!==i){if(s!=null&&bc(s),i===1)a.tag===0?ig(Ek.bind(null,a)):hg(Ek.bind(null,a)),Jf(function(){!(K&6)&&jg()}),s=null;else{switch(Dc(o)){case 1:s=fc;break;case 4:s=gc;break;case 16:s=hc;break;case 536870912:s=jc;break;default:s=hc}s=Fk(s,Gk.bind(null,a))}a.callbackPriority=i,a.callbackNode=s}}function Gk(a,i){if(Ak=-1,Bk=0,K&6)throw Error(p$1(327));var s=a.callbackNode;if(Hk()&&a.callbackNode!==s)return null;var o=uc(a,a===Q$1?Z:0);if(o===0)return null;if(o&30||o&a.expiredLanes||i)i=Ik(a,o);else{i=o;var j=K;K|=2;var _e=Jk();(Q$1!==a||Z!==i)&&(uk=null,Gj=B$1()+500,Kk(a,i));do try{Lk();break}catch(nt){Mk(a,nt)}while(!0);$g(),mk.current=_e,K=j,Y!==null?i=0:(Q$1=null,Z=0,i=T$1)}if(i!==0){if(i===2&&(j=xc(a),j!==0&&(o=j,i=Nk(a,j))),i===1)throw s=pk,Kk(a,0),Ck(a,o),Dk(a,B$1()),s;if(i===6)Ck(a,o);else{if(j=a.current.alternate,!(o&30)&&!Ok(j)&&(i=Ik(a,o),i===2&&(_e=xc(a),_e!==0&&(o=_e,i=Nk(a,_e))),i===1))throw s=pk,Kk(a,0),Ck(a,o),Dk(a,B$1()),s;switch(a.finishedWork=j,a.finishedLanes=o,i){case 0:case 1:throw Error(p$1(345));case 2:Pk(a,tk,uk);break;case 3:if(Ck(a,o),(o&130023424)===o&&(i=fk+500-B$1(),10<i)){if(uc(a,0)!==0)break;if(j=a.suspendedLanes,(j&o)!==o){R$1(),a.pingedLanes|=a.suspendedLanes&j;break}a.timeoutHandle=Ff(Pk.bind(null,a,tk,uk),i);break}Pk(a,tk,uk);break;case 4:if(Ck(a,o),(o&4194240)===o)break;for(i=a.eventTimes,j=-1;0<o;){var et=31-oc(o);_e=1<<et,et=i[et],et>j&&(j=et),o&=~_e}if(o=j,o=B$1()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*lk(o/1960))-o,10<o){a.timeoutHandle=Ff(Pk.bind(null,a,tk,uk),o);break}Pk(a,tk,uk);break;case 5:Pk(a,tk,uk);break;default:throw Error(p$1(329))}}}return Dk(a,B$1()),a.callbackNode===s?Gk.bind(null,a):null}function Nk(a,i){var s=sk;return a.current.memoizedState.isDehydrated&&(Kk(a,i).flags|=256),a=Ik(a,i),a!==2&&(i=tk,tk=s,i!==null&&Fj(i)),a}function Fj(a){tk===null?tk=a:tk.push.apply(tk,a)}function Ok(a){for(var i=a;;){if(i.flags&16384){var s=i.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var o=0;o<s.length;o++){var j=s[o],_e=j.getSnapshot;j=j.value;try{if(!He(_e(),j))return!1}catch{return!1}}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ck(a,i){for(i&=~rk,i&=~qk,a.suspendedLanes|=i,a.pingedLanes&=~i,a=a.expirationTimes;0<i;){var s=31-oc(i),o=1<<s;a[s]=-1,i&=~o}}function Ek(a){if(K&6)throw Error(p$1(327));Hk();var i=uc(a,0);if(!(i&1))return Dk(a,B$1()),null;var s=Ik(a,i);if(a.tag!==0&&s===2){var o=xc(a);o!==0&&(i=o,s=Nk(a,o))}if(s===1)throw s=pk,Kk(a,0),Ck(a,i),Dk(a,B$1()),s;if(s===6)throw Error(p$1(345));return a.finishedWork=a.current.alternate,a.finishedLanes=i,Pk(a,tk,uk),Dk(a,B$1()),null}function Qk(a,i){var s=K;K|=1;try{return a(i)}finally{K=s,K===0&&(Gj=B$1()+500,fg&&jg())}}function Rk(a){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var i=K;K|=1;var s=ok.transition,o=C$1;try{if(ok.transition=null,C$1=1,a)return a()}finally{C$1=o,ok.transition=s,K=i,!(K&6)&&jg()}}function Hj(){fj=ej.current,E$1(ej)}function Kk(a,i){a.finishedWork=null,a.finishedLanes=0;var s=a.timeoutHandle;if(s!==-1&&(a.timeoutHandle=-1,Gf(s)),Y!==null)for(s=Y.return;s!==null;){var o=s;switch(wg(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&$f();break;case 3:zh(),E$1(Wf),E$1(H$1),Eh();break;case 5:Bh(o);break;case 4:zh();break;case 13:E$1(L$1);break;case 19:E$1(L$1);break;case 10:ah(o.type._context);break;case 22:case 23:Hj()}s=s.return}if(Q$1=a,Y=a=Pg(a.current,null),Z=fj=i,T$1=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(i=0;i<fh.length;i++)if(s=fh[i],o=s.interleaved,o!==null){s.interleaved=null;var j=o.next,_e=s.pending;if(_e!==null){var et=_e.next;_e.next=j,o.next=et}s.pending=o}fh=null}return a}function Mk(a,i){do{var s=Y;try{if($g(),Fh.current=Rh,Ih){for(var o=M$1.memoizedState;o!==null;){var j=o.queue;j!==null&&(j.pending=null),o=o.next}Ih=!1}if(Hh=0,O$1=N$1=M$1=null,Jh=!1,Kh=0,nk.current=null,s===null||s.return===null){T$1=1,pk=i,Y=null;break}e:{var _e=a,et=s.return,nt=s,it=i;if(i=Z,nt.flags|=32768,it!==null&&typeof it=="object"&&typeof it.then=="function"){var rt=it,st=nt,at=st.tag;if(!(st.mode&1)&&(at===0||at===11||at===15)){var ot=st.alternate;ot?(st.updateQueue=ot.updateQueue,st.memoizedState=ot.memoizedState,st.lanes=ot.lanes):(st.updateQueue=null,st.memoizedState=null)}var ut=Ui(et);if(ut!==null){ut.flags&=-257,Vi(ut,et,nt,_e,i),ut.mode&1&&Si(_e,rt,i),i=ut,it=rt;var ct=i.updateQueue;if(ct===null){var dt=new Set;dt.add(it),i.updateQueue=dt}else ct.add(it);break e}else{if(!(i&1)){Si(_e,rt,i),tj();break e}it=Error(p$1(426))}}else if(I$1&&nt.mode&1){var ft=Ui(et);if(ft!==null){!(ft.flags&65536)&&(ft.flags|=256),Vi(ft,et,nt,_e,i),Jg(Ji(it,nt));break e}}_e=it=Ji(it,nt),T$1!==4&&(T$1=2),sk===null?sk=[_e]:sk.push(_e),_e=et;do{switch(_e.tag){case 3:_e.flags|=65536,i&=-i,_e.lanes|=i;var lt=Ni(_e,it,i);ph(_e,lt);break e;case 1:nt=it;var ht=_e.type,pt=_e.stateNode;if(!(_e.flags&128)&&(typeof ht.getDerivedStateFromError=="function"||pt!==null&&typeof pt.componentDidCatch=="function"&&(Ri===null||!Ri.has(pt)))){_e.flags|=65536,i&=-i,_e.lanes|=i;var vt=Qi(_e,nt,i);ph(_e,vt);break e}}_e=_e.return}while(_e!==null)}Sk(s)}catch(gt){i=gt,Y===s&&s!==null&&(Y=s=s.return);continue}break}while(!0)}function Jk(){var a=mk.current;return mk.current=Rh,a===null?Rh:a}function tj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),Q$1===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q$1,Z)}function Ik(a,i){var s=K;K|=2;var o=Jk();(Q$1!==a||Z!==i)&&(uk=null,Kk(a,i));do try{Tk();break}catch(j){Mk(a,j)}while(!0);if($g(),K=s,mk.current=o,Y!==null)throw Error(p$1(261));return Q$1=null,Z=0,T$1}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(a){var i=Vk(a.alternate,a,fj);a.memoizedProps=a.pendingProps,i===null?Sk(a):Y=i,nk.current=null}function Sk(a){var i=a;do{var s=i.alternate;if(a=i.return,i.flags&32768){if(s=Ij(s,i),s!==null){s.flags&=32767,Y=s;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{T$1=6,Y=null;return}}else if(s=Ej(s,i,fj),s!==null){Y=s;return}if(i=i.sibling,i!==null){Y=i;return}Y=i=a}while(i!==null);T$1===0&&(T$1=5)}function Pk(a,i,s){var o=C$1,j=ok.transition;try{ok.transition=null,C$1=1,Wk(a,i,s,o)}finally{ok.transition=j,C$1=o}return null}function Wk(a,i,s,o){do Hk();while(wk!==null);if(K&6)throw Error(p$1(327));s=a.finishedWork;var j=a.finishedLanes;if(s===null)return null;if(a.finishedWork=null,a.finishedLanes=0,s===a.current)throw Error(p$1(177));a.callbackNode=null,a.callbackPriority=0;var _e=s.lanes|s.childLanes;if(Bc(a,_e),a===Q$1&&(Y=Q$1=null,Z=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),_e=(s.flags&15990)!==0,s.subtreeFlags&15990||_e){_e=ok.transition,ok.transition=null;var et=C$1;C$1=1;var nt=K;K|=4,nk.current=null,Oj(a,s),dk(s,a),Oe(Df),dd=!!Cf,Df=Cf=null,a.current=s,hk(s),dc(),K=nt,C$1=et,ok.transition=_e}else a.current=s;if(vk&&(vk=!1,wk=a,xk=j),_e=a.pendingLanes,_e===0&&(Ri=null),mc(s.stateNode),Dk(a,B$1()),i!==null)for(o=a.onRecoverableError,s=0;s<i.length;s++)j=i[s],o(j.value,{componentStack:j.stack,digest:j.digest});if(Oi)throw Oi=!1,a=Pi,Pi=null,a;return xk&1&&a.tag!==0&&Hk(),_e=a.pendingLanes,_e&1?a===zk?yk++:(yk=0,zk=a):yk=0,jg(),null}function Hk(){if(wk!==null){var a=Dc(xk),i=ok.transition,s=C$1;try{if(ok.transition=null,C$1=16>a?16:a,wk===null)var o=!1;else{if(a=wk,wk=null,xk=0,K&6)throw Error(p$1(331));var j=K;for(K|=4,V=a.current;V!==null;){var _e=V,et=_e.child;if(V.flags&16){var nt=_e.deletions;if(nt!==null){for(var it=0;it<nt.length;it++){var rt=nt[it];for(V=rt;V!==null;){var st=V;switch(st.tag){case 0:case 11:case 15:Pj(8,st,_e)}var at=st.child;if(at!==null)at.return=st,V=at;else for(;V!==null;){st=V;var ot=st.sibling,ut=st.return;if(Sj(st),st===rt){V=null;break}if(ot!==null){ot.return=ut,V=ot;break}V=ut}}}var ct=_e.alternate;if(ct!==null){var dt=ct.child;if(dt!==null){ct.child=null;do{var ft=dt.sibling;dt.sibling=null,dt=ft}while(dt!==null)}}V=_e}}if(_e.subtreeFlags&2064&&et!==null)et.return=_e,V=et;else e:for(;V!==null;){if(_e=V,_e.flags&2048)switch(_e.tag){case 0:case 11:case 15:Pj(9,_e,_e.return)}var lt=_e.sibling;if(lt!==null){lt.return=_e.return,V=lt;break e}V=_e.return}}var ht=a.current;for(V=ht;V!==null;){et=V;var pt=et.child;if(et.subtreeFlags&2064&&pt!==null)pt.return=et,V=pt;else e:for(et=ht;V!==null;){if(nt=V,nt.flags&2048)try{switch(nt.tag){case 0:case 11:case 15:Qj(9,nt)}}catch(gt){W(nt,nt.return,gt)}if(nt===et){V=null;break e}var vt=nt.sibling;if(vt!==null){vt.return=nt.return,V=vt;break e}V=nt.return}}if(K=j,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,a)}catch{}o=!0}return o}finally{C$1=s,ok.transition=i}}return!1}function Xk(a,i,s){i=Ji(s,i),i=Ni(a,i,1),a=nh(a,i,1),i=R$1(),a!==null&&(Ac(a,1,i),Dk(a,i))}function W(a,i,s){if(a.tag===3)Xk(a,a,s);else for(;i!==null;){if(i.tag===3){Xk(i,a,s);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ri===null||!Ri.has(o))){a=Ji(s,a),a=Qi(i,a,1),i=nh(i,a,1),a=R$1(),i!==null&&(Ac(i,1,a),Dk(i,a));break}}i=i.return}}function Ti(a,i,s){var o=a.pingCache;o!==null&&o.delete(i),i=R$1(),a.pingedLanes|=a.suspendedLanes&s,Q$1===a&&(Z&s)===s&&(T$1===4||T$1===3&&(Z&130023424)===Z&&500>B$1()-fk?Kk(a,0):rk|=s),Dk(a,i)}function Yk(a,i){i===0&&(a.mode&1?(i=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):i=1);var s=R$1();a=ih(a,i),a!==null&&(Ac(a,i,s),Dk(a,s))}function uj(a){var i=a.memoizedState,s=0;i!==null&&(s=i.retryLane),Yk(a,s)}function bk(a,i){var s=0;switch(a.tag){case 13:var o=a.stateNode,j=a.memoizedState;j!==null&&(s=j.retryLane);break;case 19:o=a.stateNode;break;default:throw Error(p$1(314))}o!==null&&o.delete(i),Yk(a,s)}var Vk;Vk=function(a,i,s){if(a!==null)if(a.memoizedProps!==i.pendingProps||Wf.current)dh=!0;else{if(!(a.lanes&s)&&!(i.flags&128))return dh=!1,yj(a,i,s);dh=!!(a.flags&131072)}else dh=!1,I$1&&i.flags&1048576&&ug(i,ng,i.index);switch(i.lanes=0,i.tag){case 2:var o=i.type;ij(a,i),a=i.pendingProps;var j=Yf(i,H$1.current);ch(i,s),j=Nh(null,i,o,a,j,s);var _e=Sh();return i.flags|=1,typeof j=="object"&&j!==null&&typeof j.render=="function"&&j.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Zf(o)?(_e=!0,cg(i)):_e=!1,i.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,kh(i),j.updater=Ei,i.stateNode=j,j._reactInternals=i,Ii(i,o,a,s),i=jj(null,i,o,!0,_e,s)):(i.tag=0,I$1&&_e&&vg(i),Xi(null,i,j,s),i=i.child),i;case 16:o=i.elementType;e:{switch(ij(a,i),a=i.pendingProps,j=o._init,o=j(o._payload),i.type=o,j=i.tag=Zk(o),a=Ci(o,a),j){case 0:i=cj(null,i,o,a,s);break e;case 1:i=hj(null,i,o,a,s);break e;case 11:i=Yi(null,i,o,a,s);break e;case 14:i=$i(null,i,o,Ci(o.type,a),s);break e}throw Error(p$1(306,o,""))}return i;case 0:return o=i.type,j=i.pendingProps,j=i.elementType===o?j:Ci(o,j),cj(a,i,o,j,s);case 1:return o=i.type,j=i.pendingProps,j=i.elementType===o?j:Ci(o,j),hj(a,i,o,j,s);case 3:e:{if(kj(i),a===null)throw Error(p$1(387));o=i.pendingProps,_e=i.memoizedState,j=_e.element,lh(a,i),qh(i,o,null,s);var et=i.memoizedState;if(o=et.element,_e.isDehydrated)if(_e={element:o,isDehydrated:!1,cache:et.cache,pendingSuspenseBoundaries:et.pendingSuspenseBoundaries,transitions:et.transitions},i.updateQueue.baseState=_e,i.memoizedState=_e,i.flags&256){j=Ji(Error(p$1(423)),i),i=lj(a,i,o,s,j);break e}else if(o!==j){j=Ji(Error(p$1(424)),i),i=lj(a,i,o,s,j);break e}else for(yg=Lf(i.stateNode.containerInfo.firstChild),xg=i,I$1=!0,zg=null,s=Vg(i,null,o,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ig(),o===j){i=Zi(a,i,s);break e}Xi(a,i,o,s)}i=i.child}return i;case 5:return Ah(i),a===null&&Eg(i),o=i.type,j=i.pendingProps,_e=a!==null?a.memoizedProps:null,et=j.children,Ef(o,j)?et=null:_e!==null&&Ef(o,_e)&&(i.flags|=32),gj(a,i),Xi(a,i,et,s),i.child;case 6:return a===null&&Eg(i),null;case 13:return oj(a,i,s);case 4:return yh(i,i.stateNode.containerInfo),o=i.pendingProps,a===null?i.child=Ug(i,null,o,s):Xi(a,i,o,s),i.child;case 11:return o=i.type,j=i.pendingProps,j=i.elementType===o?j:Ci(o,j),Yi(a,i,o,j,s);case 7:return Xi(a,i,i.pendingProps,s),i.child;case 8:return Xi(a,i,i.pendingProps.children,s),i.child;case 12:return Xi(a,i,i.pendingProps.children,s),i.child;case 10:e:{if(o=i.type._context,j=i.pendingProps,_e=i.memoizedProps,et=j.value,G(Wg,o._currentValue),o._currentValue=et,_e!==null)if(He(_e.value,et)){if(_e.children===j.children&&!Wf.current){i=Zi(a,i,s);break e}}else for(_e=i.child,_e!==null&&(_e.return=i);_e!==null;){var nt=_e.dependencies;if(nt!==null){et=_e.child;for(var it=nt.firstContext;it!==null;){if(it.context===o){if(_e.tag===1){it=mh(-1,s&-s),it.tag=2;var rt=_e.updateQueue;if(rt!==null){rt=rt.shared;var st=rt.pending;st===null?it.next=it:(it.next=st.next,st.next=it),rt.pending=it}}_e.lanes|=s,it=_e.alternate,it!==null&&(it.lanes|=s),bh(_e.return,s,i),nt.lanes|=s;break}it=it.next}}else if(_e.tag===10)et=_e.type===i.type?null:_e.child;else if(_e.tag===18){if(et=_e.return,et===null)throw Error(p$1(341));et.lanes|=s,nt=et.alternate,nt!==null&&(nt.lanes|=s),bh(et,s,i),et=_e.sibling}else et=_e.child;if(et!==null)et.return=_e;else for(et=_e;et!==null;){if(et===i){et=null;break}if(_e=et.sibling,_e!==null){_e.return=et.return,et=_e;break}et=et.return}_e=et}Xi(a,i,j.children,s),i=i.child}return i;case 9:return j=i.type,o=i.pendingProps.children,ch(i,s),j=eh(j),o=o(j),i.flags|=1,Xi(a,i,o,s),i.child;case 14:return o=i.type,j=Ci(o,i.pendingProps),j=Ci(o.type,j),$i(a,i,o,j,s);case 15:return bj(a,i,i.type,i.pendingProps,s);case 17:return o=i.type,j=i.pendingProps,j=i.elementType===o?j:Ci(o,j),ij(a,i),i.tag=1,Zf(o)?(a=!0,cg(i)):a=!1,ch(i,s),Gi(i,o,j),Ii(i,o,j,s),jj(null,i,o,!0,a,s);case 19:return xj(a,i,s);case 22:return dj(a,i,s)}throw Error(p$1(156,i.tag))};function Fk(a,i){return ac(a,i)}function $k(a,i,s,o){this.tag=a,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(a,i,s,o){return new $k(a,i,s,o)}function aj(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Zk(a){if(typeof a=="function")return aj(a)?1:0;if(a!=null){if(a=a.$$typeof,a===Da)return 11;if(a===Ga)return 14}return 2}function Pg(a,i){var s=a.alternate;return s===null?(s=Bg(a.tag,i,a.key,a.mode),s.elementType=a.elementType,s.type=a.type,s.stateNode=a.stateNode,s.alternate=a,a.alternate=s):(s.pendingProps=i,s.type=a.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=a.flags&14680064,s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,i=a.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=a.sibling,s.index=a.index,s.ref=a.ref,s}function Rg(a,i,s,o,j,_e){var et=2;if(o=a,typeof a=="function")aj(a)&&(et=1);else if(typeof a=="string")et=5;else e:switch(a){case ya:return Tg(s.children,j,_e,i);case za:et=8,j|=8;break;case Aa:return a=Bg(12,s,i,j|2),a.elementType=Aa,a.lanes=_e,a;case Ea:return a=Bg(13,s,i,j),a.elementType=Ea,a.lanes=_e,a;case Fa:return a=Bg(19,s,i,j),a.elementType=Fa,a.lanes=_e,a;case Ia:return pj(s,j,_e,i);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case Ba:et=10;break e;case Ca:et=9;break e;case Da:et=11;break e;case Ga:et=14;break e;case Ha:et=16,o=null;break e}throw Error(p$1(130,a==null?a:typeof a,""))}return i=Bg(et,s,i,j),i.elementType=a,i.type=o,i.lanes=_e,i}function Tg(a,i,s,o){return a=Bg(7,a,o,i),a.lanes=s,a}function pj(a,i,s,o){return a=Bg(22,a,o,i),a.elementType=Ia,a.lanes=s,a.stateNode={isHidden:!1},a}function Qg(a,i,s){return a=Bg(6,a,null,i),a.lanes=s,a}function Sg(a,i,s){return i=Bg(4,a.children!==null?a.children:[],a.key,i),i.lanes=s,i.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},i}function al(a,i,s,o,j){this.tag=i,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=o,this.onRecoverableError=j,this.mutableSourceEagerHydrationData=null}function bl(a,i,s,o,j,_e,et,nt,it){return a=new al(a,i,s,nt,it),i===1?(i=1,_e===!0&&(i|=8)):i=0,_e=Bg(3,null,null,i),a.current=_e,_e.stateNode=a,_e.memoizedState={element:o,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(_e),a}function cl(a,i,s){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:o==null?null:""+o,children:a,containerInfo:i,implementation:s}}function dl(a){if(!a)return Vf;a=a._reactInternals;e:{if(Vb(a)!==a||a.tag!==1)throw Error(p$1(170));var i=a;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Zf(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(p$1(171))}if(a.tag===1){var s=a.type;if(Zf(s))return bg(a,s,i)}return i}function el(a,i,s,o,j,_e,et,nt,it){return a=bl(s,o,!0,a,j,_e,et,nt,it),a.context=dl(null),s=a.current,o=R$1(),j=yi(s),_e=mh(o,j),_e.callback=i??null,nh(s,_e,j),a.current.lanes=j,Ac(a,j,o),Dk(a,o),a}function fl(a,i,s,o){var j=i.current,_e=R$1(),et=yi(j);return s=dl(s),i.context===null?i.context=s:i.pendingContext=s,i=mh(_e,et),i.payload={element:a},o=o===void 0?null:o,o!==null&&(i.callback=o),a=nh(j,i,et),a!==null&&(gi(a,j,et,_e),oh(a,j,et)),et}function gl(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function hl(a,i){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var s=a.retryLane;a.retryLane=s!==0&&s<i?s:i}}function il(a,i){hl(a,i),(a=a.alternate)&&hl(a,i)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(a){console.error(a)};function ll(a){this._internalRoot=a}ml.prototype.render=ll.prototype.render=function(a){var i=this._internalRoot;if(i===null)throw Error(p$1(409));fl(a,i,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var i=a.containerInfo;Rk(function(){fl(null,a,null,null)}),i[uf]=null}};function ml(a){this._internalRoot=a}ml.prototype.unstable_scheduleHydration=function(a){if(a){var i=Hc();a={blockedOn:null,target:a,priority:i};for(var s=0;s<Qc.length&&i!==0&&i<Qc[s].priority;s++);Qc.splice(s,0,a),s===0&&Vc(a)}};function nl(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function ol(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(a,i,s,o,j){if(j){if(typeof o=="function"){var _e=o;o=function(){var rt=gl(et);_e.call(rt)}}var et=el(i,o,a,0,null,!1,!1,"",pl);return a._reactRootContainer=et,a[uf]=et.current,sf(a.nodeType===8?a.parentNode:a),Rk(),et}for(;j=a.lastChild;)a.removeChild(j);if(typeof o=="function"){var nt=o;o=function(){var rt=gl(it);nt.call(rt)}}var it=bl(a,0,!1,null,null,!1,!1,"",pl);return a._reactRootContainer=it,a[uf]=it.current,sf(a.nodeType===8?a.parentNode:a),Rk(function(){fl(i,it,s,o)}),it}function rl(a,i,s,o,j){var _e=s._reactRootContainer;if(_e){var et=_e;if(typeof j=="function"){var nt=j;j=function(){var it=gl(et);nt.call(it)}}fl(i,et,a,j)}else et=ql(s,i,a,j,o);return gl(et)}Ec=function(a){switch(a.tag){case 3:var i=a.stateNode;if(i.current.memoizedState.isDehydrated){var s=tc(i.pendingLanes);s!==0&&(Cc(i,s|1),Dk(i,B$1()),!(K&6)&&(Gj=B$1()+500,jg()))}break;case 13:Rk(function(){var o=ih(a,1);if(o!==null){var j=R$1();gi(o,a,1,j)}}),il(a,1)}};Fc=function(a){if(a.tag===13){var i=ih(a,134217728);if(i!==null){var s=R$1();gi(i,a,134217728,s)}il(a,134217728)}};Gc=function(a){if(a.tag===13){var i=yi(a),s=ih(a,i);if(s!==null){var o=R$1();gi(s,a,i,o)}il(a,i)}};Hc=function(){return C$1};Ic=function(a,i){var s=C$1;try{return C$1=a,i()}finally{C$1=s}};yb=function(a,i,s){switch(i){case"input":if(bb(a,s),i=s.name,s.type==="radio"&&i!=null){for(s=a;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<s.length;i++){var o=s[i];if(o!==a&&o.form===a.form){var j=Db(o);if(!j)throw Error(p$1(90));Wa(o),bb(o,j)}}}break;case"textarea":ib(a,s);break;case"select":i=s.value,i!=null&&fb(a,!!s.multiple,i,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Zb(a),a===null?null:a.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(a,i){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(i))throw Error(p$1(200));return cl(a,i,null,s)};reactDom_production_min.createRoot=function(a,i){if(!nl(a))throw Error(p$1(299));var s=!1,o="",j=kl;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onRecoverableError!==void 0&&(j=i.onRecoverableError)),i=bl(a,1,!1,null,null,s,!1,o,j),a[uf]=i.current,sf(a.nodeType===8?a.parentNode:a),new ll(i)};reactDom_production_min.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var i=a._reactInternals;if(i===void 0)throw typeof a.render=="function"?Error(p$1(188)):(a=Object.keys(a).join(","),Error(p$1(268,a)));return a=Zb(i),a=a===null?null:a.stateNode,a};reactDom_production_min.flushSync=function(a){return Rk(a)};reactDom_production_min.hydrate=function(a,i,s){if(!ol(i))throw Error(p$1(200));return rl(null,a,i,!0,s)};reactDom_production_min.hydrateRoot=function(a,i,s){if(!nl(a))throw Error(p$1(405));var o=s!=null&&s.hydratedSources||null,j=!1,_e="",et=kl;if(s!=null&&(s.unstable_strictMode===!0&&(j=!0),s.identifierPrefix!==void 0&&(_e=s.identifierPrefix),s.onRecoverableError!==void 0&&(et=s.onRecoverableError)),i=el(i,null,a,1,s??null,j,!1,_e,et),a[uf]=i.current,sf(a),o)for(a=0;a<o.length;a++)s=o[a],j=s._getVersion,j=j(s._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[s,j]:i.mutableSourceEagerHydrationData.push(s,j);return new ml(i)};reactDom_production_min.render=function(a,i,s){if(!ol(i))throw Error(p$1(200));return rl(null,a,i,!1,s)};reactDom_production_min.unmountComponentAtNode=function(a){if(!ol(a))throw Error(p$1(40));return a._reactRootContainer?(Rk(function(){rl(null,null,a,!1,function(){a._reactRootContainer=null,a[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(a,i,s,o){if(!ol(s))throw Error(p$1(200));if(a==null||a._reactInternals===void 0)throw Error(p$1(38));return rl(a,i,s,!1,o)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(a){console.error(a)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,createRoot,m$1=reactDomExports;createRoot=m$1.createRoot,m$1.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(a){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=s[o])}return a},_extends$3.apply(this,arguments)}var Action;(function(a){a.Pop="POP",a.Push="PUSH",a.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(a){a===void 0&&(a={});function i(o,j){let{pathname:_e,search:et,hash:nt}=o.location;return createLocation("",{pathname:_e,search:et,hash:nt},j.state&&j.state.usr||null,j.state&&j.state.key||"default")}function s(o,j){return typeof j=="string"?j:createPath(j)}return getUrlBasedHistory(i,s,null,a)}function invariant$1(a,i){if(a===!1||a===null||typeof a>"u")throw new Error(i)}function warning$2(a,i){if(!a){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(a,i){return{usr:a.state,key:a.key,idx:i}}function createLocation(a,i,s,o){return s===void 0&&(s=null),_extends$3({pathname:typeof a=="string"?a:a.pathname,search:"",hash:""},typeof i=="string"?parsePath(i):i,{state:s,key:i&&i.key||o||createKey()})}function createPath(a){let{pathname:i="/",search:s="",hash:o=""}=a;return s&&s!=="?"&&(i+=s.charAt(0)==="?"?s:"?"+s),o&&o!=="#"&&(i+=o.charAt(0)==="#"?o:"#"+o),i}function parsePath(a){let i={};if(a){let s=a.indexOf("#");s>=0&&(i.hash=a.substr(s),a=a.substr(0,s));let o=a.indexOf("?");o>=0&&(i.search=a.substr(o),a=a.substr(0,o)),a&&(i.pathname=a)}return i}function getUrlBasedHistory(a,i,s,o){o===void 0&&(o={});let{window:j=document.defaultView,v5Compat:_e=!1}=o,et=j.history,nt=Action.Pop,it=null,rt=st();rt==null&&(rt=0,et.replaceState(_extends$3({},et.state,{idx:rt}),""));function st(){return(et.state||{idx:null}).idx}function at(){nt=Action.Pop;let ft=st(),lt=ft==null?null:ft-rt;rt=ft,it&&it({action:nt,location:dt.location,delta:lt})}function ot(ft,lt){nt=Action.Push;let ht=createLocation(dt.location,ft,lt);rt=st()+1;let pt=getHistoryState(ht,rt),vt=dt.createHref(ht);try{et.pushState(pt,"",vt)}catch(gt){if(gt instanceof DOMException&&gt.name==="DataCloneError")throw gt;j.location.assign(vt)}_e&&it&&it({action:nt,location:dt.location,delta:1})}function ut(ft,lt){nt=Action.Replace;let ht=createLocation(dt.location,ft,lt);rt=st();let pt=getHistoryState(ht,rt),vt=dt.createHref(ht);et.replaceState(pt,"",vt),_e&&it&&it({action:nt,location:dt.location,delta:0})}function ct(ft){let lt=j.location.origin!=="null"?j.location.origin:j.location.href,ht=typeof ft=="string"?ft:createPath(ft);return ht=ht.replace(/ $/,"%20"),invariant$1(lt,"No window.location.(origin|href) available to create URL for href: "+ht),new URL(ht,lt)}let dt={get action(){return nt},get location(){return a(j,et)},listen(ft){if(it)throw new Error("A history only accepts one active listener");return j.addEventListener(PopStateEventType,at),it=ft,()=>{j.removeEventListener(PopStateEventType,at),it=null}},createHref(ft){return i(j,ft)},createURL:ct,encodeLocation(ft){let lt=ct(ft);return{pathname:lt.pathname,search:lt.search,hash:lt.hash}},push:ot,replace:ut,go(ft){return et.go(ft)}};return dt}var ResultType;(function(a){a.data="data",a.deferred="deferred",a.redirect="redirect",a.error="error"})(ResultType||(ResultType={}));function matchRoutes(a,i,s){return s===void 0&&(s="/"),matchRoutesImpl(a,i,s,!1)}function matchRoutesImpl(a,i,s,o){let j=typeof i=="string"?parsePath(i):i,_e=stripBasename(j.pathname||"/",s);if(_e==null)return null;let et=flattenRoutes(a);rankRouteBranches(et);let nt=null;for(let it=0;nt==null&&it<et.length;++it){let rt=decodePath(_e);nt=matchRouteBranch(et[it],rt,o)}return nt}function flattenRoutes(a,i,s,o){i===void 0&&(i=[]),s===void 0&&(s=[]),o===void 0&&(o="");let j=(_e,et,nt)=>{let it={relativePath:nt===void 0?_e.path||"":nt,caseSensitive:_e.caseSensitive===!0,childrenIndex:et,route:_e};it.relativePath.startsWith("/")&&(invariant$1(it.relativePath.startsWith(o),'Absolute route path "'+it.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),it.relativePath=it.relativePath.slice(o.length));let rt=joinPaths([o,it.relativePath]),st=s.concat(it);_e.children&&_e.children.length>0&&(invariant$1(_e.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+rt+'".')),flattenRoutes(_e.children,i,st,rt)),!(_e.path==null&&!_e.index)&&i.push({path:rt,score:computeScore(rt,_e.index),routesMeta:st})};return a.forEach((_e,et)=>{var nt;if(_e.path===""||!((nt=_e.path)!=null&&nt.includes("?")))j(_e,et);else for(let it of explodeOptionalSegments(_e.path))j(_e,et,it)}),i}function explodeOptionalSegments(a){let i=a.split("/");if(i.length===0)return[];let[s,...o]=i,j=s.endsWith("?"),_e=s.replace(/\?$/,"");if(o.length===0)return j?[_e,""]:[_e];let et=explodeOptionalSegments(o.join("/")),nt=[];return nt.push(...et.map(it=>it===""?_e:[_e,it].join("/"))),j&&nt.push(...et),nt.map(it=>a.startsWith("/")&&it===""?"/":it)}function rankRouteBranches(a){a.sort((i,s)=>i.score!==s.score?s.score-i.score:compareIndexes(i.routesMeta.map(o=>o.childrenIndex),s.routesMeta.map(o=>o.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=a=>a==="*";function computeScore(a,i){let s=a.split("/"),o=s.length;return s.some(isSplat)&&(o+=splatPenalty),i&&(o+=indexRouteValue),s.filter(j=>!isSplat(j)).reduce((j,_e)=>j+(paramRe.test(_e)?dynamicSegmentValue:_e===""?emptySegmentValue:staticSegmentValue),o)}function compareIndexes(a,i){return a.length===i.length&&a.slice(0,-1).every((o,j)=>o===i[j])?a[a.length-1]-i[i.length-1]:0}function matchRouteBranch(a,i,s){let{routesMeta:o}=a,j={},_e="/",et=[];for(let nt=0;nt<o.length;++nt){let it=o[nt],rt=nt===o.length-1,st=_e==="/"?i:i.slice(_e.length)||"/",at=matchPath({path:it.relativePath,caseSensitive:it.caseSensitive,end:rt},st),ot=it.route;if(!at&&rt&&s&&!o[o.length-1].route.index&&(at=matchPath({path:it.relativePath,caseSensitive:it.caseSensitive,end:!1},st)),!at)return null;Object.assign(j,at.params),et.push({params:j,pathname:joinPaths([_e,at.pathname]),pathnameBase:normalizePathname(joinPaths([_e,at.pathnameBase])),route:ot}),at.pathnameBase!=="/"&&(_e=joinPaths([_e,at.pathnameBase]))}return et}function matchPath(a,i){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[s,o]=compilePath(a.path,a.caseSensitive,a.end),j=i.match(s);if(!j)return null;let _e=j[0],et=_e.replace(/(.)\/+$/,"$1"),nt=j.slice(1);return{params:o.reduce((rt,st,at)=>{let{paramName:ot,isOptional:ut}=st;if(ot==="*"){let dt=nt[at]||"";et=_e.slice(0,_e.length-dt.length).replace(/(.)\/+$/,"$1")}const ct=nt[at];return ut&&!ct?rt[ot]=void 0:rt[ot]=(ct||"").replace(/%2F/g,"/"),rt},{}),pathname:_e,pathnameBase:et,pattern:a}}function compilePath(a,i,s){i===void 0&&(i=!1),s===void 0&&(s=!0),warning$2(a==="*"||!a.endsWith("*")||a.endsWith("/*"),'Route path "'+a+'" will be treated as if it were '+('"'+a.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+a.replace(/\*$/,"/*")+'".'));let o=[],j="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(et,nt,it)=>(o.push({paramName:nt,isOptional:it!=null}),it?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(o.push({paramName:"*"}),j+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?j+="\\/*$":a!==""&&a!=="/"&&(j+="(?:(?=\\/|$))"),[new RegExp(j,i?void 0:"i"),o]}function decodePath(a){try{return a.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return warning$2(!1,'The URL path "'+a+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+i+").")),a}}function stripBasename(a,i){if(i==="/")return a;if(!a.toLowerCase().startsWith(i.toLowerCase()))return null;let s=i.endsWith("/")?i.length-1:i.length,o=a.charAt(s);return o&&o!=="/"?null:a.slice(s)||"/"}function resolvePath(a,i){i===void 0&&(i="/");let{pathname:s,search:o="",hash:j=""}=typeof a=="string"?parsePath(a):a;return{pathname:s?s.startsWith("/")?s:resolvePathname(s,i):i,search:normalizeSearch(o),hash:normalizeHash(j)}}function resolvePathname(a,i){let s=i.replace(/\/+$/,"").split("/");return a.split("/").forEach(j=>{j===".."?s.length>1&&s.pop():j!=="."&&s.push(j)}),s.length>1?s.join("/"):"/"}function getInvalidPathError(a,i,s,o){return"Cannot include a '"+a+"' character in a manually specified "+("`to."+i+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(a){return a.filter((i,s)=>s===0||i.route.path&&i.route.path.length>0)}function getResolveToMatches(a,i){let s=getPathContributingMatches(a);return i?s.map((o,j)=>j===s.length-1?o.pathname:o.pathnameBase):s.map(o=>o.pathnameBase)}function resolveTo(a,i,s,o){o===void 0&&(o=!1);let j;typeof a=="string"?j=parsePath(a):(j=_extends$3({},a),invariant$1(!j.pathname||!j.pathname.includes("?"),getInvalidPathError("?","pathname","search",j)),invariant$1(!j.pathname||!j.pathname.includes("#"),getInvalidPathError("#","pathname","hash",j)),invariant$1(!j.search||!j.search.includes("#"),getInvalidPathError("#","search","hash",j)));let _e=a===""||j.pathname==="",et=_e?"/":j.pathname,nt;if(et==null)nt=s;else{let at=i.length-1;if(!o&&et.startsWith("..")){let ot=et.split("/");for(;ot[0]==="..";)ot.shift(),at-=1;j.pathname=ot.join("/")}nt=at>=0?i[at]:"/"}let it=resolvePath(j,nt),rt=et&&et!=="/"&&et.endsWith("/"),st=(_e||et===".")&&s.endsWith("/");return!it.pathname.endsWith("/")&&(rt||st)&&(it.pathname+="/"),it}const joinPaths=a=>a.join("/").replace(/\/\/+/g,"/"),normalizePathname=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,normalizeHash=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function isRouteErrorResponse(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(a){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=s[o])}return a},_extends$2.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(a,i){let{relative:s}=i===void 0?{}:i;useInRouterContext()||invariant$1(!1);let{basename:o,navigator:j}=reactExports.useContext(NavigationContext),{hash:_e,pathname:et,search:nt}=useResolvedPath(a,{relative:s}),it=et;return o!=="/"&&(it=et==="/"?o:joinPaths([o,et])),j.createHref({pathname:it,search:nt,hash:_e})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$1(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(a){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(a)}function useNavigate(){let{isDataRoute:a}=reactExports.useContext(RouteContext);return a?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$1(!1);let a=reactExports.useContext(DataRouterContext),{basename:i,future:s,navigator:o}=reactExports.useContext(NavigationContext),{matches:j}=reactExports.useContext(RouteContext),{pathname:_e}=useLocation(),et=JSON.stringify(getResolveToMatches(j,s.v7_relativeSplatPath)),nt=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{nt.current=!0}),reactExports.useCallback(function(rt,st){if(st===void 0&&(st={}),!nt.current)return;if(typeof rt=="number"){o.go(rt);return}let at=resolveTo(rt,JSON.parse(et),_e,st.relative==="path");a==null&&i!=="/"&&(at.pathname=at.pathname==="/"?i:joinPaths([i,at.pathname])),(st.replace?o.replace:o.push)(at,st.state,st)},[i,o,et,_e,a])}const OutletContext=reactExports.createContext(null);function useOutlet(a){let i=reactExports.useContext(RouteContext).outlet;return i&&reactExports.createElement(OutletContext.Provider,{value:a},i)}function useParams(){let{matches:a}=reactExports.useContext(RouteContext),i=a[a.length-1];return i?i.params:{}}function useResolvedPath(a,i){let{relative:s}=i===void 0?{}:i,{future:o}=reactExports.useContext(NavigationContext),{matches:j}=reactExports.useContext(RouteContext),{pathname:_e}=useLocation(),et=JSON.stringify(getResolveToMatches(j,o.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(a,JSON.parse(et),_e,s==="path"),[a,et,_e,s])}function useRoutes(a,i){return useRoutesImpl(a,i)}function useRoutesImpl(a,i,s,o){useInRouterContext()||invariant$1(!1);let{navigator:j}=reactExports.useContext(NavigationContext),{matches:_e}=reactExports.useContext(RouteContext),et=_e[_e.length-1],nt=et?et.params:{};et&&et.pathname;let it=et?et.pathnameBase:"/";et&&et.route;let rt=useLocation(),st;if(i){var at;let ft=typeof i=="string"?parsePath(i):i;it==="/"||(at=ft.pathname)!=null&&at.startsWith(it)||invariant$1(!1),st=ft}else st=rt;let ot=st.pathname||"/",ut=ot;if(it!=="/"){let ft=it.replace(/^\//,"").split("/");ut="/"+ot.replace(/^\//,"").split("/").slice(ft.length).join("/")}let ct=matchRoutes(a,{pathname:ut}),dt=_renderMatches(ct&&ct.map(ft=>Object.assign({},ft,{params:Object.assign({},nt,ft.params),pathname:joinPaths([it,j.encodeLocation?j.encodeLocation(ft.pathname).pathname:ft.pathname]),pathnameBase:ft.pathnameBase==="/"?it:joinPaths([it,j.encodeLocation?j.encodeLocation(ft.pathnameBase).pathname:ft.pathnameBase])})),_e,s,o);return i&&dt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$2({pathname:"/",search:"",hash:"",state:null,key:"default"},st),navigationType:Action.Pop}},dt):dt}function DefaultErrorComponent(){let a=useRouteError(),i=isRouteErrorResponse(a)?a.status+" "+a.statusText:a instanceof Error?a.message:JSON.stringify(a),s=a instanceof Error?a.stack:null,j={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},i),s?reactExports.createElement("pre",{style:j},s):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,s){return s.location!==i.location||s.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:s.error,location:s.location,revalidation:i.revalidation||s.revalidation}}componentDidCatch(i,s){console.error("React Router caught the following error during render",i,s)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(a){let{routeContext:i,match:s,children:o}=a,j=reactExports.useContext(DataRouterContext);return j&&j.static&&j.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(j.staticContext._deepestRenderedBoundaryId=s.route.id),reactExports.createElement(RouteContext.Provider,{value:i},o)}function _renderMatches(a,i,s,o){var j;if(i===void 0&&(i=[]),s===void 0&&(s=null),o===void 0&&(o=null),a==null){var _e;if(!s)return null;if(s.errors)a=s.matches;else if((_e=o)!=null&&_e.v7_partialHydration&&i.length===0&&!s.initialized&&s.matches.length>0)a=s.matches;else return null}let et=a,nt=(j=s)==null?void 0:j.errors;if(nt!=null){let st=et.findIndex(at=>at.route.id&&(nt==null?void 0:nt[at.route.id])!==void 0);st>=0||invariant$1(!1),et=et.slice(0,Math.min(et.length,st+1))}let it=!1,rt=-1;if(s&&o&&o.v7_partialHydration)for(let st=0;st<et.length;st++){let at=et[st];if((at.route.HydrateFallback||at.route.hydrateFallbackElement)&&(rt=st),at.route.id){let{loaderData:ot,errors:ut}=s,ct=at.route.loader&&ot[at.route.id]===void 0&&(!ut||ut[at.route.id]===void 0);if(at.route.lazy||ct){it=!0,rt>=0?et=et.slice(0,rt+1):et=[et[0]];break}}}return et.reduceRight((st,at,ot)=>{let ut,ct=!1,dt=null,ft=null;s&&(ut=nt&&at.route.id?nt[at.route.id]:void 0,dt=at.route.errorElement||defaultErrorElement,it&&(rt<0&&ot===0?(ct=!0,ft=null):rt===ot&&(ct=!0,ft=at.route.hydrateFallbackElement||null)));let lt=i.concat(et.slice(0,ot+1)),ht=()=>{let pt;return ut?pt=dt:ct?pt=ft:at.route.Component?pt=reactExports.createElement(at.route.Component,null):at.route.element?pt=at.route.element:pt=st,reactExports.createElement(RenderedRoute,{match:at,routeContext:{outlet:st,matches:lt,isDataRoute:s!=null},children:pt})};return s&&(at.route.ErrorBoundary||at.route.errorElement||ot===0)?reactExports.createElement(RenderErrorBoundary,{location:s.location,revalidation:s.revalidation,component:dt,error:ut,children:ht(),routeContext:{outlet:null,matches:lt,isDataRoute:!0}}):ht()},null)}var DataRouterHook$1=function(a){return a.UseBlocker="useBlocker",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a}(DataRouterHook$1||{}),DataRouterStateHook$1=function(a){return a.UseBlocker="useBlocker",a.UseLoaderData="useLoaderData",a.UseActionData="useActionData",a.UseRouteError="useRouteError",a.UseNavigation="useNavigation",a.UseRouteLoaderData="useRouteLoaderData",a.UseMatches="useMatches",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a.UseRouteId="useRouteId",a}(DataRouterStateHook$1||{});function useDataRouterContext(a){let i=reactExports.useContext(DataRouterContext);return i||invariant$1(!1),i}function useDataRouterState(a){let i=reactExports.useContext(DataRouterStateContext);return i||invariant$1(!1),i}function useRouteContext(a){let i=reactExports.useContext(RouteContext);return i||invariant$1(!1),i}function useCurrentRouteId(a){let i=useRouteContext(),s=i.matches[i.matches.length-1];return s.route.id||invariant$1(!1),s.route.id}function useRouteError(){var a;let i=reactExports.useContext(RouteErrorContext),s=useDataRouterState(DataRouterStateHook$1.UseRouteError),o=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return i!==void 0?i:(a=s.errors)==null?void 0:a[o]}function useNavigateStable(){let{router:a}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),i=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),s=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{s.current=!0}),reactExports.useCallback(function(j,_e){_e===void 0&&(_e={}),s.current&&(typeof j=="number"?a.navigate(j):a.navigate(j,_extends$2({fromRouteId:i},_e)))},[a,i])}function Outlet(a){return useOutlet(a.context)}function Route(a){invariant$1(!1)}function Router(a){let{basename:i="/",children:s=null,location:o,navigationType:j=Action.Pop,navigator:_e,static:et=!1,future:nt}=a;useInRouterContext()&&invariant$1(!1);let it=i.replace(/^\/*/,"/"),rt=reactExports.useMemo(()=>({basename:it,navigator:_e,static:et,future:_extends$2({v7_relativeSplatPath:!1},nt)}),[it,nt,_e,et]);typeof o=="string"&&(o=parsePath(o));let{pathname:st="/",search:at="",hash:ot="",state:ut=null,key:ct="default"}=o,dt=reactExports.useMemo(()=>{let ft=stripBasename(st,it);return ft==null?null:{location:{pathname:ft,search:at,hash:ot,state:ut,key:ct},navigationType:j}},[it,st,at,ot,ut,ct,j]);return dt==null?null:reactExports.createElement(NavigationContext.Provider,{value:rt},reactExports.createElement(LocationContext.Provider,{children:s,value:dt}))}function Routes(a){let{children:i,location:s}=a;return useRoutes(createRoutesFromChildren(i),s)}new Promise(()=>{});function createRoutesFromChildren(a,i){i===void 0&&(i=[]);let s=[];return reactExports.Children.forEach(a,(o,j)=>{if(!reactExports.isValidElement(o))return;let _e=[...i,j];if(o.type===reactExports.Fragment){s.push.apply(s,createRoutesFromChildren(o.props.children,_e));return}o.type!==Route&&invariant$1(!1),!o.props.index||!o.props.children||invariant$1(!1);let et={id:o.props.id||_e.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(et.children=createRoutesFromChildren(o.props.children,_e)),s.push(et)}),s}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(a){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=s[o])}return a},_extends$1.apply(this,arguments)}function _objectWithoutPropertiesLoose$1(a,i){if(a==null)return{};var s={},o=Object.keys(a),j,_e;for(_e=0;_e<o.length;_e++)j=o[_e],!(i.indexOf(j)>=0)&&(s[j]=a[j]);return s}function isModifiedEvent(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function shouldProcessLinkClick(a,i){return a.button===0&&(!i||i==="_self")&&!isModifiedEvent(a)}const _excluded$1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React[START_TRANSITION];function BrowserRouter(a){let{basename:i,children:s,future:o,window:j}=a,_e=reactExports.useRef();_e.current==null&&(_e.current=createBrowserHistory({window:j,v5Compat:!0}));let et=_e.current,[nt,it]=reactExports.useState({action:et.action,location:et.location}),{v7_startTransition:rt}=o||{},st=reactExports.useCallback(at=>{rt&&startTransitionImpl?startTransitionImpl(()=>it(at)):it(at)},[it,rt]);return reactExports.useLayoutEffect(()=>et.listen(st),[et,st]),reactExports.createElement(Router,{basename:i,children:s,location:nt.location,navigationType:nt.action,navigator:et,future:o})}const isBrowser$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(i,s){let{onClick:o,relative:j,reloadDocument:_e,replace:et,state:nt,target:it,to:rt,preventScrollReset:st,unstable_viewTransition:at}=i,ot=_objectWithoutPropertiesLoose$1(i,_excluded$1),{basename:ut}=reactExports.useContext(NavigationContext),ct,dt=!1;if(typeof rt=="string"&&ABSOLUTE_URL_REGEX.test(rt)&&(ct=rt,isBrowser$1))try{let pt=new URL(window.location.href),vt=rt.startsWith("//")?new URL(pt.protocol+rt):new URL(rt),gt=stripBasename(vt.pathname,ut);vt.origin===pt.origin&&gt!=null?rt=gt+vt.search+vt.hash:dt=!0}catch{}let ft=useHref(rt,{relative:j}),lt=useLinkClickHandler(rt,{replace:et,state:nt,target:it,preventScrollReset:st,relative:j,unstable_viewTransition:at});function ht(pt){o&&o(pt),pt.defaultPrevented||lt(pt)}return reactExports.createElement("a",_extends$1({},ot,{href:ct||ft,onClick:dt||_e?o:ht,ref:s,target:it}))});var DataRouterHook;(function(a){a.UseScrollRestoration="useScrollRestoration",a.UseSubmit="useSubmit",a.UseSubmitFetcher="useSubmitFetcher",a.UseFetcher="useFetcher",a.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(a){a.UseFetcher="useFetcher",a.UseFetchers="useFetchers",a.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(a,i){let{target:s,replace:o,state:j,preventScrollReset:_e,relative:et,unstable_viewTransition:nt}=i===void 0?{}:i,it=useNavigate(),rt=useLocation(),st=useResolvedPath(a,{relative:et});return reactExports.useCallback(at=>{if(shouldProcessLinkClick(at,s)){at.preventDefault();let ot=o!==void 0?o:createPath(rt)===createPath(st);it(a,{replace:ot,state:j,preventScrollReset:_e,relative:et,unstable_viewTransition:nt})}},[rt,it,st,o,j,s,a,_e,et,nt])}var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=e.createContext&&e.createContext(DefaultContext),_excluded=["attr","size","title"];function _objectWithoutProperties(a,i){if(a==null)return{};var s=_objectWithoutPropertiesLoose(a,i),o,j;if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(a);for(j=0;j<_e.length;j++)o=_e[j],!(i.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(a,o)&&(s[o]=a[o])}return s}function _objectWithoutPropertiesLoose(a,i){if(a==null)return{};var s={};for(var o in a)if(Object.prototype.hasOwnProperty.call(a,o)){if(i.indexOf(o)>=0)continue;s[o]=a[o]}return s}function _extends(){return _extends=Object.assign?Object.assign.bind():function(a){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=s[o])}return a},_extends.apply(this,arguments)}function ownKeys(a,i){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(a);i&&(o=o.filter(function(j){return Object.getOwnPropertyDescriptor(a,j).enumerable})),s.push.apply(s,o)}return s}function _objectSpread(a){for(var i=1;i<arguments.length;i++){var s=arguments[i]!=null?arguments[i]:{};i%2?ownKeys(Object(s),!0).forEach(function(o){_defineProperty(a,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):ownKeys(Object(s)).forEach(function(o){Object.defineProperty(a,o,Object.getOwnPropertyDescriptor(s,o))})}return a}function _defineProperty(a,i,s){return i=_toPropertyKey(i),i in a?Object.defineProperty(a,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[i]=s,a}function _toPropertyKey(a){var i=_toPrimitive(a,"string");return typeof i=="symbol"?i:i+""}function _toPrimitive(a,i){if(typeof a!="object"||!a)return a;var s=a[Symbol.toPrimitive];if(s!==void 0){var o=s.call(a,i||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(a)}function Tree2Element(a){return a&&a.map((i,s)=>e.createElement(i.tag,_objectSpread({key:s},i.attr),Tree2Element(i.child)))}function GenIcon(a){return i=>e.createElement(IconBase,_extends({attr:_objectSpread({},a.attr)},i),Tree2Element(a.child))}function IconBase(a){var i=s=>{var{attr:o,size:j,title:_e}=a,et=_objectWithoutProperties(a,_excluded),nt=j||s.size||"1em",it;return s.className&&(it=s.className),a.className&&(it=(it?it+" ":"")+a.className),e.createElement("svg",_extends({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,o,et,{className:it,style:_objectSpread(_objectSpread({color:a.color||s.color},s.style),a.style),height:nt,width:nt,xmlns:"http://www.w3.org/2000/svg"}),_e&&e.createElement("title",null,_e),a.children)};return IconContext!==void 0?e.createElement(IconContext.Consumer,null,s=>i(s)):i(DefaultContext)}function FaFacebookF(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(a)}function FaInstagram(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(a)}function FaLinkedinIn(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"},child:[]}]})(a)}function FaTwitter(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(a)}function FaBars(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(a)}function FaSpinner(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(a)}function FaTimes(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(a)}const SISTNLOGO="/assets/SISTN-LOGO-BVwk8cHY.png",LinkComponent=({label:a,href:i,onClick:s})=>jsxRuntimeExports.jsx(Link,{to:i,className:`\r
        text-sistn-dark-blue \r
        hover:text-sistn-blue\r
        font-semibold \r
        text-1xl\r
        transition-colors \r
        duration-300\r
        block\r
        px-4\r
        py-2\r
        rounded-md\r
        hover:bg-gray-100\r
        focus:outline-none\r
        focus:ring-2\r
        focus:ring-blue-500\r
        focus:ring-opacity-50\r
        sm:px-2\r
        md:px-4\r
        lg:text-lg\r
      `,onClick:s,children:a});function MdCalendarMonth(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V10h14v10zM9 14H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm-8 4H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2z"},child:[]}]})(a)}function MdClass(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4z"},child:[]}]})(a)}function MdArrowDropDown(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m7 10 5 5 5-5z"},child:[]}]})(a)}function MdMeetingRoom(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14 6v15H3v-2h2V3h9v1h5v15h2v2h-4V6h-3zm-4 5v2h2v-2h-2z"},child:[]}]})(a)}function MdPartyMode(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4h-3.17L15 2H9L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 3c1.63 0 3.06.79 3.98 2H12c-1.66 0-3 1.34-3 3 0 .35.07.69.18 1H7.1A5.002 5.002 0 0 1 12 7zm0 10c-1.63 0-3.06-.79-3.98-2H12c1.66 0 3-1.34 3-3 0-.35-.07-.69-.18-1h2.08a5.002 5.002 0 0 1-4.9 6z"},child:[]}]})(a)}const Dropdown=({title:a,links:i,isOpen:s,onToggle:o})=>{const j=()=>{onClose&&onClose()};return jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("button",{onClick:o,className:"flex text-2xl items-center focus:outline-none max-md:text-3xl",children:[a,jsxRuntimeExports.jsx(MdArrowDropDown,{size:20})]}),s&&jsxRuntimeExports.jsx("div",{className:"absolute left-0 mt-2 flex flex-col gap-2 w-52 bg-white rounded-md shadow-lg z-50 max-md:text-2xl",children:i.map(_e=>jsxRuntimeExports.jsx(LinkComponent,{label:_e.label,href:_e.href,onClick:j},_e.href))})]})},Navbar=()=>{const[a,i]=reactExports.useState(null),[s,o]=reactExports.useState(!1),[j,_e]=reactExports.useState(!1),et=st=>{i(a===st?null:st)},nt=()=>{o(!s)},it=()=>{i(null)},rt=()=>{_e(window.scrollY>50)};return reactExports.useEffect(()=>(window.addEventListener("scroll",rt),()=>{window.removeEventListener("scroll",rt)}),[]),jsxRuntimeExports.jsx("header",{id:"header",className:`page-header shadow z-50 sticky ${j?"bg-white":"bg-transparent"}`,children:jsxRuntimeExports.jsx("div",{className:`bg-sistn-dark-blue text-white transition duration-300 ${j?"bg-opacity-90":"bg-opacity-100"}`,children:jsxRuntimeExports.jsxs("div",{className:"nav m-0 flex items-center justify-between relative",children:[jsxRuntimeExports.jsx("div",{className:"navbar-brand",children:jsxRuntimeExports.jsx(Link,{to:"/",children:jsxRuntimeExports.jsx("section",{className:"hidden-folded d-inline",children:jsxRuntimeExports.jsx("img",{width:140,src:SISTNLOGO,alt:"Logo"})})})}),jsxRuntimeExports.jsx("div",{className:"lg:hidden",children:jsxRuntimeExports.jsx("button",{className:"flex items-center p-2",onClick:nt,"aria-label":"Toggle mobile menu",children:s?jsxRuntimeExports.jsx(FaTimes,{size:30}):jsxRuntimeExports.jsx(FaBars,{size:30})})}),jsxRuntimeExports.jsx("div",{className:`absolute lg:static left-0 top-full bg-sistn-dark-blue w-full lg:w-auto transition-all duration-300 ${s?"block":"hidden"} lg:block`,id:"navbarToggler",children:jsxRuntimeExports.jsxs("ul",{className:"flex items-center flex-col lg:flex-row gap-4 p-4 lg:p-0",children:[jsxRuntimeExports.jsx("li",{className:"nav-item",children:jsxRuntimeExports.jsx(Dropdown,{title:"About",links:[{label:"History",href:"/history"},{label:"Organization and Constitution",href:"/organization"},{label:"Memorandum of Association",href:"/about/memorandum-of-association"},{label:"Article of Association",href:"/about/article-of-association"}],isOpen:a==="about",onToggle:()=>et("about"),onClose:it})}),jsxRuntimeExports.jsx("li",{className:"nav-item",children:jsxRuntimeExports.jsx(Dropdown,{title:"Membership",links:[{label:"Membership Categories",href:"/membership-categories"},{label:"Membership Form",href:"/form"}],isOpen:a==="membership",onToggle:()=>et("membership"),onClose:it})}),jsxRuntimeExports.jsx("li",{className:"nav-item",children:jsxRuntimeExports.jsx(Dropdown,{title:"Events",links:[{label:"Webinars",href:"/webinars"},{label:"Lectures and Seminars",href:"/lectures-and-seminars"},{label:"Founders Day Lectures",href:"/founders-day-lectures"},{label:"Conference",href:"/conference"},{label:"Induction of Members",href:"/induction-of-members"}],isOpen:a==="events",onToggle:()=>et("events"),onClose:it})}),jsxRuntimeExports.jsx("li",{className:"nav-item",children:jsxRuntimeExports.jsx(Link,{to:"/contact",className:"nav-link text-1xl max-md:text-3xl",children:"Contact"})})]})})]})})})},ContactInformation=()=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl text-sistn-dark-blue font-bold mb-4 max-md:text-4xl",children:"CONTACT"}),jsxRuntimeExports.jsxs("p",{className:"mb-4 text-sistn-blue max-md:text-2xl",children:[jsxRuntimeExports.jsx("strong",{children:"Office Address:"})," ",jsxRuntimeExports.jsx("br",{}),"Department of Data and Information Science, ",jsxRuntimeExports.jsx("br",{}),"6 Benue Road, University of Ibadan, Ibadan, Oyo State, Nigeria."]}),jsxRuntimeExports.jsxs("p",{className:"mb-4 text-sistn-blue max-md:text-2xl",children:[jsxRuntimeExports.jsx("strong",{children:"Email Address:"})," ",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("a",{href:"mailto:infodesk@sistn.org",className:"text-blue-600 hover:underline",children:"infodesk@sistn.org"})]}),jsxRuntimeExports.jsxs("p",{className:"mb-4 text-sistn-blue max-md:text-2xl",children:[jsxRuntimeExports.jsx("strong",{children:"Membership Enquiries:"})," ",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("a",{href:"mailto:membership@SISTN.com",className:"text-blue-600 hover:underline",children:"membership@SISTN.com"})]}),jsxRuntimeExports.jsxs("p",{className:"mb-4 text-sistn-blue max-md:text-2xl",children:[jsxRuntimeExports.jsx("strong",{children:"Seminar and Webinar Enquiries:"})," ",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("a",{href:"mailto:sistninfo@gmail.com",className:"text-blue-600 hover:underline",children:"sistninfo@gmail.com"})]}),jsxRuntimeExports.jsxs("p",{className:"mb-4 text-sistn-blue max-md:text-2xl",children:[jsxRuntimeExports.jsx("strong",{children:"Website:"})," ",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("a",{href:"http://www.sistn.org",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"www.sistn.org"})," "]})]}),SocialMediaIcon=({href:a,icon:i,iconColor:s,label:o})=>jsxRuntimeExports.jsx("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"text-sistn-dark-blue hover:text-blue-500","aria-label":o,style:{fontSize:"20px",color:`${s}`},children:i}),SocialMediaIcons=()=>{const a=[{href:"https://www.facebook.com",icon:jsxRuntimeExports.jsx(FaFacebookF,{}),label:"Facebook",iconColor:"darkblue"},{href:"https://www.twitter.com",icon:jsxRuntimeExports.jsx(FaTwitter,{}),label:"Twitter",iconColor:"lightblue"},{href:"https://www.linkedin.com",icon:jsxRuntimeExports.jsx(FaLinkedinIn,{}),label:"LinkedIn",iconColor:"blue"},{href:"https://www.instagram.com",icon:jsxRuntimeExports.jsx(FaInstagram,{}),label:"Instagram",iconColor:"pink"}];return jsxRuntimeExports.jsx("div",{className:"flex justify-center space-x-4",children:a.map(i=>jsxRuntimeExports.jsx(SocialMediaIcon,{href:i.href,icon:i.icon,iconColor:i.iconColor,label:i.label},i.label))})},GoogleMapsSection=()=>(reactExports.useEffect(()=>{function a(){const i=document.createElement("iframe");i.src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3956.1502849957424!2d3.8924040740924735!3d7.448620192562519!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x1039f3d95969df33%3A0xdfaca1ba64b7171d!2sDepartment%20of%20Data%20and%20Information%20Science!5e0!3m2!1sen!2sng!4v1726679353257!5m2!1sen!2sng&output=embed&iwloc=false&z=15",i.width="100%",i.height="100%",i.allowFullscreen="",i.loading="lazy",i.style.border="0",i.referrerPolicy="no-referrer-when-downgrade";const s=document.getElementById("map-container");s&&s.appendChild(i)}a()},[]),jsxRuntimeExports.jsxs("div",{className:"w-full px-4 py-8",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold mb-4 text-center max-md:text-3xl",children:"Locate Us via Google Maps"}),jsxRuntimeExports.jsx("div",{id:"map-container",className:"w-full border border-gray-600 rounded-md overflow-hidden"})]})),Footer=()=>jsxRuntimeExports.jsx("footer",{className:"bg-sistn-grey text-sistn-dark-blue py-10",children:jsxRuntimeExports.jsxs("div",{className:"w-full sm:w-full bg-white bg-opacity-20 p-8 rounded-lg shadow-lg backdrop-filter backdrop-blur-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between max-sm:flex-col max-sm:items-center",children:[jsxRuntimeExports.jsx(ContactInformation,{}),jsxRuntimeExports.jsx(GoogleMapsSection,{})]}),jsxRuntimeExports.jsx("div",{className:"mt-6 text-center",children:jsxRuntimeExports.jsx(SocialMediaIcons,{})}),jsxRuntimeExports.jsxs("div",{className:"mt-8 text-center text-md text-gray-700",children:["© ",new Date().getFullYear()," SISTN. All rights reserved."]})]})});function WebsiteContainer(){return jsxRuntimeExports.jsxs("main",{children:[jsxRuntimeExports.jsxs("main",{className:"app-container",children:[jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsx("div",{className:"main-container",children:jsxRuntimeExports.jsx(Outlet,{})})]}),jsxRuntimeExports.jsx(Footer,{})]})}const PeopleTogetherImage="/assets/people-together-CA9T-jnI.webp",Card=({image:a,title:i,description:s,link:o,ctaText:j})=>jsxRuntimeExports.jsxs("div",{className:"bg-sistn-gray shadow-md rounded-lg overflow-hidden transition-transform transform hover:scale-105 hover:shadow-xl",children:[jsxRuntimeExports.jsx("img",{src:a,alt:i,className:"w-full h-64 object-cover"}),jsxRuntimeExports.jsxs("div",{className:"p-7 text-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-3xl font-bold mb-2 text-gray-800 max-md:text-4xl",children:i}),jsxRuntimeExports.jsx("p",{className:"text-gray-900 mb-4 max-md:text-3xl",children:s}),jsxRuntimeExports.jsx("button",{className:"bg-sistn-blue text-white py-2 px-4 rounded-lg hover:bg-blue-700 focus:outline-none max-md:text-2xl",children:jsxRuntimeExports.jsx(Link,{to:o,children:j})})]})]}),MissionImage="/assets/Mission-CCfP2scl.webp",VisionImage="/assets/Vision-PdMe6_B-.webp",VisionAndMission=({bgColor:a,textColor:i})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("section",{id:"vision",className:"py-10 bg-gray-50",children:jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-4",children:[jsxRuntimeExports.jsxs("div",{className:`${a} flex items-center justify-between px-2 py-4 rounded-lg shadow-lg text-center max-md:flex-col max-sm:gap-6`,children:[jsxRuntimeExports.jsx("img",{src:VisionImage,alt:"Vision",className:"mb-4 object-cover mx-auto rounded-lg"}),jsxRuntimeExports.jsxs("div",{className:"max-w-60ch",children:[jsxRuntimeExports.jsx("h4",{className:`${i} text-4xl font-bold mb-4 max-md:text-5xl`,children:"Vision Statement"}),jsxRuntimeExports.jsx("p",{className:`text-2xl ${i} max-w-70ch sm:text-3xl max-md:text-3xl`,children:"A Nigerian society wherein quality information and appropriate information technologies are effectively harnessed to promote growth, development, and social inclusion."})]})]}),jsxRuntimeExports.jsxs("div",{id:"mission",className:`${a} flex items-center justify-between px-2 py-4 rounded-lg shadow-lg text-center max-md:flex-col max-sm:gap-6`,children:[jsxRuntimeExports.jsxs("div",{className:"max-w-60ch",children:[jsxRuntimeExports.jsx("h4",{className:`${i} text-4xl font-bold mb-4 max-md:text-5xl`,children:"Mission Statement"}),jsxRuntimeExports.jsx("p",{className:`text-2xl ${i} max-w-70ch sm:text-3xl max-md:text-3xl`,children:"To advance knowledge and professionalism in information science and technology through research, education, and promotion of public awareness."})]}),jsxRuntimeExports.jsx("img",{src:MissionImage,alt:"Mission",className:"mb-4 object-cover mx-auto rounded-lg"})]})]})})})}),ProfessionalDevelopmentImage="/assets/Professional-Development-DfwuzAIv.avif",DigitalMediaAndTechnologiesImage="/assets/Information-Management-BwWkibLU.avif",API_BASE_URL="http://localhost:5001/api",customFetch=async(a,i="GET",s=null,o={})=>{const j=`${API_BASE_URL}${a}`,_e={method:i,headers:{"Content-Type":"application/json",...o},...s&&{body:JSON.stringify(s)}};try{const et=await fetch(j,_e);if(!et.ok)throw new Error(`Error: ${et.statusText}`);return await et.json()}catch(et){throw new Error(et.message)}},SISTNINDUCTIONIMAGE="/assets/SISTN-2025-INDUCTION-1_-bEE98.jpg",dummyEvents=[{id:1,title:"SISTN Induction Ceremony 2025",date:"Coming Soon: September 20, 2025",description:"Join industry leaders and tech enthusiasts for a deep dive into the future of digital transformation. Explore trends in AI, machine learning, and data analytics.",image:SISTNINDUCTIONIMAGE,upcoming:!0,ctaText:"Register",link:"/membership-offline-form"}],EventSection=()=>{const[a,i]=reactExports.useState([]),[s,o]=reactExports.useState(!0),[j,_e]=reactExports.useState(null);return reactExports.useEffect(()=>{(async()=>{try{const nt=await customFetch("/events");i(nt)}catch(nt){_e(nt.message)}finally{o(!1)}})()},[]),s?jsxRuntimeExports.jsx("div",{children:"Loading events..."}):jsxRuntimeExports.jsx("div",{className:"bg-white py-16 px-8 md:px-16 lg:px-32",children:jsxRuntimeExports.jsx("section",{className:"py-12 bg-white",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-3xl font-bold text-sistn-dark-blue text-center mb-6 max-md:text-5xl",children:"Upcoming Events"}),jsxRuntimeExports.jsx("div",{className:"grid w-full grid-cols-1 md:grid-cols-3 gap-6",children:dummyEvents.map(et=>et.upcoming?jsxRuntimeExports.jsx("div",{className:"col-span-3",children:jsxRuntimeExports.jsx(Card,{image:et.image,title:et.title,description:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("p",{className:"max-md:text-3xl",children:et.description}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mt-2 max-md:text-3xl",children:et.date})]}),link:et.link,ctaText:et.ctaText},et.id)}):jsxRuntimeExports.jsx("div",{className:"block",children:jsxRuntimeExports.jsx(Card,{image:et.image,title:et.title,description:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("p",{className:"max-md:text-3xl",children:et.description}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mt-2 max-md:text-3xl",children:et.date})]}),link:et.link,ctaText:et.ctaText},et.id)}))})]})})})},Welcome=()=>{const a=[{image:DigitalMediaAndTechnologiesImage,title:"Information Management",description:"We provide expertise in managing and organizing critical information for public and private sector organizations.",link:"#",ctaText:"Read More",upcoming:!1},{image:DigitalMediaAndTechnologiesImage,title:"Digital Media & Technologies",description:"We offer cutting-edge solutions in digital media, big data analytics, and machine learning applications.",link:"#",ctaText:"Read More",upcoming:!1},{image:ProfessionalDevelopmentImage,title:"Professional Development",description:"We provide professional services to upgrade skills and knowledge for members and corporate organizations.",link:"#",ctaText:"Read More",upcoming:!1}];return jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsxs("div",{className:"bg-sistn-gray min-h-[min-w-600px] py-4",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-center mb-8",children:jsxRuntimeExports.jsx("img",{src:PeopleTogetherImage,alt:"People Together",className:"object-cover rounded-lg"})}),jsxRuntimeExports.jsx("div",{className:"mb-6",children:jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-sistn-dark-blue mb-4 max-md:text-5xl",children:"Society for Information Science & Technology of Nigeria"})})]}),jsxRuntimeExports.jsx("section",{id:"about",className:"py-12 bg-white",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4 text-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-4xl font-bold text-sistn-dark-blue mb-6 max-md:text-5xl",children:"About SISTN"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-2xl mb-8 max-md:text-3xl",children:"SISTN is a nongovernmental organisation registered in Nigeria by the Corporate Affairs Commission (CAC) with a broad mandate to cater for the professional interests of information professionals and allied disciplines in Nigeria."}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-2xl max-md:text-3xl",children:"SISTN is committed to professionalism in fields such as information management, digital media, big data analytics, business intelligence, machine learning, and artificial intelligence."})]})}),jsxRuntimeExports.jsx(VisionAndMission,{bgColor:"bg-sistn-dark-blue",textColor:"text-white"}),jsxRuntimeExports.jsx("section",{className:"py-12 bg-white",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-3xl font-bold text-sistn-dark-blue text-center mb-6 max-md:text-5xl",children:"Our Services"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:a.map((i,s)=>jsxRuntimeExports.jsx(Card,{image:i.image,title:i.title,description:i.description,link:i.link,ctaText:i.ctaText},s))})]})}),jsxRuntimeExports.jsx(EventSection,{})]})},EarlyBeginningsImage="/assets/Early-Beginnings-D_q_zn0H.avif",FormationImage="/assets/Formation-BkYAgSXU.avif",Objectives=()=>{const a=["To promote the education of information scientists and professionals","To promote research in information science and technology","To promote multidisciplinary collaboration and interdisciplinary approaches on issues pertaining to creation, sharing, and use of information, knowledge, and information technology for national and global development","To develop the competence and promote the professional integrity of information scientists and technologists","To champion and protect the interests of the information science and technology profession, and improve public awareness on matters pertaining to the practice of the profession"];return jsxRuntimeExports.jsx("section",{className:"bg-gradient-to-r from-sistn-blue to-sistn-dark-blue text-grey mx-24 max-md:mx-5 bg-[url('/path-to-your-image.jpg')] bg-cover bg-center bg-no-repeat py-16 px-8",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-4xl font-bold mb-6 text-sistn-green max-md:text-5xl",children:"Our Objectives"}),jsxRuntimeExports.jsx("div",{className:"max-w-4xl mx-auto",children:jsxRuntimeExports.jsx("ul",{className:"text-lg text-left space-y-4",children:a.map(i=>jsxRuntimeExports.jsx("li",{className:"bg-sistn-gray bg-opacity-20 text-sistn-gray rounded-lg p-4 hover:bg-opacity-30 transition duration-300",children:jsxRuntimeExports.jsx("span",{className:"font-semibold text-2xl max-md:text-4xl",children:i})}))})})]})})},History=()=>jsxRuntimeExports.jsxs("div",{className:"py-12 px-4 lg:px-20 bg-gray-100",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-12",children:[jsxRuntimeExports.jsx("h2",{className:"text-4xl font-bold text-sistn-dark-blue max-md:text-5xl",children:"A Brief History of SISTN"}),jsxRuntimeExports.jsx("p",{className:"text-2xl text-gray-600 mt-2 max-md:text-3xl",children:"The journey towards the formation of the Society for Information Science and Technology of Nigeria (SISTN)."})]}),jsxRuntimeExports.jsx("section",{className:"mb-16",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-4xl font-bold text-gray-800 mb-4",children:"The Early Beginnings"}),jsxRuntimeExports.jsx("p",{className:"text-2xl text-gray-700 max-md:text-3xl",children:"The need for a Professional Society for trained and practicing information scientists and professionals in academia, public services, industries and allied disciplines as a platform to promote the growth and rapid development of the Information Science and Technology occupations, professions, and careers in Nigeria was keenly felt right from when the Africa Regional Centre for Information Science (ARCIS) began operation in 1990. However, several challenges and unforeseen circumstances prevented action on the formation of a professional body to cater to the needs of information professionals in Nigeria. ARCIS (now DDIS) has since trained more than 1,500 high-level human resources through its higher degree academic and professional degree programmes alone, not to talk of the exponentially growing number of graduates of bachelor’s and master’s degrees, higher national diplomas, and high-level industry certification programmes in the Information Science and Technology sector in Nigeria and in the diaspora."})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("img",{src:EarlyBeginningsImage,alt:"Early Beginnings",className:"w-full h-auto rounded-lg shadow-lg"})})]})}),jsxRuntimeExports.jsx("section",{className:"mb-16",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("img",{src:FormationImage,alt:"Formation of SISTN",className:"w-full h-auto rounded-lg shadow-lg"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Formation of SISTN"}),jsxRuntimeExports.jsx("p",{className:"text-2xl text-gray-700 max-md:text-3xl",children:"The yearning for a professional body to cater to Nigerian graduates of the Information Sciences was realized on the 12th of April 2008 when Mr. Olatunji Apampa convened a meeting of like-minded individuals and professionals in the Information Sciences in Ibadan. In attendance at the meeting were Professor Mutawakilu Tiamiyu, Professor Oluwole Olatokun, Dr. Williams Nwagwu, Dr. Rosemary Agbonlahor, a host of ARCIS alumni, and many other attendees."})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("h3",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Declaration and Name of Society"}),jsxRuntimeExports.jsx("p",{className:"text-2xl text-gray-700 max-md:text-3xl",children:"The society shall be known as the “Nigeria Society for Information Science and Technology” (NSIST, pronounced “en-cist” as suggested by Dr. Williams Nwagwu). April 12, 2008, was taken as the foundation day for NSIST."})]}),jsxRuntimeExports.jsx(VisionAndMission,{bgColor:"bg-sistn-dark-blue",textColor:"text-white"}),jsxRuntimeExports.jsx(Objectives,{}),jsxRuntimeExports.jsxs("p",{className:"text-gray-700 text-2xl mt-6",children:[jsxRuntimeExports.jsx("b",{children:"NB: "}),"It must be emphasised that the take-off of SISTN was due to the efforts of many including the Department of Data and Information Science (DDIS formerly ARCIS). The contributions of individuals such as Professor M.A. Tiamiyu, Professor Oluwole Olatokun, Mr. Olatunji Apampa, Dr. Williams Nwagwu, Dr. Funmilayo Omotayo, Dr. Olamidipupo Ajigboye and Dr. Rosemary Agbonlahor cannot be overemphasised. The pioneering efforts of the mentioned individuals was instrumental to the growth of SISTN in more ways than one. The dedication to duty and love of the profession remains the driving force behind SISTN and its accolades of achievements till date."]})]}),Icon=({name:a,viewBox:i})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),Button=({loading:a,variant:i="primary",disabled:s,btnClass:o,withIcon:j,body:_e,type:et="button",size:nt="default",onClick:it=()=>{},title:rt})=>{const st=()=>{switch(i){case"primary":return"bg-blue-500 text-white hover:bg-blue-600";case"secondary":return"bg-gray-500 text-white hover:bg-gray-600";case"danger":return"bg-red-500 text-white hover:bg-red-600";default:return"bg-gray-200 text-black"}},at=()=>{switch(nt){case"large":return"px-8 py-3 text-lg";case"small":return"px-4 py-1 text-sm";case"xsmall":return"px-3 py-1 text-xs";default:return"px-6 py-2 text-base"}},ot=()=>{switch(nt){case"large":return 20;case"xsmall":return 12;default:return 15}},ut=()=>{switch(i){case"primary":return"#ffffff";default:return"var(--text-20)"}},ct=`inline-flex items-center justify-center rounded-md font-semibold focus:outline-none transition duration-150 ease-in-out ${s||a?"opacity-50 cursor-not-allowed":""} ${st()} ${at()} ${o??""}`,dt=()=>j?jsxRuntimeExports.jsx(Icon,{name:j,className:"mr-2"}):null;return jsxRuntimeExports.jsx("button",{className:ct,type:et,disabled:s||a,onClick:it??(()=>{}),title:rt,children:a?jsxRuntimeExports.jsx("span",{className:"flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"loader",style:{width:ot(),height:ot(),backgroundColor:ut()},children:jsxRuntimeExports.jsx(FaSpinner,{color:"bg-sistn-blue"})})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[dt()," ",_e]})})},MembershipCategories=()=>{const a=[{title:"Professional Member",description:"A person with a tertiary-level qualification relevant to the Information Science and Technology industry can apply for the Professional Member grade. Professional Members are entitled to use the letters PSISTN (Professional Member of the Society for Information Science and Technology of Nigeria) after their names.",privileges:["Vote on general Society business","Hold office or committee chairmanships","Sit on committees and vote on matters","Receive all SISTN publications"],image:ProfessionalDevelopmentImage},{title:"Associate Member",description:"Professional Members with 10+ years of experience can apply for Associate Member status. Associate Members are entitled to use the letters ASISTN after their names.",privileges:["Vote on general Society business","Hold office or committee chairmanships","Sit on committees and vote on matters","Receive all SISTN publications"],image:ProfessionalDevelopmentImage},{title:"Corporate Membership",description:"Corporate organisations in the information business can apply for Corporate Membership. They receive benefits and privileges designed for organisations in the industry.",image:ProfessionalDevelopmentImage},{title:"Student Member",description:"Full-time students in Information Science and Technology programs recognized by SISTN can apply for Student Membership. Student members enjoy discounted rates on SISTN activities and publications.",privileges:["Receive copies of e-magazines and e-newsletters","Reduced registration fees for meetings","Discounted subscription rates for SISTN journals"],image:ProfessionalDevelopmentImage},{title:"Fellows",description:"SISTN Fellow status is awarded to individuals with lifetime contributions to the Information Science and Technology professions. Fellows are entitled to use the letters FSISTN after their names.",privileges:["Receive all SISTN publications","Exempt from participation fees in any SISTN activity"],image:ProfessionalDevelopmentImage},{title:"Honorary Fellowship",description:"Honorary Fellowship is bestowed on individuals who have made significant contributions to Information Science and Technology in Nigeria and beyond.",privileges:["Receive all SISTN publications","Exempt from participation fees in any SISTN activity"],image:ProfessionalDevelopmentImage}];return jsxRuntimeExports.jsx("div",{className:"py-16 px-4",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto",children:[jsxRuntimeExports.jsx("h1",{className:"text-5xl font-bold text-center text-gray-900 mb-14",children:"SISTN Membership Categories"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-12",children:a.map((i,s)=>jsxRuntimeExports.jsxs("div",{className:"bg-white shadow-lg rounded-xl overflow-hidden transition-transform transform hover:scale-105 hover:shadow-2xl",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("img",{src:i.image,alt:i.title,className:"h-60 w-full object-cover rounded-t-xl"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black to-transparent opacity-60 rounded-t-xl"}),jsxRuntimeExports.jsx("h2",{className:"absolute bottom-4 left-4 text-2xl max-md:text-4xl font-semibold text-white z-10",children:i.title})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-4",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-950 leading-relaxed max-md:text-3xl",children:i.description}),i.privileges&&jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:i.privileges.map((o,j)=>jsxRuntimeExports.jsxs("li",{className:"flex items-start max-md:text-3xl",children:[jsxRuntimeExports.jsx("span",{className:"mr-2 text-sistn-dark-blue",children:"✔️"}),jsxRuntimeExports.jsx("span",{className:"text-gray-800",children:o})]},j))}),jsxRuntimeExports.jsx(LinkComponent,{label:jsxRuntimeExports.jsx(Button,{body:"Learn More",size:"large",btnClass:"mt-6 w-full py-2 max-md:text-2xl bg-sistn-dark-blue text-white text-center rounded-lg font-semibold hover:bg-sistn-blue transition-colors"}),href:`/membership-categories/${i.title.replace(/ /g,"-")}`})]})]},s))}),jsxRuntimeExports.jsx("div",{className:"flex justify-center mt-12",children:jsxRuntimeExports.jsx(LinkComponent,{label:jsxRuntimeExports.jsx(Button,{body:"Register as a New Member",size:"large",btnClass:"text-4xl max-md:text-3xl"}),href:"/membership-form"})})]})})},Event$1=()=>{const[a,i]=reactExports.useState([]),s="SISTN INDUCTION IMAGE",o="/membership-offline-form",j="Register Now";return reactExports.useEffect(()=>{(async()=>{try{const et=await fetch(window.location.hostname==="localhost"?"http://localhost:5001/api/events":"https://sistn-backend.onrender.com/events",{method:"GET"}),nt=await et.json();et.ok?i(nt):showToast("error",nt.message)}catch(et){showToast("error",`Failed to fetch events: ${et}`)}finally{setLoading(!1)}})()},[]),jsxRuntimeExports.jsxs("div",{className:"bg-white py-16 px-8 md:px-16 lg:px-32 gap-4 flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-12",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold text-green-600 mb-4",children:"Upcoming Events"}),jsxRuntimeExports.jsx("p",{className:"text-2xl text-gray-700",children:"Stay updated with our upcoming webinars, seminars, workshops, and more."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-100 p-6 rounded-lg shadow-lg col-span-4",children:[jsxRuntimeExports.jsxs("h2",{className:"text-2xl font-semibold text-gray-800 mb-4 flex items-center",children:[jsxRuntimeExports.jsx(MdPartyMode,{className:"mr-2 text-sistn-green"}),"SISTN Webinars"]}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 mb-4",children:"Join us for engaging webinars led by seasoned professionals in the information sciences and technology. Our speakers discuss contemporary issues, providing valuable insights and encouraging participant interaction."}),jsxRuntimeExports.jsx("div",{className:"mb-4",children:jsxRuntimeExports.jsx("iframe",{width:"100%",height:"315",src:"https://www.youtube.com/embed/KaEl37mRQqQ?si=LkhGojRmRtBd7WfH",title:"SISTN Webinar",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),jsxRuntimeExports.jsx("button",{onClick:()=>window.open("https://www.youtube.com/KaEl37mRQqQ?si=LkhGojRmRtBd7WfH","_blank"),className:"text-sistn-blue hover:underline",children:"Watch on YouTube"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-100 p-6 rounded-lg shadow-lg",children:[jsxRuntimeExports.jsxs("h2",{className:"text-2xl font-semibold text-gray-800 mb-4 flex items-center",children:[jsxRuntimeExports.jsx(MdCalendarMonth,{className:"mr-2 text-sistn-green"}),"Annual Conference & Induction"]}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 mb-4",children:"The SISTN Conference and Induction Ceremony occur annually, welcoming new members into the SISTN community and fostering professional development."}),jsxRuntimeExports.jsx("div",{className:"bg-gray-100 p-6 rounded-lg shadow-lg col-span-4",children:jsxRuntimeExports.jsx("img",{src:SISTNINDUCTIONIMAGE,alt:s,className:"w-full h-100 object-cover"})}),jsxRuntimeExports.jsx("div",{className:"text-center mt-4",children:jsxRuntimeExports.jsx("button",{className:"bg-sistn-blue text-white py-2 px-4 rounded-lg hover:bg-blue-700 focus:outline-none max-md:text-2xl",children:jsxRuntimeExports.jsx(Link,{to:o,children:j})})})]}),jsxRuntimeExports.jsxs("div",{className:"grid gap-8 lg:grid-cols-2",children:[a.map((_e,et)=>jsxRuntimeExports.jsxs("div",{className:"bg-gray-100 p-6 rounded-lg shadow-lg",children:[jsxRuntimeExports.jsxs("h2",{className:"text-2xl font-semibold text-gray-800 mb-4 flex items-center",children:[jsxRuntimeExports.jsx(MdCalendarMonth,{className:"mr-2 text-sistn-green"}),_e.title]}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 mb-4",children:_e.description}),_e.videoUrl&&jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("iframe",{width:"100%",height:"315",src:`https://www.youtube.com/embed/${_e.videoUrl}`,title:_e.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),jsxRuntimeExports.jsx("button",{onClick:()=>window.open(`https://www.youtube.com/watch?v=${_e.videoUrl}`,"_blank"),className:"text-sistn-blue hover:underline",children:"Watch on YouTube"})]})]},et)),jsxRuntimeExports.jsxs("div",{className:"bg-gray-100 p-6 rounded-lg shadow-lg",children:[jsxRuntimeExports.jsxs("h2",{className:"text-2xl font-semibold text-gray-800 mb-4 flex items-center",children:[jsxRuntimeExports.jsx(MdMeetingRoom,{className:"mr-2 text-sistn-green"}),"Seminars and Workshops"]}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-4",children:"SISTN regularly hosts seminars, workshops, and training programs at various locations throughout Nigeria."}),jsxRuntimeExports.jsx("ul",{className:"list-disc list-inside text-gray-700",children:jsxRuntimeExports.jsx("li",{children:"Participate in skill-building sessions tailored to industry needs."})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-100 p-6 rounded-lg shadow-lg",children:[jsxRuntimeExports.jsxs("h2",{className:"text-2xl font-semibold text-gray-800 mb-4 flex items-center",children:[jsxRuntimeExports.jsx(MdClass,{className:"mr-2 text-sistn-green"}),"Founders Day Lecture"]}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 mb-4",children:"Annually in April, SISTN commemorates its founding with the Founders Day Lecture, inviting professionals from the information industry to share insights."}),jsxRuntimeExports.jsx("ul",{className:"list-disc list-inside text-gray-700",children:jsxRuntimeExports.jsx("li",{children:"Corporate organizations can showcase their products, and startups are encouraged to participate."})})]})]})]})},InductionOfMembers=()=>jsxRuntimeExports.jsx("div",{className:"bg-white py-16 px-8 md:px-16 lg:px-32 gap-4 flex flex-col",children:jsxRuntimeExports.jsxs("div",{className:"text-center mb-12",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold text-green-600 mb-4",children:"Induction of Members"}),jsxRuntimeExports.jsx("p",{className:"text-2xl text-gray-700 mb-6",children:"Register for the 2025 Induction Ceremony coming up on Saturday 20th September, 2025."}),jsxRuntimeExports.jsx("div",{className:"bg-gray-100 p-6 rounded-lg shadow-lg col-span-4",children:jsxRuntimeExports.jsx("img",{src:SISTNINDUCTIONIMAGE,alt:"SISTN INDUCTION IMAGE",className:"w-full h-100 object-cover"})}),jsxRuntimeExports.jsx("div",{className:"text-center mt-4",children:jsxRuntimeExports.jsx("button",{className:"bg-sistn-blue text-white py-2 px-4 rounded-lg hover:bg-blue-700 focus:outline-none max-md:text-2xl",children:jsxRuntimeExports.jsx(Link,{to:"/membership-offline-form",children:"Register Now"})})})]})}),TextInput=({label:a,name:i,type:s="text",value:o,placeholder:j,onChange:_e,error:et,disabled:nt=!1,size:it="default",inputClass:rt,labelClass:st,containerClass:at})=>{const ot=()=>{switch(it){case"large":return"p-4 text-1xl";case"small":return"p-2 text-sm";default:return"p-3 text-base"}};return jsxRuntimeExports.jsxs("div",{className:`mb-4 ${at}`,children:[a&&jsxRuntimeExports.jsx("label",{htmlFor:i,className:`block font-medium mb-1 ${st}`,children:a}),jsxRuntimeExports.jsx("input",{id:i,name:i,type:s,value:o,onChange:_e,placeholder:j,disabled:nt,className:`w-full border rounded-md focus:ring-2 focus:ring-sistn-blue focus:outline-none transition duration-150 ease-in-out block border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500
                    ${nt?"opacity-50 cursor-not-allowed":""} 
                    ${et?"border-red-500":"border-gray-300"} 
                    ${ot()} ${rt}`}),et&&jsxRuntimeExports.jsx("p",{className:"mt-2 text-sm text-red-500",children:et})]})},TextArea=({id:a,value:i,label:s,labelClass:o="",onChange:j,placeholder:_e,disabled:et=!1,textareaClass:nt=""})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:o,htmlFor:a,children:s}),jsxRuntimeExports.jsx("textarea",{id:a,className:`border rounded-md p-3 focus:outline-none ${nt} resize-none`,value:i,onChange:j,placeholder:_e,disabled:et,rows:5})]}),FormValidation=({errorMessage:a})=>a?jsxRuntimeExports.jsx("div",{className:"text-red-500 max-md:text-2xl",children:a}):null,validateForm=(a,i)=>{let s={};return Object.keys(i).forEach(o=>{i[o].forEach(_e=>{if(_e.type==="required"){const et=a[o];(!et||typeof et=="string"&&et.trim()==="")&&(s[o]=_e.message)}if(_e.type==="pattern"&&a[o]){const et=a[o],nt=new RegExp(_e.pattern);typeof et=="string"&&!nt.test(et)&&(s[o]=_e.message)}_e.type==="custom"&&a[o]&&(_e.condition(a)||(s[o]=_e.message))})}),s},clearForm=(a,i={})=>{const s={};return Object.keys(a).forEach(o=>{o in i?s[o]=i[o]:typeof a[o]=="string"?s[o]="":typeof a[o]=="number"?s[o]=0:Array.isArray(a[o])?s[o]=[]:(a[o]instanceof File,s[o]=null)}),s};function r(a){var i,s,o="";if(typeof a=="string"||typeof a=="number")o+=a;else if(typeof a=="object")if(Array.isArray(a)){var j=a.length;for(i=0;i<j;i++)a[i]&&(s=r(a[i]))&&(o&&(o+=" "),o+=s)}else for(s in a)a[s]&&(o&&(o+=" "),o+=s);return o}function clsx(){for(var a,i,s=0,o="",j=arguments.length;s<j;s++)(a=arguments[s])&&(i=r(a))&&(o&&(o+=" "),o+=i);return o}const c=a=>typeof a=="number"&&!isNaN(a),d=a=>typeof a=="string",u=a=>typeof a=="function",p=a=>d(a)||u(a)?a:null,m=a=>reactExports.isValidElement(a)||d(a)||u(a)||c(a);function f(a,i,s){s===void 0&&(s=300);const{scrollHeight:o,style:j}=a;requestAnimationFrame(()=>{j.minHeight="initial",j.height=o+"px",j.transition=`all ${s}ms`,requestAnimationFrame(()=>{j.height="0",j.padding="0",j.margin="0",setTimeout(i,s)})})}function g(a){let{enter:i,exit:s,appendPosition:o=!1,collapse:j=!0,collapseDuration:_e=300}=a;return function(et){let{children:nt,position:it,preventExitTransition:rt,done:st,nodeRef:at,isIn:ot,playToast:ut}=et;const ct=o?`${i}--${it}`:i,dt=o?`${s}--${it}`:s,ft=reactExports.useRef(0);return reactExports.useLayoutEffect(()=>{const lt=at.current,ht=ct.split(" "),pt=vt=>{vt.target===at.current&&(ut(),lt.removeEventListener("animationend",pt),lt.removeEventListener("animationcancel",pt),ft.current===0&&vt.type!=="animationcancel"&&lt.classList.remove(...ht))};lt.classList.add(...ht),lt.addEventListener("animationend",pt),lt.addEventListener("animationcancel",pt)},[]),reactExports.useEffect(()=>{const lt=at.current,ht=()=>{lt.removeEventListener("animationend",ht),j?f(lt,st,_e):st()};ot||(rt?ht():(ft.current=1,lt.className+=` ${dt}`,lt.addEventListener("animationend",ht)))},[ot]),e.createElement(e.Fragment,null,nt)}}function y(a,i){return a!=null?{content:a.content,containerId:a.props.containerId,id:a.props.toastId,theme:a.props.theme,type:a.props.type,data:a.props.data||{},isLoading:a.props.isLoading,icon:a.props.icon,status:i}:{}}const v=new Map;let h=[];const T=new Set,E=a=>T.forEach(i=>i(a)),b=()=>v.size>0;function I(a,i){var s;if(i)return!((s=v.get(i))==null||!s.isToastActive(a));let o=!1;return v.forEach(j=>{j.isToastActive(a)&&(o=!0)}),o}function _(a,i){m(a)&&(b()||h.push({content:a,options:i}),v.forEach(s=>{s.buildToast(a,i)}))}function C(a,i){v.forEach(s=>{i!=null&&i!=null&&i.containerId?(i==null?void 0:i.containerId)===s.id&&s.toggle(a,i==null?void 0:i.id):s.toggle(a,i==null?void 0:i.id)})}function L(a){const{subscribe:i,getSnapshot:s,setProps:o}=reactExports.useRef(function(_e){const et=_e.containerId||1;return{subscribe(nt){const it=function(st,at,ot){let ut=1,ct=0,dt=[],ft=[],lt=[],ht=at;const pt=new Map,vt=new Set,gt=()=>{lt=Array.from(pt.values()),vt.forEach(bt=>bt())},_t=bt=>{ft=bt==null?[]:ft.filter(Ct=>Ct!==bt),gt()},mt=bt=>{const{toastId:Ct,onOpen:Pt,updateId:St,children:Mt}=bt.props,Dt=St==null;bt.staleId&&pt.delete(bt.staleId),pt.set(Ct,bt),ft=[...ft,bt.props.toastId].filter(Qt=>Qt!==bt.staleId),gt(),ot(y(bt,Dt?"added":"updated")),Dt&&u(Pt)&&Pt(reactExports.isValidElement(Mt)&&Mt.props)};return{id:st,props:ht,observe:bt=>(vt.add(bt),()=>vt.delete(bt)),toggle:(bt,Ct)=>{pt.forEach(Pt=>{Ct!=null&&Ct!==Pt.props.toastId||u(Pt.toggle)&&Pt.toggle(bt)})},removeToast:_t,toasts:pt,clearQueue:()=>{ct-=dt.length,dt=[]},buildToast:(bt,Ct)=>{if((Ft=>{let{containerId:Et,toastId:Tt,updateId:kt}=Ft;const jt=Et?Et!==st:st!==1,Nt=pt.has(Tt)&&kt==null;return jt||Nt})(Ct))return;const{toastId:Pt,updateId:St,data:Mt,staleId:Dt,delay:Qt}=Ct,Xt=()=>{_t(Pt)},Yt=St==null;Yt&&ct++;const Ht={...ht,style:ht.toastStyle,key:ut++,...Object.fromEntries(Object.entries(Ct).filter(Ft=>{let[Et,Tt]=Ft;return Tt!=null})),toastId:Pt,updateId:St,data:Mt,closeToast:Xt,isIn:!1,className:p(Ct.className||ht.toastClassName),bodyClassName:p(Ct.bodyClassName||ht.bodyClassName),progressClassName:p(Ct.progressClassName||ht.progressClassName),autoClose:!Ct.isLoading&&(Ut=Ct.autoClose,Lt=ht.autoClose,Ut===!1||c(Ut)&&Ut>0?Ut:Lt),deleteToast(){const Ft=pt.get(Pt),{onClose:Et,children:Tt}=Ft.props;u(Et)&&Et(reactExports.isValidElement(Tt)&&Tt.props),ot(y(Ft,"removed")),pt.delete(Pt),ct--,ct<0&&(ct=0),dt.length>0?mt(dt.shift()):gt()}};var Ut,Lt;Ht.closeButton=ht.closeButton,Ct.closeButton===!1||m(Ct.closeButton)?Ht.closeButton=Ct.closeButton:Ct.closeButton===!0&&(Ht.closeButton=!m(ht.closeButton)||ht.closeButton);let zt=bt;reactExports.isValidElement(bt)&&!d(bt.type)?zt=reactExports.cloneElement(bt,{closeToast:Xt,toastProps:Ht,data:Mt}):u(bt)&&(zt=bt({closeToast:Xt,toastProps:Ht,data:Mt}));const Zt={content:zt,props:Ht,staleId:Dt};ht.limit&&ht.limit>0&&ct>ht.limit&&Yt?dt.push(Zt):c(Qt)?setTimeout(()=>{mt(Zt)},Qt):mt(Zt)},setProps(bt){ht=bt},setToggle:(bt,Ct)=>{pt.get(bt).toggle=Ct},isToastActive:bt=>ft.some(Ct=>Ct===bt),getSnapshot:()=>ht.newestOnTop?lt.reverse():lt}}(et,_e,E);v.set(et,it);const rt=it.observe(nt);return h.forEach(st=>_(st.content,st.options)),h=[],()=>{rt(),v.delete(et)}},setProps(nt){var it;(it=v.get(et))==null||it.setProps(nt)},getSnapshot(){var nt;return(nt=v.get(et))==null?void 0:nt.getSnapshot()}}}(a)).current;o(a);const j=reactExports.useSyncExternalStore(i,s,s);return{getToastToRender:function(_e){if(!j)return[];const et=new Map;return j.forEach(nt=>{const{position:it}=nt.props;et.has(it)||et.set(it,[]),et.get(it).push(nt)}),Array.from(et,nt=>_e(nt[0],nt[1]))},isToastActive:I,count:j==null?void 0:j.length}}function N(a){const[i,s]=reactExports.useState(!1),[o,j]=reactExports.useState(!1),_e=reactExports.useRef(null),et=reactExports.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:nt,pauseOnHover:it,closeToast:rt,onClick:st,closeOnClick:at}=a;var ot,ut;function ct(){s(!0)}function dt(){s(!1)}function ft(pt){const vt=_e.current;et.canDrag&&vt&&(et.didMove=!0,i&&dt(),et.delta=a.draggableDirection==="x"?pt.clientX-et.start:pt.clientY-et.start,et.start!==pt.clientX&&(et.canCloseOnClick=!1),vt.style.transform=`translate3d(${a.draggableDirection==="x"?`${et.delta}px, var(--y)`:`0, calc(${et.delta}px + var(--y))`},0)`,vt.style.opacity=""+(1-Math.abs(et.delta/et.removalDistance)))}function lt(){document.removeEventListener("pointermove",ft),document.removeEventListener("pointerup",lt);const pt=_e.current;if(et.canDrag&&et.didMove&&pt){if(et.canDrag=!1,Math.abs(et.delta)>et.removalDistance)return j(!0),a.closeToast(),void a.collapseAll();pt.style.transition="transform 0.2s, opacity 0.2s",pt.style.removeProperty("transform"),pt.style.removeProperty("opacity")}}(ut=v.get((ot={id:a.toastId,containerId:a.containerId,fn:s}).containerId||1))==null||ut.setToggle(ot.id,ot.fn),reactExports.useEffect(()=>{if(a.pauseOnFocusLoss)return document.hasFocus()||dt(),window.addEventListener("focus",ct),window.addEventListener("blur",dt),()=>{window.removeEventListener("focus",ct),window.removeEventListener("blur",dt)}},[a.pauseOnFocusLoss]);const ht={onPointerDown:function(pt){if(a.draggable===!0||a.draggable===pt.pointerType){et.didMove=!1,document.addEventListener("pointermove",ft),document.addEventListener("pointerup",lt);const vt=_e.current;et.canCloseOnClick=!0,et.canDrag=!0,vt.style.transition="none",a.draggableDirection==="x"?(et.start=pt.clientX,et.removalDistance=vt.offsetWidth*(a.draggablePercent/100)):(et.start=pt.clientY,et.removalDistance=vt.offsetHeight*(a.draggablePercent===80?1.5*a.draggablePercent:a.draggablePercent)/100)}},onPointerUp:function(pt){const{top:vt,bottom:gt,left:_t,right:mt}=_e.current.getBoundingClientRect();pt.nativeEvent.type!=="touchend"&&a.pauseOnHover&&pt.clientX>=_t&&pt.clientX<=mt&&pt.clientY>=vt&&pt.clientY<=gt?dt():ct()}};return nt&&it&&(ht.onMouseEnter=dt,a.stacked||(ht.onMouseLeave=ct)),at&&(ht.onClick=pt=>{st&&st(pt),et.canCloseOnClick&&rt()}),{playToast:ct,pauseToast:dt,isRunning:i,preventExitTransition:o,toastRef:_e,eventHandlers:ht}}function $(a){let{delay:i,isRunning:s,closeToast:o,type:j="default",hide:_e,className:et,style:nt,controlledProgress:it,progress:rt,rtl:st,isIn:at,theme:ot}=a;const ut=_e||it&&rt===0,ct={...nt,animationDuration:`${i}ms`,animationPlayState:s?"running":"paused"};it&&(ct.transform=`scaleX(${rt})`);const dt=clsx("Toastify__progress-bar",it?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${ot}`,`Toastify__progress-bar--${j}`,{"Toastify__progress-bar--rtl":st}),ft=u(et)?et({rtl:st,type:j,defaultClassName:dt}):clsx(dt,et),lt={[it&&rt>=1?"onTransitionEnd":"onAnimationEnd"]:it&&rt<1?null:()=>{at&&o()}};return e.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":ut},e.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${ot} Toastify__progress-bar--${j}`}),e.createElement("div",{role:"progressbar","aria-hidden":ut?"true":"false","aria-label":"notification timer",className:ft,style:ct,...lt}))}let w=1;const k=()=>""+w++;function P(a){return a&&(d(a.toastId)||c(a.toastId))?a.toastId:k()}function M(a,i){return _(a,i),i.toastId}function x(a,i){return{...i,type:i&&i.type||a,toastId:P(i)}}function A(a){return(i,s)=>M(i,x(a,s))}function B(a,i){return M(a,x("default",i))}B.loading=(a,i)=>M(a,x("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...i})),B.promise=function(a,i,s){let o,{pending:j,error:_e,success:et}=i;j&&(o=d(j)?B.loading(j,s):B.loading(j.render,{...s,...j}));const nt={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},it=(st,at,ot)=>{if(at==null)return void B.dismiss(o);const ut={type:st,...nt,...s,data:ot},ct=d(at)?{render:at}:at;return o?B.update(o,{...ut,...ct}):B(ct.render,{...ut,...ct}),ot},rt=u(a)?a():a;return rt.then(st=>it("success",et,st)).catch(st=>it("error",_e,st)),rt},B.success=A("success"),B.info=A("info"),B.error=A("error"),B.warning=A("warning"),B.warn=B.warning,B.dark=(a,i)=>M(a,x("default",{theme:"dark",...i})),B.dismiss=function(a){(function(i){var s;if(b()){if(i==null||d(s=i)||c(s))v.forEach(o=>{o.removeToast(i)});else if(i&&("containerId"in i||"id"in i)){const o=v.get(i.containerId);o?o.removeToast(i.id):v.forEach(j=>{j.removeToast(i.id)})}}else h=h.filter(o=>i!=null&&o.options.toastId!==i)})(a)},B.clearWaitingQueue=function(a){a===void 0&&(a={}),v.forEach(i=>{!i.props.limit||a.containerId&&i.id!==a.containerId||i.clearQueue()})},B.isActive=I,B.update=function(a,i){i===void 0&&(i={});const s=((o,j)=>{var _e;let{containerId:et}=j;return(_e=v.get(et||1))==null?void 0:_e.toasts.get(o)})(a,i);if(s){const{props:o,content:j}=s,_e={delay:100,...o,...i,toastId:i.toastId||a,updateId:k()};_e.toastId!==a&&(_e.staleId=a);const et=_e.render||j;delete _e.render,M(et,_e)}},B.done=a=>{B.update(a,{progress:1})},B.onChange=function(a){return T.add(a),()=>{T.delete(a)}},B.play=a=>C(!0,a),B.pause=a=>C(!1,a);const O=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,D=a=>{let{theme:i,type:s,isLoading:o,...j}=a;return e.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:i==="colored"?"currentColor":`var(--toastify-icon-color-${s})`,...j})},z={info:function(a){return e.createElement(D,{...a},e.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(a){return e.createElement(D,{...a},e.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(a){return e.createElement(D,{...a},e.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(a){return e.createElement(D,{...a},e.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return e.createElement("div",{className:"Toastify__spinner"})}},R=a=>{const{isRunning:i,preventExitTransition:s,toastRef:o,eventHandlers:j,playToast:_e}=N(a),{closeButton:et,children:nt,autoClose:it,onClick:rt,type:st,hideProgressBar:at,closeToast:ot,transition:ut,position:ct,className:dt,style:ft,bodyClassName:lt,bodyStyle:ht,progressClassName:pt,progressStyle:vt,updateId:gt,role:_t,progress:mt,rtl:bt,toastId:Ct,deleteToast:Pt,isIn:St,isLoading:Mt,closeOnClick:Dt,theme:Qt}=a,Xt=clsx("Toastify__toast",`Toastify__toast-theme--${Qt}`,`Toastify__toast--${st}`,{"Toastify__toast--rtl":bt},{"Toastify__toast--close-on-click":Dt}),Yt=u(dt)?dt({rtl:bt,position:ct,type:st,defaultClassName:Xt}):clsx(Xt,dt),Ht=function(Zt){let{theme:Ft,type:Et,isLoading:Tt,icon:kt}=Zt,jt=null;const Nt={theme:Ft,type:Et};return kt===!1||(u(kt)?jt=kt({...Nt,isLoading:Tt}):reactExports.isValidElement(kt)?jt=reactExports.cloneElement(kt,Nt):Tt?jt=z.spinner():($t=>$t in z)(Et)&&(jt=z[Et](Nt))),jt}(a),Ut=!!mt||!it,Lt={closeToast:ot,type:st,theme:Qt};let zt=null;return et===!1||(zt=u(et)?et(Lt):reactExports.isValidElement(et)?reactExports.cloneElement(et,Lt):function(Zt){let{closeToast:Ft,theme:Et,ariaLabel:Tt="close"}=Zt;return e.createElement("button",{className:`Toastify__close-button Toastify__close-button--${Et}`,type:"button",onClick:kt=>{kt.stopPropagation(),Ft(kt)},"aria-label":Tt},e.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},e.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(Lt)),e.createElement(ut,{isIn:St,done:Pt,position:ct,preventExitTransition:s,nodeRef:o,playToast:_e},e.createElement("div",{id:Ct,onClick:rt,"data-in":St,className:Yt,...j,style:ft,ref:o},e.createElement("div",{...St&&{role:_t},className:u(lt)?lt({type:st}):clsx("Toastify__toast-body",lt),style:ht},Ht!=null&&e.createElement("div",{className:clsx("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!Mt})},Ht),e.createElement("div",null,nt)),zt,e.createElement($,{...gt&&!Ut?{key:`pb-${gt}`}:{},rtl:bt,theme:Qt,delay:it,isRunning:i,isIn:St,closeToast:ot,hide:at,type:st,style:vt,className:pt,controlledProgress:Ut,progress:mt||0})))},S=function(a,i){return i===void 0&&(i=!1),{enter:`Toastify--animate Toastify__${a}-enter`,exit:`Toastify--animate Toastify__${a}-exit`,appendPosition:i}},H=g(S("bounce",!0));g(S("slide",!0));g(S("zoom"));g(S("flip"));const q={position:"top-right",transition:H,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function Q(a){let i={...q,...a};const s=a.stacked,[o,j]=reactExports.useState(!0),_e=reactExports.useRef(null),{getToastToRender:et,isToastActive:nt,count:it}=L(i),{className:rt,style:st,rtl:at,containerId:ot}=i;function ut(dt){const ft=clsx("Toastify__toast-container",`Toastify__toast-container--${dt}`,{"Toastify__toast-container--rtl":at});return u(rt)?rt({position:dt,rtl:at,defaultClassName:ft}):clsx(ft,p(rt))}function ct(){s&&(j(!0),B.play())}return O(()=>{if(s){var dt;const ft=_e.current.querySelectorAll('[data-in="true"]'),lt=12,ht=(dt=i.position)==null?void 0:dt.includes("top");let pt=0,vt=0;Array.from(ft).reverse().forEach((gt,_t)=>{const mt=gt;mt.classList.add("Toastify__toast--stacked"),_t>0&&(mt.dataset.collapsed=`${o}`),mt.dataset.pos||(mt.dataset.pos=ht?"top":"bot");const bt=pt*(o?.2:1)+(o?0:lt*_t);mt.style.setProperty("--y",`${ht?bt:-1*bt}px`),mt.style.setProperty("--g",`${lt}`),mt.style.setProperty("--s",""+(1-(o?vt:0))),pt+=mt.offsetHeight,vt+=.025})}},[o,it,s]),e.createElement("div",{ref:_e,className:"Toastify",id:ot,onMouseEnter:()=>{s&&(j(!1),B.pause())},onMouseLeave:ct},et((dt,ft)=>{const lt=ft.length?{...st}:{...st,pointerEvents:"none"};return e.createElement("div",{className:ut(dt),style:lt,key:`container-${dt}`},ft.map(ht=>{let{content:pt,props:vt}=ht;return e.createElement(R,{...vt,stacked:s,collapseAll:ct,isIn:nt(vt.toastId,vt.containerId),style:vt.style,key:`toast-${vt.key}`},pt)}))}))}const defaultConfig={position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"},showToast$1=(a,i,s={})=>{const o={...defaultConfig,...s};switch(a){case"success":B.success(i,o);break;case"error":B.error(i,o);break;case"info":B.info(i,o);break;case"warn":B.warn(i,o);break;case"loading":B.loading(i,{...o,autoClose:!1});break;default:B(i,o)}return()=>B.dismiss(B.toastId)},validationSchema={name:[{type:"required",message:"Name is required"}],email:[{type:"required",message:"Email is required"},{type:"pattern",pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Please enter a valid email address"}],subject:[{type:"required",message:"Subject is required"}],message:[]},initialState={name:"",email:"",subject:"",message:""},Contact=()=>{const[a,i]=reactExports.useState(initialState),[s,o]=reactExports.useState({}),[j,_e]=reactExports.useState(!1),et=st=>{const{name:at,value:ot}=st.target;i({...a,[at]:ot})},nt=()=>{i(clearForm(a,initialState))},it=async()=>{_e(!0);try{showToast$1("loading","Submitting your form",{autoClose:j||null});const st=await fetch(window.location.hostname==="localhost"?"http://localhost:5001/api/contact":"https://sistn-backend.onrender.com/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),at=await st.json();st.ok?(showToast$1("success","Thank you for contacting us!"),window.location.href=at.redirect,nt()):showToast$1("error",at.message)}catch{showToast$1("error","Something went wrong.")}finally{_e(!1)}},rt=async st=>{st.preventDefault();const at=validateForm(a,validationSchema);if(Object.keys(at).length>0){o(at);return}o({}),await it()};return jsxRuntimeExports.jsx("section",{className:"bg-gradient-to-right from-sistn-green to-green-400 text-gray-100 py-16 px-8 bg-[url('/path-to-your-background.jpg')] bg-cover bg-center bg-no-repeat",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto flex flex-col lg:flex-row items-start justify-between gap-12 lg:gap-24",children:[jsxRuntimeExports.jsx("div",{className:"w-full sm:w-full bg-white bg-opacity-20 p-8 rounded-lg shadow-lg backdrop-filter backdrop-blur-lg",children:jsxRuntimeExports.jsx(ContactInformation,{})}),jsxRuntimeExports.jsxs("div",{className:"w-full bg-white bg-opacity-20 p-8 rounded-lg shadow-lg backdrop-filter backdrop-blur-lg",children:[jsxRuntimeExports.jsx("h2",{className:"text-4xl text-sistn-dark-blue font-bold mb-6",children:"Send Us a Message"}),jsxRuntimeExports.jsxs("form",{className:"space-y-6",onSubmit:rt,children:[jsxRuntimeExports.jsx(TextInput,{label:"Name",name:"name",size:"large",placeholder:"Your Name",value:a.name,onChange:et,labelClass:"text-3xl max-md:text-3xl text-sistn-dark-blue",inputClass:"text-3xl max-md:text-3xl text-black",required:!0}),jsxRuntimeExports.jsx(FormValidation,{errorMessage:s.name}),jsxRuntimeExports.jsx(TextInput,{label:"Email",name:"email",size:"large",placeholder:"Your Email",value:a.email,onChange:et,labelClass:"text-3xl max-md:text-3xl text-sistn-dark-blue",inputClass:"text-3xl max-md:text-3xl text-black",required:!0}),jsxRuntimeExports.jsx(FormValidation,{errorMessage:s.email}),jsxRuntimeExports.jsx(TextInput,{label:"Subject",name:"Subject",size:"large",placeholder:"Your Subject",value:a.subject,onChange:et,labelClass:"text-3xl max-md:text-3xl text-sistn-dark-blue",inputClass:"text-3xl max-md:text-3xl text-black",required:!0}),jsxRuntimeExports.jsx(FormValidation,{errorMessage:s.subject}),jsxRuntimeExports.jsx(TextArea,{label:"Message",name:"message",size:"large",placeholder:"Your Message",value:a.message,onChange:et,textareaClass:"w-full text-3xl max-md:text-3xl text-black p-3 rounded-lg bg-white bg-opacity-70 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-green-500",labelClass:"block text-left text-3xl max-md:text-3xl text-sistn-blue font-semibold mb-2"}),jsxRuntimeExports.jsx(FormValidation,{errorMessage:s.message}),jsxRuntimeExports.jsx(Button,{type:"submit",variant:"primary",body:"Send Message",loading:!1,size:"large",btnClass:"w-full py-3 px-6 bg-sistn-green hover:bg-green-700 rounded-lg font-semibold text-white transition duration-300 max-md:text-3xl"})]})]})]})})},NotFound=()=>{const a=useNavigate();return jsxRuntimeExports.jsx("main",{children:jsxRuntimeExports.jsx("main",{className:"page-404 row align-items-center justify-content-center",children:jsxRuntimeExports.jsxs("section",{className:"col-md-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-5x text-sistn-dark-blue",children:"404"}),jsxRuntimeExports.jsx("p",{className:"description",children:"The page you are trying to access does not exist"}),jsxRuntimeExports.jsx(Button,{btnClass:"bg-sistn-blue hover:bg-sistn-dark-blue",loading:!1,variant:"primary",disabled:!1,body:"Go to homepage",size:"large",onClick:()=>a("/")})]})})})},UnderConstruction=({title:a})=>{const i=useNavigate();return jsxRuntimeExports.jsxs("main",{className:"text-center align-items-center justify-content-center",children:[jsxRuntimeExports.jsx("h1",{className:"mt-10 text-4xl font-bold text-green-600 mb-4",children:a}),jsxRuntimeExports.jsxs("section",{className:"col-md-6",children:[jsxRuntimeExports.jsx("p",{className:"mt-10 text-2xl",children:"Page is Under Construction, kindly navigate back home."}),jsxRuntimeExports.jsx(Button,{btnClass:"mt-10 bg-sistn-blue hover:bg-sistn-dark-blue",loading:!1,variant:"primary",disabled:!1,body:"Go to home",size:"large",onClick:()=>i("/")})]})]})},ThankYouPage=()=>jsxRuntimeExports.jsx("div",{className:"flex justify-center mt-4 items-center min-h-screen bg-gray-100",children:jsxRuntimeExports.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-11/12 md:w-2/3 lg:w-1/3",children:[jsxRuntimeExports.jsx("h2",{className:"text-4xl font-semibold text-sistn-blue mb-4 text-center",children:"Thank You for Registering!"}),jsxRuntimeExports.jsx("p",{className:"text-1xl text-gray-700 text-center mb-6",children:"We have received your registration and sent a confirmation email to your inbox."}),jsxRuntimeExports.jsx("div",{className:"text-center",children:jsxRuntimeExports.jsx("a",{href:"/",className:"bg-sistn-green hover:bg-sistn-dark-blue text-white px-4 py-2 rounded-lg text-xl font-semibold transition duration-300",children:"Go to Home"})})]})}),membershipDetails={"Professional Member":{title:"Professional Member",content:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("p",{children:"A person, who may not have been previously a Student Member of SISTN, may apply for admission to the Professional Member grade of SISTN provided he/she had obtained a tertiary-level qualification relevant to occupation or professional practice in any aspect of the Information Science and Technology industry. The industry is defined for this purpose to include (alphabetically): Archives Studies/Management, Communication Arts/Science, Computer Science, Information Management, Information Science, Information Services, Information Systems, Information Technology, Innovation Management, Library Management, Library Science, Media Science, Media Studies, Records Management, Research and Development Management, Telecommunications, and other related fields, occupations and professions."}),jsxRuntimeExports.jsx("p",{children:"Tertiary-level educational qualification is defined for this purpose to include bachelor’s, master’s and doctoral degrees, higher and ordinary national diplomas, national certificates of education, professional information industry certificates endorsed by SISTN, and equivalent qualifications."}),jsxRuntimeExports.jsx("p",{children:"Professional Members vote on general Society business, may hold office or committee chairmanships, may sit on committees and vote on committee matters. Professional Members are entitled to use the letters PSISTN (Professional Member of the Society for Information Science and Technology of Nigeria) after their names. Associate Members receive all publications of SISTN, and are not exempt from participation fees in any SISTN activity."})]})},"Associate Member":{title:"Associate Member",content:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("p",{children:"A Professional Member of SISTN may apply for upgrade of their membership status to Associate Member provided he/she has accumulated not less than ten years experience in Information Science and Technology occupations or professional practice since attaining the qualifications that qualifies him/her for Professional Member grade, and has been Professional Member of SISTN for at least 5 years immediately preceding the date of the application for upgrade."}),jsxRuntimeExports.jsx("p",{children:"Associate Members vote on general Society business, may hold office or committee chairmanships, may sit on committees and vote on committee matters. Associate Members are entitled to use the letters ASISTN (Associate of the Society for Information Science and Technology of Nigeria) after their names. Associate Members receive all publications of SISTN, and are not exempt from participation fees in any SISTN activity."})]})},"Corporate Membership":{title:"Corporate Membership",content:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("p",{children:"Corporate organisations that are in the information business have a right to apply for the status of corporate member provided that they fulfil all of the requirements."})})},"Student Member":{title:"Student Member",content:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("p",{children:"Student Members are currently in formal, full-time training programs in tertiary educational institutions in or in Professional Certification Programmes in the field of Information Science and Technology recognized by SISTN and have an interest in the work of SISTN."}),jsxRuntimeExports.jsx("p",{children:"Student members receive copies of e-magazines and e-newsletters of SISTN, reduced registration fees for SISTN meetings and discounted subscription rates for the SISTN journals. Student Members are required to upgrade to the appropriate Active Membership category one year post-training completion. Student Members do not hold office or vote."}),jsxRuntimeExports.jsx("p",{children:"An applicant for Student member must provide letter of attestation of the applicant’s status written on the headed paper of the relevant tertiary institution, and the institution shall be contacted to validate the letter, which must contain the following information: name of applicant, institution and program/department name, date of program completion, contact name and address of sponsor, attestation."})]})},Fellows:{title:"Fellows",content:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("p",{children:"The SISTN Fellow membership grade is given to a person in recognition of his/her lifetime professional or supportive contribution to the development of the Information Science and Technology professions, industry or occupations in Nigeria and any other African country."}),jsxRuntimeExports.jsx("p",{children:"A Professional Member or Associate Member may apply for upgrade of membership status to SISTN Fellow, provided he/she has attained the age of 45 years, been active in the information industry and related sectors for at least 15 years, and been Professional Member or Associate Member for at least 5 years."}),jsxRuntimeExports.jsx("p",{children:"Also, other persons who may not satisfy the above conditions may be recommended for admission to SISTN Fellow membership by the SISTN Executive to the SISTN Council. The SISTN Council approves and admits all SISTN Fellows. Fellows do not vote on general Society business, do not hold office or committee chairmanships, but may sit on committees and vote on committee matters."}),jsxRuntimeExports.jsx("p",{children:"Fellows are entitled to use the letters FSISTN (Fellow of the Society for Information Science and Technology of Nigeria) after their names. Fellows receive all publications of SISTN, and are exempt from participation fees in any SISTN activity."})]})},"Honorary Fellowship":{title:"Honorary Fellowship",content:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("p",{children:"The SISTN Honourary Fellowship is bestowed to a person in honorary recognition of his/her lifetime professional or supportive contribution to the development of the Information Science and Technology professions, industry or occupations in Nigeria and any other African country."}),jsxRuntimeExports.jsx("p",{children:"A Professional Member or Associate Member may apply for upgrade of their membership status to SISTN Fellow, provided he/she has attained the age of 55 years, been active in the information industry and related sectors for at least 20 years."}),jsxRuntimeExports.jsx("p",{children:"Also, other persons who may not satisfy the above conditions may be recommended for admission to SISTN Fellow membership by the SISTN Executive to the SISTN Council. The SISTN Council approves and admits all SISTN Fellows."})]})}},LearnMore=()=>{const{membershipType:a}=useParams(),i=a.replace(/-/g," "),s=membershipDetails[i];return console.log(a),console.log(i),console.log("membership:",s),jsxRuntimeExports.jsxs("div",{className:"py-16 px-4 max-w-7xl mx-auto",children:[s?jsxRuntimeExports.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold mb-4",children:s.title}),jsxRuntimeExports.jsx("div",{className:"text-gray-700 leading-relaxed",children:s.content})]}):jsxRuntimeExports.jsx("p",{className:"text-red-500",children:"Membership type not found."}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 items-center",children:[jsxRuntimeExports.jsx(LinkComponent,{label:jsxRuntimeExports.jsx(Button,{body:"Back to Membership Categories",size:"large",btnClass:"text-xl bg-sistn-blue"}),href:"/membership-categories"}),jsxRuntimeExports.jsx(LinkComponent,{label:jsxRuntimeExports.jsx(Button,{body:"Register as a new member",size:"large",btnClass:"text-xl bg-sistn-dark-blue"}),href:"/membership-form"})]})]})};var core_min={};function commonjsRequire(a){throw new Error('Could not dynamically require "'+a+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(i,s){module.exports=i.pdfjsLib=s()})(globalThis,()=>(()=>{var __webpack_modules__=[,(a,i)=>{var Ls;Object.defineProperty(i,"__esModule",{value:!0}),i.VerbosityLevel=i.Util=i.UnknownErrorException=i.UnexpectedResponseException=i.TextRenderingMode=i.RenderingIntentFlag=i.PromiseCapability=i.PermissionFlag=i.PasswordResponses=i.PasswordException=i.PageActionEventType=i.OPS=i.MissingPDFException=i.MAX_IMAGE_SIZE_TO_CACHE=i.LINE_FACTOR=i.LINE_DESCENT_FACTOR=i.InvalidPDFException=i.ImageKind=i.IDENTITY_MATRIX=i.FormatError=i.FeatureTest=i.FONT_IDENTITY_MATRIX=i.DocumentActionEventType=i.CMapCompressionType=i.BaseException=i.BASELINE_FACTOR=i.AnnotationType=i.AnnotationReplyType=i.AnnotationPrefix=i.AnnotationMode=i.AnnotationFlag=i.AnnotationFieldFlag=i.AnnotationEditorType=i.AnnotationEditorPrefix=i.AnnotationEditorParamsType=i.AnnotationBorderStyleType=i.AnnotationActionEventType=i.AbortException=void 0,i.assert=Lt,i.bytesToString=vn,i.createValidAbsoluteUrl=Zt,i.getModificationDate=Ln,i.getUuid=_i,i.getVerbosityLevel=Xt,i.info=Yt,i.isArrayBuffer=sn,i.isArrayEqual=On,i.isNodeJS=void 0,i.normalizeUnicode=zn,i.objectFromMap=wn,i.objectSize=An,i.setVerbosityLevel=Qt,i.shadow=Ft,i.string32=_n,i.stringToBytes=bn,i.stringToPDFString=xn,i.stringToUTF8String=kn,i.unreachable=Ut,i.utf8StringToString=Cn,i.warn=Ht;const s=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");i.isNodeJS=s;const o=[1,0,0,1,0,0];i.IDENTITY_MATRIX=o;const j=[.001,0,0,.001,0,0];i.FONT_IDENTITY_MATRIX=j;const _e=1e7;i.MAX_IMAGE_SIZE_TO_CACHE=_e;const et=1.35;i.LINE_FACTOR=et;const nt=.35;i.LINE_DESCENT_FACTOR=nt;const it=nt/et;i.BASELINE_FACTOR=it;const rt={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};i.RenderingIntentFlag=rt;const st={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};i.AnnotationMode=st;const at="pdfjs_internal_editor_";i.AnnotationEditorPrefix=at;const ot={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};i.AnnotationEditorType=ot;const ut={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};i.AnnotationEditorParamsType=ut;const ct={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};i.PermissionFlag=ct;const dt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};i.TextRenderingMode=dt;const ft={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};i.ImageKind=ft;const lt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};i.AnnotationType=lt;const ht={GROUP:"Group",REPLY:"R"};i.AnnotationReplyType=ht;const pt={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};i.AnnotationFlag=pt;const vt={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};i.AnnotationFieldFlag=vt;const gt={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};i.AnnotationBorderStyleType=gt;const _t={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};i.AnnotationActionEventType=_t;const mt={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};i.DocumentActionEventType=mt;const bt={O:"PageOpen",C:"PageClose"};i.PageActionEventType=bt;const Ct={ERRORS:0,WARNINGS:1,INFOS:5};i.VerbosityLevel=Ct;const Pt={NONE:0,BINARY:1};i.CMapCompressionType=Pt;const St={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};i.OPS=St;const Mt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};i.PasswordResponses=Mt;let Dt=Ct.WARNINGS;function Qt(Sn){Number.isInteger(Sn)&&(Dt=Sn)}function Xt(){return Dt}function Yt(Sn){Dt>=Ct.INFOS&&console.log(`Info: ${Sn}`)}function Ht(Sn){Dt>=Ct.WARNINGS&&console.log(`Warning: ${Sn}`)}function Ut(Sn){throw new Error(Sn)}function Lt(Sn,an){Sn||Ut(an)}function zt(Sn){switch(Sn==null?void 0:Sn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Zt(Sn,an=null,cn=null){if(!Sn)return null;try{if(cn&&typeof Sn=="string"){if(cn.addDefaultProtocol&&Sn.startsWith("www.")){const Gn=Sn.match(/\./g);(Gn==null?void 0:Gn.length)>=2&&(Sn=`http://${Sn}`)}if(cn.tryConvertEncoding)try{Sn=kn(Sn)}catch{}}const Un=an?new URL(Sn,an):new URL(Sn);if(zt(Un))return Un}catch{}return null}function Ft(Sn,an,cn,Un=!1){return Object.defineProperty(Sn,an,{value:cn,enumerable:!Un,configurable:!0,writable:!1}),cn}const Et=function(){function an(cn,Un){this.constructor===an&&Ut("Cannot initialize BaseException."),this.message=cn,this.name=Un}return an.prototype=new Error,an.constructor=an,an}();i.BaseException=Et;class Tt extends Et{constructor(an,cn){super(an,"PasswordException"),this.code=cn}}i.PasswordException=Tt;class kt extends Et{constructor(an,cn){super(an,"UnknownErrorException"),this.details=cn}}i.UnknownErrorException=kt;class jt extends Et{constructor(an){super(an,"InvalidPDFException")}}i.InvalidPDFException=jt;class Nt extends Et{constructor(an){super(an,"MissingPDFException")}}i.MissingPDFException=Nt;class $t extends Et{constructor(an,cn){super(an,"UnexpectedResponseException"),this.status=cn}}i.UnexpectedResponseException=$t;class tn extends Et{constructor(an){super(an,"FormatError")}}i.FormatError=tn;class gn extends Et{constructor(an){super(an,"AbortException")}}i.AbortException=gn;function vn(Sn){(typeof Sn!="object"||(Sn==null?void 0:Sn.length)===void 0)&&Ut("Invalid argument for bytesToString");const an=Sn.length,cn=8192;if(an<cn)return String.fromCharCode.apply(null,Sn);const Un=[];for(let Gn=0;Gn<an;Gn+=cn){const ss=Math.min(Gn+cn,an),Wt=Sn.subarray(Gn,ss);Un.push(String.fromCharCode.apply(null,Wt))}return Un.join("")}function bn(Sn){typeof Sn!="string"&&Ut("Invalid argument for stringToBytes");const an=Sn.length,cn=new Uint8Array(an);for(let Un=0;Un<an;++Un)cn[Un]=Sn.charCodeAt(Un)&255;return cn}function _n(Sn){return String.fromCharCode(Sn>>24&255,Sn>>16&255,Sn>>8&255,Sn&255)}function An(Sn){return Object.keys(Sn).length}function wn(Sn){const an=Object.create(null);for(const[cn,Un]of Sn)an[cn]=Un;return an}function on(){const Sn=new Uint8Array(4);return Sn[0]=1,new Uint32Array(Sn.buffer,0,1)[0]===1}function hn(){try{return new Function(""),!0}catch{return!1}}class It{static get isLittleEndian(){return Ft(this,"isLittleEndian",on())}static get isEvalSupported(){return Ft(this,"isEvalSupported",hn())}static get isOffscreenCanvasSupported(){return Ft(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?Ft(this,"platform",{isWin:!1,isMac:!1}):Ft(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var an,cn;return Ft(this,"isCSSRoundSupported",(cn=(an=globalThis.CSS)==null?void 0:an.supports)==null?void 0:cn.call(an,"width: round(1.5px, 1px)"))}}i.FeatureTest=It;const Vt=[...Array(256).keys()].map(Sn=>Sn.toString(16).padStart(2,"0"));class rn{static makeHexColor(an,cn,Un){return`#${Vt[an]}${Vt[cn]}${Vt[Un]}`}static scaleMinMax(an,cn){let Un;an[0]?(an[0]<0&&(Un=cn[0],cn[0]=cn[1],cn[1]=Un),cn[0]*=an[0],cn[1]*=an[0],an[3]<0&&(Un=cn[2],cn[2]=cn[3],cn[3]=Un),cn[2]*=an[3],cn[3]*=an[3]):(Un=cn[0],cn[0]=cn[2],cn[2]=Un,Un=cn[1],cn[1]=cn[3],cn[3]=Un,an[1]<0&&(Un=cn[2],cn[2]=cn[3],cn[3]=Un),cn[2]*=an[1],cn[3]*=an[1],an[2]<0&&(Un=cn[0],cn[0]=cn[1],cn[1]=Un),cn[0]*=an[2],cn[1]*=an[2]),cn[0]+=an[4],cn[1]+=an[4],cn[2]+=an[5],cn[3]+=an[5]}static transform(an,cn){return[an[0]*cn[0]+an[2]*cn[1],an[1]*cn[0]+an[3]*cn[1],an[0]*cn[2]+an[2]*cn[3],an[1]*cn[2]+an[3]*cn[3],an[0]*cn[4]+an[2]*cn[5]+an[4],an[1]*cn[4]+an[3]*cn[5]+an[5]]}static applyTransform(an,cn){const Un=an[0]*cn[0]+an[1]*cn[2]+cn[4],Gn=an[0]*cn[1]+an[1]*cn[3]+cn[5];return[Un,Gn]}static applyInverseTransform(an,cn){const Un=cn[0]*cn[3]-cn[1]*cn[2],Gn=(an[0]*cn[3]-an[1]*cn[2]+cn[2]*cn[5]-cn[4]*cn[3])/Un,ss=(-an[0]*cn[1]+an[1]*cn[0]+cn[4]*cn[1]-cn[5]*cn[0])/Un;return[Gn,ss]}static getAxialAlignedBoundingBox(an,cn){const Un=this.applyTransform(an,cn),Gn=this.applyTransform(an.slice(2,4),cn),ss=this.applyTransform([an[0],an[3]],cn),Wt=this.applyTransform([an[2],an[1]],cn);return[Math.min(Un[0],Gn[0],ss[0],Wt[0]),Math.min(Un[1],Gn[1],ss[1],Wt[1]),Math.max(Un[0],Gn[0],ss[0],Wt[0]),Math.max(Un[1],Gn[1],ss[1],Wt[1])]}static inverseTransform(an){const cn=an[0]*an[3]-an[1]*an[2];return[an[3]/cn,-an[1]/cn,-an[2]/cn,an[0]/cn,(an[2]*an[5]-an[4]*an[3])/cn,(an[4]*an[1]-an[5]*an[0])/cn]}static singularValueDecompose2dScale(an){const cn=[an[0],an[2],an[1],an[3]],Un=an[0]*cn[0]+an[1]*cn[2],Gn=an[0]*cn[1]+an[1]*cn[3],ss=an[2]*cn[0]+an[3]*cn[2],Wt=an[2]*cn[1]+an[3]*cn[3],En=(Un+Wt)/2,Nn=Math.sqrt((Un+Wt)**2-4*(Un*Wt-ss*Gn))/2,Xn=En+Nn||1,Yn=En-Nn||1;return[Math.sqrt(Xn),Math.sqrt(Yn)]}static normalizeRect(an){const cn=an.slice(0);return an[0]>an[2]&&(cn[0]=an[2],cn[2]=an[0]),an[1]>an[3]&&(cn[1]=an[3],cn[3]=an[1]),cn}static intersect(an,cn){const Un=Math.max(Math.min(an[0],an[2]),Math.min(cn[0],cn[2])),Gn=Math.min(Math.max(an[0],an[2]),Math.max(cn[0],cn[2]));if(Un>Gn)return null;const ss=Math.max(Math.min(an[1],an[3]),Math.min(cn[1],cn[3])),Wt=Math.min(Math.max(an[1],an[3]),Math.max(cn[1],cn[3]));return ss>Wt?null:[Un,ss,Gn,Wt]}static bezierBoundingBox(an,cn,Un,Gn,ss,Wt,En,Nn){const Xn=[],Yn=[[],[]];let Hn,Bt,Ot,en,mn,yn,Tn,Fn;for(let ms=0;ms<2;++ms){if(ms===0?(Bt=6*an-12*Un+6*ss,Hn=-3*an+9*Un-9*ss+3*En,Ot=3*Un-3*an):(Bt=6*cn-12*Gn+6*Wt,Hn=-3*cn+9*Gn-9*Wt+3*Nn,Ot=3*Gn-3*cn),Math.abs(Hn)<1e-12){if(Math.abs(Bt)<1e-12)continue;en=-Ot/Bt,0<en&&en<1&&Xn.push(en);continue}Tn=Bt*Bt-4*Ot*Hn,Fn=Math.sqrt(Tn),!(Tn<0)&&(mn=(-Bt+Fn)/(2*Hn),0<mn&&mn<1&&Xn.push(mn),yn=(-Bt-Fn)/(2*Hn),0<yn&&yn<1&&Xn.push(yn))}let qn=Xn.length,Vn;const $n=qn;for(;qn--;)en=Xn[qn],Vn=1-en,Yn[0][qn]=Vn*Vn*Vn*an+3*Vn*Vn*en*Un+3*Vn*en*en*ss+en*en*en*En,Yn[1][qn]=Vn*Vn*Vn*cn+3*Vn*Vn*en*Gn+3*Vn*en*en*Wt+en*en*en*Nn;return Yn[0][$n]=an,Yn[1][$n]=cn,Yn[0][$n+1]=En,Yn[1][$n+1]=Nn,Yn[0].length=Yn[1].length=$n+2,[Math.min(...Yn[0]),Math.min(...Yn[1]),Math.max(...Yn[0]),Math.max(...Yn[1])]}}i.Util=rn;const fn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function xn(Sn){if(Sn[0]>="ï"){let cn;if(Sn[0]==="þ"&&Sn[1]==="ÿ"?cn="utf-16be":Sn[0]==="ÿ"&&Sn[1]==="þ"?cn="utf-16le":Sn[0]==="ï"&&Sn[1]==="»"&&Sn[2]==="¿"&&(cn="utf-8"),cn)try{const Un=new TextDecoder(cn,{fatal:!0}),Gn=bn(Sn);return Un.decode(Gn)}catch(Un){Ht(`stringToPDFString: "${Un}".`)}}const an=[];for(let cn=0,Un=Sn.length;cn<Un;cn++){const Gn=fn[Sn.charCodeAt(cn)];an.push(Gn?String.fromCharCode(Gn):Sn.charAt(cn))}return an.join("")}function kn(Sn){return decodeURIComponent(escape(Sn))}function Cn(Sn){return unescape(encodeURIComponent(Sn))}function sn(Sn){return typeof Sn=="object"&&(Sn==null?void 0:Sn.byteLength)!==void 0}function On(Sn,an){if(Sn.length!==an.length)return!1;for(let cn=0,Un=Sn.length;cn<Un;cn++)if(Sn[cn]!==an[cn])return!1;return!0}function Ln(Sn=new Date){return[Sn.getUTCFullYear().toString(),(Sn.getUTCMonth()+1).toString().padStart(2,"0"),Sn.getUTCDate().toString().padStart(2,"0"),Sn.getUTCHours().toString().padStart(2,"0"),Sn.getUTCMinutes().toString().padStart(2,"0"),Sn.getUTCSeconds().toString().padStart(2,"0")].join("")}class fs{constructor(){At(this,Ls,!1);this.promise=new Promise((an,cn)=>{this.resolve=Un=>{xt(this,Ls,!0),an(Un)},this.reject=Un=>{xt(this,Ls,!0),cn(Un)}})}get settled(){return tt(this,Ls)}}Ls=new WeakMap,i.PromiseCapability=fs;let rs=null,Ss=null;function zn(Sn){return rs||(rs=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Ss=new Map([["ﬅ","ſt"]])),Sn.replaceAll(rs,(an,cn,Un)=>cn?cn.normalize("NFKC"):Ss.get(Un))}function _i(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Sn=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Sn);else for(let an=0;an<32;an++)Sn[an]=Math.floor(Math.random()*255);return vn(Sn)}const ys="pdfjs_internal_id_";i.AnnotationPrefix=ys},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var a,s,o,j,Pp,W0,nt,it,rt,st,at,ot,ut,ct,dt,G0,lt,ht,l_,vt,gt;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(mt){if(typeof mt=="string"||mt instanceof URL?mt={url:mt}:(0,_util.isArrayBuffer)(mt)&&(mt={data:mt}),typeof mt!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!mt.url&&!mt.data&&!mt.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const bt=new PDFDocumentLoadingTask,{docId:Ct}=bt,Pt=mt.url?getUrlProp(mt.url):null,St=mt.data?getDataProp(mt.data):null,Mt=mt.httpHeaders||null,Dt=mt.withCredentials===!0,Qt=mt.password??null,Xt=mt.range instanceof PDFDataRangeTransport?mt.range:null,Yt=Number.isInteger(mt.rangeChunkSize)&&mt.rangeChunkSize>0?mt.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Ht=mt.worker instanceof PDFWorker?mt.worker:null;const Ut=mt.verbosity,Lt=typeof mt.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(mt.docBaseUrl)?mt.docBaseUrl:null,zt=typeof mt.cMapUrl=="string"?mt.cMapUrl:null,Zt=mt.cMapPacked!==!1,Ft=mt.CMapReaderFactory||DefaultCMapReaderFactory,Et=typeof mt.standardFontDataUrl=="string"?mt.standardFontDataUrl:null,Tt=mt.StandardFontDataFactory||DefaultStandardFontDataFactory,kt=mt.stopAtErrors!==!0,jt=Number.isInteger(mt.maxImageSize)&&mt.maxImageSize>-1?mt.maxImageSize:-1,Nt=mt.isEvalSupported!==!1,$t=typeof mt.isOffscreenCanvasSupported=="boolean"?mt.isOffscreenCanvasSupported:!_util.isNodeJS,tn=Number.isInteger(mt.canvasMaxAreaInBytes)?mt.canvasMaxAreaInBytes:-1,gn=typeof mt.disableFontFace=="boolean"?mt.disableFontFace:_util.isNodeJS,vn=mt.fontExtraProperties===!0,bn=mt.enableXfa===!0,_n=mt.ownerDocument||globalThis.document,An=mt.disableRange===!0,wn=mt.disableStream===!0,on=mt.disableAutoFetch===!0,hn=mt.pdfBug===!0,It=Xt?Xt.length:mt.length??NaN,Vt=typeof mt.useSystemFonts=="boolean"?mt.useSystemFonts:!_util.isNodeJS&&!gn,rn=typeof mt.useWorkerFetch=="boolean"?mt.useWorkerFetch:Ft===_display_utils.DOMCMapReaderFactory&&Tt===_display_utils.DOMStandardFontDataFactory&&zt&&Et&&(0,_display_utils.isValidFetchUrl)(zt,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(Et,document.baseURI),fn=mt.canvasFactory||new DefaultCanvasFactory({ownerDocument:_n}),xn=mt.filterFactory||new DefaultFilterFactory({docId:Ct,ownerDocument:_n}),kn=null;(0,_util.setVerbosityLevel)(Ut);const Cn={canvasFactory:fn,filterFactory:xn};if(rn||(Cn.cMapReaderFactory=new Ft({baseUrl:zt,isCompressed:Zt}),Cn.standardFontDataFactory=new Tt({baseUrl:Et})),!Ht){const Ln={verbosity:Ut,port:_worker_options.GlobalWorkerOptions.workerPort};Ht=Ln.port?PDFWorker.fromPort(Ln):new PDFWorker(Ln),bt._worker=Ht}const sn={docId:Ct,apiVersion:"3.11.174",data:St,password:Qt,disableAutoFetch:on,rangeChunkSize:Yt,length:It,docBaseUrl:Lt,enableXfa:bn,evaluatorOptions:{maxImageSize:jt,disableFontFace:gn,ignoreErrors:kt,isEvalSupported:Nt,isOffscreenCanvasSupported:$t,canvasMaxAreaInBytes:tn,fontExtraProperties:vn,useSystemFonts:Vt,cMapUrl:rn?zt:null,standardFontDataUrl:rn?Et:null}},On={ignoreErrors:kt,isEvalSupported:Nt,disableFontFace:gn,fontExtraProperties:vn,enableXfa:bn,ownerDocument:_n,disableAutoFetch:on,pdfBug:hn,styleElement:kn};return Ht.promise.then(function(){if(bt.destroyed)throw new Error("Loading aborted");const Ln=_fetchDocument(Ht,sn),fs=new Promise(function(rs){let Ss;Xt?Ss=new _transport_stream.PDFDataTransportStream({length:It,initialData:Xt.initialData,progressiveDone:Xt.progressiveDone,contentDispositionFilename:Xt.contentDispositionFilename,disableRange:An,disableStream:wn},Xt):St||(Ss=(_i=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(_i):(0,_display_utils.isValidFetchUrl)(_i.url)?new _displayFetch_stream.PDFFetchStream(_i):new _displayNetwork.PDFNetworkStream(_i))({url:Pt,length:It,httpHeaders:Mt,withCredentials:Dt,rangeChunkSize:Yt,disableRange:An,disableStream:wn})),rs(Ss)});return Promise.all([Ln,fs]).then(function([rs,Ss]){if(bt.destroyed)throw new Error("Loading aborted");const zn=new _message_handler.MessageHandler(Ct,rs,Ht.port),_i=new WorkerTransport(zn,bt,Ss,On,Cn);bt._transport=_i,zn.send("Ready",null)})}).catch(bt._capability.reject),bt}async function _fetchDocument(mt,bt){if(mt.destroyed)throw new Error("Worker was destroyed");const Ct=await mt.messageHandler.sendWithPromise("GetDocRequest",bt,bt.data?[bt.data.buffer]:null);if(mt.destroyed)throw new Error("Worker was destroyed");return Ct}function getUrlProp(mt){if(mt instanceof URL)return mt.href;try{return new URL(mt,window.location).href}catch{if(_util.isNodeJS&&typeof mt=="string")return mt}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(mt){if(_util.isNodeJS&&typeof Buffer<"u"&&mt instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(mt instanceof Uint8Array&&mt.byteLength===mt.buffer.byteLength)return mt;if(typeof mt=="string")return(0,_util.stringToBytes)(mt);if(typeof mt=="object"&&!isNaN(mt==null?void 0:mt.length)||(0,_util.isArrayBuffer)(mt))return new Uint8Array(mt);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const i=class i{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${Pr(i,a)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var bt,Ct,Pt;this.destroyed=!0;try{(bt=this._worker)!=null&&bt.port&&(this._worker._pendingDestroy=!0),await((Ct=this._transport)==null?void 0:Ct.destroy())}catch(St){throw(Pt=this._worker)!=null&&Pt.port&&delete this._worker._pendingDestroy,St}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};a=new WeakMap,At(i,a,0);let PDFDocumentLoadingTask=i;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(bt,Ct,Pt=!1,St=null){this.length=bt,this.initialData=Ct,this.progressiveDone=Pt,this.contentDispositionFilename=St,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(bt){this._rangeListeners.push(bt)}addProgressListener(bt){this._progressListeners.push(bt)}addProgressiveReadListener(bt){this._progressiveReadListeners.push(bt)}addProgressiveDoneListener(bt){this._progressiveDoneListeners.push(bt)}onDataRange(bt,Ct){for(const Pt of this._rangeListeners)Pt(bt,Ct)}onDataProgress(bt,Ct){this._readyCapability.promise.then(()=>{for(const Pt of this._progressListeners)Pt(bt,Ct)})}onDataProgressiveRead(bt){this._readyCapability.promise.then(()=>{for(const Ct of this._progressiveReadListeners)Ct(bt)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const bt of this._progressiveDoneListeners)bt()})}transportReady(){this._readyCapability.resolve()}requestDataRange(bt,Ct){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(bt,Ct){this._pdfInfo=bt,this._transport=Ct,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(Pt=>{if(!Pt)return Pt;const St=[];for(const Mt in Pt)St.push(...Pt[Mt]);return St}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(bt){return this._transport.getPage(bt)}getPageIndex(bt){return this._transport.getPageIndex(bt)}getDestinations(){return this._transport.getDestinations()}getDestination(bt){return this._transport.getDestination(bt)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(bt=!1){return this._transport.startCleanup(bt||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(bt,Ct,Pt,St=!1){At(this,j);At(this,s,null);At(this,o,!1);this._pageIndex=bt,this._pageInfo=Ct,this._transport=Pt,this._stats=St?new _display_utils.StatTimer:null,this._pdfBug=St,this.commonObjs=Pt.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:bt,rotation:Ct=this.rotate,offsetX:Pt=0,offsetY:St=0,dontFlip:Mt=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:bt,rotation:Ct,offsetX:Pt,offsetY:St,dontFlip:Mt})}getAnnotations({intent:bt="display"}={}){const Ct=this._transport.getRenderingIntent(bt);return this._transport.getAnnotations(this._pageIndex,Ct.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var bt;return((bt=this._transport._htmlForXfa)==null?void 0:bt.children[this._pageIndex])||null}render({canvasContext:bt,viewport:Ct,intent:Pt="display",annotationMode:St=_util.AnnotationMode.ENABLE,transform:Mt=null,background:Dt=null,optionalContentConfigPromise:Qt=null,annotationCanvasMap:Xt=null,pageColors:Yt=null,printAnnotationStorage:Ht=null}){var Tt,kt;(Tt=this._stats)==null||Tt.time("Overall");const Ut=this._transport.getRenderingIntent(Pt,St,Ht);xt(this,o,!1),yt(this,j,W0).call(this),Qt||(Qt=this._transport.getOptionalContentConfig());let Lt=this._intentStates.get(Ut.cacheKey);Lt||(Lt=Object.create(null),this._intentStates.set(Ut.cacheKey,Lt)),Lt.streamReaderCancelTimeout&&(clearTimeout(Lt.streamReaderCancelTimeout),Lt.streamReaderCancelTimeout=null);const zt=!!(Ut.renderingIntent&_util.RenderingIntentFlag.PRINT);Lt.displayReadyCapability||(Lt.displayReadyCapability=new _util.PromiseCapability,Lt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(kt=this._stats)==null||kt.time("Page Request"),this._pumpOperatorList(Ut));const Zt=jt=>{var Nt,$t;Lt.renderTasks.delete(Ft),(this._maybeCleanupAfterRender||zt)&&xt(this,o,!0),yt(this,j,Pp).call(this,!zt),jt?(Ft.capability.reject(jt),this._abortOperatorList({intentState:Lt,reason:jt instanceof Error?jt:new Error(jt)})):Ft.capability.resolve(),(Nt=this._stats)==null||Nt.timeEnd("Rendering"),($t=this._stats)==null||$t.timeEnd("Overall")},Ft=new InternalRenderTask({callback:Zt,params:{canvasContext:bt,viewport:Ct,transform:Mt,background:Dt},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Xt,operatorList:Lt.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!zt,pdfBug:this._pdfBug,pageColors:Yt});(Lt.renderTasks||(Lt.renderTasks=new Set)).add(Ft);const Et=Ft.task;return Promise.all([Lt.displayReadyCapability.promise,Qt]).then(([jt,Nt])=>{var $t;if(this.destroyed){Zt();return}($t=this._stats)==null||$t.time("Rendering"),Ft.initializeGraphics({transparency:jt,optionalContentConfig:Nt}),Ft.operatorListChanged()}).catch(Zt),Et}getOperatorList({intent:bt="display",annotationMode:Ct=_util.AnnotationMode.ENABLE,printAnnotationStorage:Pt=null}={}){var Xt;function St(){Dt.operatorList.lastChunk&&(Dt.opListReadCapability.resolve(Dt.operatorList),Dt.renderTasks.delete(Qt))}const Mt=this._transport.getRenderingIntent(bt,Ct,Pt,!0);let Dt=this._intentStates.get(Mt.cacheKey);Dt||(Dt=Object.create(null),this._intentStates.set(Mt.cacheKey,Dt));let Qt;return Dt.opListReadCapability||(Qt=Object.create(null),Qt.operatorListChanged=St,Dt.opListReadCapability=new _util.PromiseCapability,(Dt.renderTasks||(Dt.renderTasks=new Set)).add(Qt),Dt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Xt=this._stats)==null||Xt.time("Page Request"),this._pumpOperatorList(Mt)),Dt.opListReadCapability.promise}streamTextContent({includeMarkedContent:bt=!1,disableNormalization:Ct=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:bt===!0,disableNormalization:Ct===!0},{highWaterMark:100,size(St){return St.items.length}})}getTextContent(bt={}){if(this._transport._htmlForXfa)return this.getXfa().then(Pt=>_xfa_text.XfaText.textContent(Pt));const Ct=this.streamTextContent(bt);return new Promise(function(Pt,St){function Mt(){Dt.read().then(function({value:Xt,done:Yt}){if(Yt){Pt(Qt);return}Object.assign(Qt.styles,Xt.styles),Qt.items.push(...Xt.items),Mt()},St)}const Dt=Ct.getReader(),Qt={items:[],styles:Object.create(null)};Mt()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const bt=[];for(const Ct of this._intentStates.values())if(this._abortOperatorList({intentState:Ct,reason:new Error("Page was destroyed."),force:!0}),!Ct.opListReadCapability)for(const Pt of Ct.renderTasks)bt.push(Pt.completed),Pt.cancel();return this.objs.clear(),xt(this,o,!1),yt(this,j,W0).call(this),Promise.all(bt)}cleanup(bt=!1){xt(this,o,!0);const Ct=yt(this,j,Pp).call(this,!1);return bt&&Ct&&this._stats&&(this._stats=new _display_utils.StatTimer),Ct}_startRenderPage(bt,Ct){var St,Mt;const Pt=this._intentStates.get(Ct);Pt&&((St=this._stats)==null||St.timeEnd("Page Request"),(Mt=Pt.displayReadyCapability)==null||Mt.resolve(bt))}_renderPageChunk(bt,Ct){for(let Pt=0,St=bt.length;Pt<St;Pt++)Ct.operatorList.fnArray.push(bt.fnArray[Pt]),Ct.operatorList.argsArray.push(bt.argsArray[Pt]);Ct.operatorList.lastChunk=bt.lastChunk,Ct.operatorList.separateAnnots=bt.separateAnnots;for(const Pt of Ct.renderTasks)Pt.operatorListChanged();bt.lastChunk&&yt(this,j,Pp).call(this,!0)}_pumpOperatorList({renderingIntent:bt,cacheKey:Ct,annotationStorageSerializable:Pt}){const{map:St,transfers:Mt}=Pt,Qt=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:bt,cacheKey:Ct,annotationStorage:St},Mt).getReader(),Xt=this._intentStates.get(Ct);Xt.streamReader=Qt;const Yt=()=>{Qt.read().then(({value:Ht,done:Ut})=>{if(Ut){Xt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Ht,Xt),Yt())},Ht=>{if(Xt.streamReader=null,!this._transport.destroyed){if(Xt.operatorList){Xt.operatorList.lastChunk=!0;for(const Ut of Xt.renderTasks)Ut.operatorListChanged();yt(this,j,Pp).call(this,!0)}if(Xt.displayReadyCapability)Xt.displayReadyCapability.reject(Ht);else if(Xt.opListReadCapability)Xt.opListReadCapability.reject(Ht);else throw Ht}})};Yt()}_abortOperatorList({intentState:bt,reason:Ct,force:Pt=!1}){if(bt.streamReader){if(bt.streamReaderCancelTimeout&&(clearTimeout(bt.streamReaderCancelTimeout),bt.streamReaderCancelTimeout=null),!Pt){if(bt.renderTasks.size>0)return;if(Ct instanceof _display_utils.RenderingCancelledException){let St=RENDERING_CANCELLED_TIMEOUT;Ct.extraDelay>0&&Ct.extraDelay<1e3&&(St+=Ct.extraDelay),bt.streamReaderCancelTimeout=setTimeout(()=>{bt.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:bt,reason:Ct,force:!0})},St);return}}if(bt.streamReader.cancel(new _util.AbortException(Ct.message)).catch(()=>{}),bt.streamReader=null,!this._transport.destroyed){for(const[St,Mt]of this._intentStates)if(Mt===bt){this._intentStates.delete(St);break}this.cleanup()}}}get stats(){return this._stats}}s=new WeakMap,o=new WeakMap,j=new WeakSet,Pp=function(bt=!1){if(yt(this,j,W0).call(this),!tt(this,o)||this.destroyed)return!1;if(bt)return xt(this,s,setTimeout(()=>{xt(this,s,null),yt(this,j,Pp).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:Ct,operatorList:Pt}of this._intentStates.values())if(Ct.size>0||!Pt.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),xt(this,o,!1),!0},W0=function(){tt(this,s)&&(clearTimeout(tt(this,s)),xt(this,s,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){At(this,nt,new Set);At(this,it,Promise.resolve())}postMessage(bt,Ct){const Pt={data:structuredClone(bt,Ct?{transfer:Ct}:null)};tt(this,it).then(()=>{for(const St of tt(this,nt))St.call(this,Pt)})}addEventListener(bt,Ct){tt(this,nt).add(Ct)}removeEventListener(bt,Ct){tt(this,nt).delete(Ct)}terminate(){tt(this,nt).clear()}}nt=new WeakMap,it=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const mt=(rt=document==null?void 0:document.currentScript)==null?void 0:rt.src;mt&&(PDFWorkerUtil.fallbackWorkerSrc=mt.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(mt,bt){let Ct;try{if(Ct=new URL(mt),!Ct.origin||Ct.origin==="null")return!1}catch{return!1}const Pt=new URL(bt,Ct);return Ct.origin===Pt.origin},PDFWorkerUtil.createCDNWrapper=function(mt){const bt=`importScripts("${mt}");`;return URL.createObjectURL(new Blob([bt]))}}const _PDFWorker=class _PDFWorker{constructor({name:mt=null,port:bt=null,verbosity:Ct=(0,_util.getVerbosityLevel)()}={}){var Pt;if(this.name=mt,this.destroyed=!1,this.verbosity=Ct,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,bt){if((Pt=tt(_PDFWorker,st))!=null&&Pt.has(bt))throw new Error("Cannot use more than one PDFWorker per port.");(tt(_PDFWorker,st)||xt(_PDFWorker,st,new WeakMap)).set(bt,this),this._initializeFromPort(bt);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(mt){this._port=mt,this._messageHandler=new _message_handler.MessageHandler("main","worker",mt),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:mt}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,mt)||(mt=PDFWorkerUtil.createCDNWrapper(new URL(mt,window.location).href));const bt=new Worker(mt),Ct=new _message_handler.MessageHandler("main","worker",bt),Pt=()=>{bt.removeEventListener("error",St),Ct.destroy(),bt.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},St=()=>{this._webWorker||Pt()};bt.addEventListener("error",St),Ct.on("test",Dt=>{if(bt.removeEventListener("error",St),this.destroyed){Pt();return}Dt?(this._messageHandler=Ct,this._port=bt,this._webWorker=bt,this._readyCapability.resolve(),Ct.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),Ct.destroy(),bt.terminate())}),Ct.on("ready",Dt=>{if(bt.removeEventListener("error",St),this.destroyed){Pt();return}try{Mt()}catch{this._setupFakeWorker()}});const Mt=()=>{const Dt=new Uint8Array;Ct.send("test",Dt,[Dt.buffer])};Mt();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(mt=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const bt=new LoopbackPort;this._port=bt;const Ct=`fake${PDFWorkerUtil.fakeWorkerId++}`,Pt=new _message_handler.MessageHandler(Ct+"_worker",Ct,bt);mt.setup(Pt,bt);const St=new _message_handler.MessageHandler(Ct,Ct+"_worker",bt);this._messageHandler=St,this._readyCapability.resolve(),St.send("configure",{verbosity:this.verbosity})}).catch(mt=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${mt.message}".`))})}destroy(){var mt;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(mt=tt(_PDFWorker,st))==null||mt.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(mt){var Ct;if(!(mt!=null&&mt.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const bt=(Ct=tt(this,st))==null?void 0:Ct.get(mt.port);if(bt){if(bt._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return bt}return new _PDFWorker(mt)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var mt;try{return((mt=globalThis.pdfjsWorker)==null?void 0:mt.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};st=new WeakMap,At(_PDFWorker,st);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(bt,Ct,Pt,St,Mt){At(this,dt);At(this,at,new Map);At(this,ot,new Map);At(this,ut,new Map);At(this,ct,null);this.messageHandler=bt,this.loadingTask=Ct,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:St.ownerDocument,styleElement:St.styleElement}),this._params=St,this.canvasFactory=Mt.canvasFactory,this.filterFactory=Mt.filterFactory,this.cMapReaderFactory=Mt.cMapReaderFactory,this.standardFontDataFactory=Mt.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=Pt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(bt,Ct=_util.AnnotationMode.ENABLE,Pt=null,St=!1){let Mt=_util.RenderingIntentFlag.DISPLAY,Dt=_annotation_storage.SerializableEmpty;switch(bt){case"any":Mt=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":Mt=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${bt}`)}switch(Ct){case _util.AnnotationMode.DISABLE:Mt+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:Mt+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:Mt+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Dt=(Mt&_util.RenderingIntentFlag.PRINT&&Pt instanceof _annotation_storage.PrintAnnotationStorage?Pt:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${Ct}`)}return St&&(Mt+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:Mt,cacheKey:`${Mt}_${Dt.hash}`,annotationStorageSerializable:Dt}}destroy(){var Pt;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(Pt=tt(this,ct))==null||Pt.reject(new Error("Worker was destroyed during onPassword callback"));const bt=[];for(const St of tt(this,ot).values())bt.push(St._destroy());tt(this,ot).clear(),tt(this,ut).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const Ct=this.messageHandler.sendWithPromise("Terminate",null);return bt.push(Ct),Promise.all(bt).then(()=>{var St;this.commonObjs.clear(),this.fontLoader.clear(),tt(this,at).clear(),this.filterFactory.destroy(),(St=this._networkStream)==null||St.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:bt,loadingTask:Ct}=this;bt.on("GetReader",(Pt,St)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=Mt=>{this._lastProgress={loaded:Mt.loaded,total:Mt.total}},St.onPull=()=>{this._fullReader.read().then(function({value:Mt,done:Dt}){if(Dt){St.close();return}(0,_util.assert)(Mt instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),St.enqueue(new Uint8Array(Mt),1,[Mt])}).catch(Mt=>{St.error(Mt)})},St.onCancel=Mt=>{this._fullReader.cancel(Mt),St.ready.catch(Dt=>{if(!this.destroyed)throw Dt})}}),bt.on("ReaderHeadersReady",Pt=>{const St=new _util.PromiseCapability,Mt=this._fullReader;return Mt.headersReady.then(()=>{var Dt;(!Mt.isStreamingSupported||!Mt.isRangeSupported)&&(this._lastProgress&&((Dt=Ct.onProgress)==null||Dt.call(Ct,this._lastProgress)),Mt.onProgress=Qt=>{var Xt;(Xt=Ct.onProgress)==null||Xt.call(Ct,{loaded:Qt.loaded,total:Qt.total})}),St.resolve({isStreamingSupported:Mt.isStreamingSupported,isRangeSupported:Mt.isRangeSupported,contentLength:Mt.contentLength})},St.reject),St.promise}),bt.on("GetRangeReader",(Pt,St)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const Mt=this._networkStream.getRangeReader(Pt.begin,Pt.end);if(!Mt){St.close();return}St.onPull=()=>{Mt.read().then(function({value:Dt,done:Qt}){if(Qt){St.close();return}(0,_util.assert)(Dt instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),St.enqueue(new Uint8Array(Dt),1,[Dt])}).catch(Dt=>{St.error(Dt)})},St.onCancel=Dt=>{Mt.cancel(Dt),St.ready.catch(Qt=>{if(!this.destroyed)throw Qt})}}),bt.on("GetDoc",({pdfInfo:Pt})=>{this._numPages=Pt.numPages,this._htmlForXfa=Pt.htmlForXfa,delete Pt.htmlForXfa,Ct._capability.resolve(new PDFDocumentProxy(Pt,this))}),bt.on("DocException",function(Pt){let St;switch(Pt.name){case"PasswordException":St=new _util.PasswordException(Pt.message,Pt.code);break;case"InvalidPDFException":St=new _util.InvalidPDFException(Pt.message);break;case"MissingPDFException":St=new _util.MissingPDFException(Pt.message);break;case"UnexpectedResponseException":St=new _util.UnexpectedResponseException(Pt.message,Pt.status);break;case"UnknownErrorException":St=new _util.UnknownErrorException(Pt.message,Pt.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}Ct._capability.reject(St)}),bt.on("PasswordRequest",Pt=>{if(xt(this,ct,new _util.PromiseCapability),Ct.onPassword){const St=Mt=>{Mt instanceof Error?tt(this,ct).reject(Mt):tt(this,ct).resolve({password:Mt})};try{Ct.onPassword(St,Pt.code)}catch(Mt){tt(this,ct).reject(Mt)}}else tt(this,ct).reject(new _util.PasswordException(Pt.message,Pt.code));return tt(this,ct).promise}),bt.on("DataLoaded",Pt=>{var St;(St=Ct.onProgress)==null||St.call(Ct,{loaded:Pt.length,total:Pt.length}),this.downloadInfoCapability.resolve(Pt)}),bt.on("StartRenderPage",Pt=>{if(this.destroyed)return;tt(this,ot).get(Pt.pageIndex)._startRenderPage(Pt.transparency,Pt.cacheKey)}),bt.on("commonobj",([Pt,St,Mt])=>{var Dt;if(!this.destroyed&&!this.commonObjs.has(Pt))switch(St){case"Font":const Qt=this._params;if("error"in Mt){const Ht=Mt.error;(0,_util.warn)(`Error during font loading: ${Ht}`),this.commonObjs.resolve(Pt,Ht);break}const Xt=Qt.pdfBug&&((Dt=globalThis.FontInspector)!=null&&Dt.enabled)?(Ht,Ut)=>globalThis.FontInspector.fontAdded(Ht,Ut):null,Yt=new _font_loader.FontFaceObject(Mt,{isEvalSupported:Qt.isEvalSupported,disableFontFace:Qt.disableFontFace,ignoreErrors:Qt.ignoreErrors,inspectFont:Xt});this.fontLoader.bind(Yt).catch(Ht=>bt.sendWithPromise("FontFallback",{id:Pt})).finally(()=>{!Qt.fontExtraProperties&&Yt.data&&(Yt.data=null),this.commonObjs.resolve(Pt,Yt)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(Pt,Mt);break;default:throw new Error(`Got unknown common object type ${St}`)}}),bt.on("obj",([Pt,St,Mt,Dt])=>{var Xt;if(this.destroyed)return;const Qt=tt(this,ot).get(St);if(!Qt.objs.has(Pt))switch(Mt){case"Image":if(Qt.objs.resolve(Pt,Dt),Dt){let Yt;if(Dt.bitmap){const{width:Ht,height:Ut}=Dt;Yt=Ht*Ut*4}else Yt=((Xt=Dt.data)==null?void 0:Xt.length)||0;Yt>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Qt._maybeCleanupAfterRender=!0)}break;case"Pattern":Qt.objs.resolve(Pt,Dt);break;default:throw new Error(`Got unknown object type ${Mt}`)}}),bt.on("DocProgress",Pt=>{var St;this.destroyed||(St=Ct.onProgress)==null||St.call(Ct,{loaded:Pt.loaded,total:Pt.total})}),bt.on("FetchBuiltInCMap",Pt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(Pt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),bt.on("FetchStandardFontData",Pt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(Pt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var Pt;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:bt,transfers:Ct}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:bt,filename:((Pt=this._fullReader)==null?void 0:Pt.filename)??null},Ct).finally(()=>{this.annotationStorage.resetModified()})}getPage(bt){if(!Number.isInteger(bt)||bt<=0||bt>this._numPages)return Promise.reject(new Error("Invalid page request."));const Ct=bt-1,Pt=tt(this,ut).get(Ct);if(Pt)return Pt;const St=this.messageHandler.sendWithPromise("GetPage",{pageIndex:Ct}).then(Mt=>{if(this.destroyed)throw new Error("Transport destroyed");const Dt=new PDFPageProxy(Ct,Mt,this,this._params.pdfBug);return tt(this,ot).set(Ct,Dt),Dt});return tt(this,ut).set(Ct,St),St}getPageIndex(bt){return typeof bt!="object"||bt===null||!Number.isInteger(bt.num)||bt.num<0||!Number.isInteger(bt.gen)||bt.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:bt.num,gen:bt.gen})}getAnnotations(bt,Ct){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:bt,intent:Ct})}getFieldObjects(){return yt(this,dt,G0).call(this,"GetFieldObjects")}hasJSActions(){return yt(this,dt,G0).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(bt){return typeof bt!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:bt})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return yt(this,dt,G0).call(this,"GetDocJSActions")}getPageJSActions(bt){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:bt})}getStructTree(bt){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:bt})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(bt=>new _optional_content_config.OptionalContentConfig(bt))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const bt="GetMetadata",Ct=tt(this,at).get(bt);if(Ct)return Ct;const Pt=this.messageHandler.sendWithPromise(bt,null).then(St=>{var Mt,Dt;return{info:St[0],metadata:St[1]?new _metadata.Metadata(St[1]):null,contentDispositionFilename:((Mt=this._fullReader)==null?void 0:Mt.filename)??null,contentLength:((Dt=this._fullReader)==null?void 0:Dt.contentLength)??null}});return tt(this,at).set(bt,Pt),Pt}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(bt=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const Ct of tt(this,ot).values())if(!Ct.cleanup())throw new Error(`startCleanup: Page ${Ct.pageNumber} is currently rendering.`);this.commonObjs.clear(),bt||this.fontLoader.clear(),tt(this,at).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:bt,enableXfa:Ct}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:bt,enableXfa:Ct})}}at=new WeakMap,ot=new WeakMap,ut=new WeakMap,ct=new WeakMap,dt=new WeakSet,G0=function(bt,Ct=null){const Pt=tt(this,at).get(bt);if(Pt)return Pt;const St=this.messageHandler.sendWithPromise(bt,Ct);return tt(this,at).set(bt,St),St};class PDFObjects{constructor(){At(this,ht);At(this,lt,Object.create(null))}get(bt,Ct=null){if(Ct){const St=yt(this,ht,l_).call(this,bt);return St.capability.promise.then(()=>Ct(St.data)),null}const Pt=tt(this,lt)[bt];if(!(Pt!=null&&Pt.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${bt}.`);return Pt.data}has(bt){const Ct=tt(this,lt)[bt];return(Ct==null?void 0:Ct.capability.settled)||!1}resolve(bt,Ct=null){const Pt=yt(this,ht,l_).call(this,bt);Pt.data=Ct,Pt.capability.resolve()}clear(){var bt;for(const Ct in tt(this,lt)){const{data:Pt}=tt(this,lt)[Ct];(bt=Pt==null?void 0:Pt.bitmap)==null||bt.close()}xt(this,lt,Object.create(null))}}lt=new WeakMap,ht=new WeakSet,l_=function(bt){var Ct;return(Ct=tt(this,lt))[bt]||(Ct[bt]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(bt){At(this,vt,null);xt(this,vt,bt),this.onContinue=null}get promise(){return tt(this,vt).capability.promise}cancel(bt=0){tt(this,vt).cancel(null,bt)}get separateAnnots(){const{separateAnnots:bt}=tt(this,vt).operatorList;if(!bt)return!1;const{annotationCanvasMap:Ct}=tt(this,vt);return bt.form||bt.canvas&&(Ct==null?void 0:Ct.size)>0}}vt=new WeakMap,exports.RenderTask=RenderTask;const _t=class _t{constructor({callback:bt,params:Ct,objs:Pt,commonObjs:St,annotationCanvasMap:Mt,operatorList:Dt,pageIndex:Qt,canvasFactory:Xt,filterFactory:Yt,useRequestAnimationFrame:Ht=!1,pdfBug:Ut=!1,pageColors:Lt=null}){this.callback=bt,this.params=Ct,this.objs=Pt,this.commonObjs=St,this.annotationCanvasMap=Mt,this.operatorListIdx=null,this.operatorList=Dt,this._pageIndex=Qt,this.canvasFactory=Xt,this.filterFactory=Yt,this._pdfBug=Ut,this.pageColors=Lt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Ht===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=Ct.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:bt=!1,optionalContentConfig:Ct}){var Qt,Xt;if(this.cancelled)return;if(this._canvas){if(tt(_t,gt).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");tt(_t,gt).add(this._canvas)}this._pdfBug&&((Qt=globalThis.StepperManager)!=null&&Qt.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:Pt,viewport:St,transform:Mt,background:Dt}=this.params;this.gfx=new _canvas.CanvasGraphics(Pt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:Ct},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:Mt,viewport:St,transparency:bt,background:Dt}),this.operatorListIdx=0,this.graphicsReady=!0,(Xt=this.graphicsReadyCallback)==null||Xt.call(this)}cancel(bt=null,Ct=0){var Pt;this.running=!1,this.cancelled=!0,(Pt=this.gfx)==null||Pt.endDrawing(),tt(_t,gt).delete(this._canvas),this.callback(bt||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,Ct))}operatorListChanged(){var bt;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(bt=this.stepper)==null||bt.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),tt(_t,gt).delete(this._canvas),this.callback())))}};gt=new WeakMap,At(_t,gt,new WeakSet);let InternalRenderTask=_t;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(a,i,s)=>{var rt,st,at,aE,ut;Object.defineProperty(i,"__esModule",{value:!0}),i.SerializableEmpty=i.PrintAnnotationStorage=i.AnnotationStorage=void 0;var o=s(1),j=s(4),_e=s(8);const et=Object.freeze({map:null,hash:"",transfers:void 0});i.SerializableEmpty=et;class nt{constructor(){At(this,at);At(this,rt,!1);At(this,st,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(dt,ft){const lt=tt(this,st).get(dt);return lt===void 0?ft:Object.assign(ft,lt)}getRawValue(dt){return tt(this,st).get(dt)}remove(dt){if(tt(this,st).delete(dt),tt(this,st).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const ft of tt(this,st).values())if(ft instanceof j.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(dt,ft){const lt=tt(this,st).get(dt);let ht=!1;if(lt!==void 0)for(const[pt,vt]of Object.entries(ft))lt[pt]!==vt&&(ht=!0,lt[pt]=vt);else ht=!0,tt(this,st).set(dt,ft);ht&&yt(this,at,aE).call(this),ft instanceof j.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(ft.constructor._type)}has(dt){return tt(this,st).has(dt)}getAll(){return tt(this,st).size>0?(0,o.objectFromMap)(tt(this,st)):null}setAll(dt){for(const[ft,lt]of Object.entries(dt))this.setValue(ft,lt)}get size(){return tt(this,st).size}resetModified(){tt(this,rt)&&(xt(this,rt,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new it(this)}get serializable(){if(tt(this,st).size===0)return et;const dt=new Map,ft=new _e.MurmurHash3_64,lt=[],ht=Object.create(null);let pt=!1;for(const[vt,gt]of tt(this,st)){const _t=gt instanceof j.AnnotationEditor?gt.serialize(!1,ht):gt;_t&&(dt.set(vt,_t),ft.update(`${vt}:${JSON.stringify(_t)}`),pt||(pt=!!_t.bitmap))}if(pt)for(const vt of dt.values())vt.bitmap&&lt.push(vt.bitmap);return dt.size>0?{map:dt,hash:ft.hexdigest(),transfers:lt}:et}}rt=new WeakMap,st=new WeakMap,at=new WeakSet,aE=function(){tt(this,rt)||(xt(this,rt,!0),typeof this.onSetModified=="function"&&this.onSetModified())},i.AnnotationStorage=nt;class it extends nt{constructor(ft){super();At(this,ut);const{map:lt,hash:ht,transfers:pt}=ft.serializable,vt=structuredClone(lt,pt?{transfer:pt}:null);xt(this,ut,{map:vt,hash:ht,transfers:pt})}get print(){(0,o.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return tt(this,ut)}}ut=new WeakMap,i.PrintAnnotationStorage=it},(a,i,s)=>{var it,rt,st,at,ot,ut,ct,dt,ft,lt,ht,pt,vt,gt,_t,c_,u_,Ct,h_,d_,oE,lE,cE,f_,uE;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditor=void 0;var o=s(5),j=s(1),_e=s(6);const Ht=class Ht{constructor(Lt){At(this,_t);At(this,it,"");At(this,rt,!1);At(this,st,null);At(this,at,null);At(this,ot,null);At(this,ut,!1);At(this,ct,null);At(this,dt,this.focusin.bind(this));At(this,ft,this.focusout.bind(this));At(this,lt,!1);At(this,ht,!1);At(this,pt,!1);es(this,"_initialOptions",Object.create(null));es(this,"_uiManager",null);es(this,"_focusEventsAllowed",!0);es(this,"_l10nPromise",null);At(this,vt,!1);At(this,gt,Ht._zIndex++);this.constructor===Ht&&(0,j.unreachable)("Cannot initialize AnnotationEditor."),this.parent=Lt.parent,this.id=Lt.id,this.width=this.height=null,this.pageIndex=Lt.parent.pageIndex,this.name=Lt.name,this.div=null,this._uiManager=Lt.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=Lt.isCentered,this._structTreeParentId=null;const{rotation:zt,rawDims:{pageWidth:Zt,pageHeight:Ft,pageX:Et,pageY:Tt}}=this.parent.viewport;this.rotation=zt,this.pageRotation=(360+zt-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[Zt,Ft],this.pageTranslation=[Et,Tt];const[kt,jt]=this.parentDimensions;this.x=Lt.x/kt,this.y=Lt.y/jt,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,j.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(Lt){const zt=new nt({id:Lt.parent.getNextId(),parent:Lt.parent,uiManager:Lt._uiManager});zt.annotationElementId=Lt.annotationElementId,zt.deleted=!0,zt._uiManager.addToAnnotationStorage(zt)}static initialize(Lt,zt=null){if(Ht._l10nPromise||(Ht._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(Ft=>[Ft,Lt.get(Ft)]))),zt!=null&&zt.strings)for(const Ft of zt.strings)Ht._l10nPromise.set(Ft,Lt.get(Ft));if(Ht._borderLineWidth!==-1)return;const Zt=getComputedStyle(document.documentElement);Ht._borderLineWidth=parseFloat(Zt.getPropertyValue("--outline-width"))||0}static updateDefaultParams(Lt,zt){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(Lt){return!1}static paste(Lt,zt){(0,j.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return tt(this,vt)}set _isDraggable(Lt){var zt;xt(this,vt,Lt),(zt=this.div)==null||zt.classList.toggle("draggable",Lt)}center(){const[Lt,zt]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*zt/(Lt*2),this.y+=this.width*Lt/(zt*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*zt/(Lt*2),this.y-=this.width*Lt/(zt*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(Lt){this._uiManager.addCommands(Lt)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=tt(this,gt)}setParent(Lt){Lt!==null&&(this.pageIndex=Lt.pageIndex,this.pageDimensions=Lt.pageDimensions),this.parent=Lt}focusin(Lt){this._focusEventsAllowed&&(tt(this,lt)?xt(this,lt,!1):this.parent.setSelected(this))}focusout(Lt){var Zt;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const zt=Lt.relatedTarget;zt!=null&&zt.closest(`#${this.id}`)||(Lt.preventDefault(),(Zt=this.parent)!=null&&Zt.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(Lt,zt,Zt,Ft){const[Et,Tt]=this.parentDimensions;[Zt,Ft]=this.screenToPageTranslation(Zt,Ft),this.x=(Lt+Zt)/Et,this.y=(zt+Ft)/Tt,this.fixAndSetPosition()}translate(Lt,zt){yt(this,_t,c_).call(this,this.parentDimensions,Lt,zt)}translateInPage(Lt,zt){yt(this,_t,c_).call(this,this.pageDimensions,Lt,zt),this.div.scrollIntoView({block:"nearest"})}drag(Lt,zt){const[Zt,Ft]=this.parentDimensions;if(this.x+=Lt/Zt,this.y+=zt/Ft,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Nt,y:$t}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Nt,$t)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:Et,y:Tt}=this;const[kt,jt]=yt(this,_t,u_).call(this);Et+=kt,Tt+=jt,this.div.style.left=`${(100*Et).toFixed(2)}%`,this.div.style.top=`${(100*Tt).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[Lt,zt]=this.pageDimensions;let{x:Zt,y:Ft,width:Et,height:Tt}=this;switch(Et*=Lt,Tt*=zt,Zt*=Lt,Ft*=zt,this.rotation){case 0:Zt=Math.max(0,Math.min(Lt-Et,Zt)),Ft=Math.max(0,Math.min(zt-Tt,Ft));break;case 90:Zt=Math.max(0,Math.min(Lt-Tt,Zt)),Ft=Math.min(zt,Math.max(Et,Ft));break;case 180:Zt=Math.min(Lt,Math.max(Et,Zt)),Ft=Math.min(zt,Math.max(Tt,Ft));break;case 270:Zt=Math.min(Lt,Math.max(Tt,Zt)),Ft=Math.max(0,Math.min(zt-Et,Ft));break}this.x=Zt/=Lt,this.y=Ft/=zt;const[kt,jt]=yt(this,_t,u_).call(this);Zt+=kt,Ft+=jt;const{style:Nt}=this.div;Nt.left=`${(100*Zt).toFixed(2)}%`,Nt.top=`${(100*Ft).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(Lt,zt){var Zt;return yt(Zt=Ht,Ct,h_).call(Zt,Lt,zt,this.parentRotation)}pageTranslationToScreen(Lt,zt){var Zt;return yt(Zt=Ht,Ct,h_).call(Zt,Lt,zt,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:Lt,pageDimensions:[zt,Zt]}=this,Ft=zt*Lt,Et=Zt*Lt;return j.FeatureTest.isCSSRoundSupported?[Math.round(Ft),Math.round(Et)]:[Ft,Et]}setDims(Lt,zt){var Et;const[Zt,Ft]=this.parentDimensions;this.div.style.width=`${(100*Lt/Zt).toFixed(2)}%`,tt(this,ut)||(this.div.style.height=`${(100*zt/Ft).toFixed(2)}%`),(Et=tt(this,st))==null||Et.classList.toggle("small",Lt<Ht.SMALL_EDITOR_SIZE||zt<Ht.SMALL_EDITOR_SIZE)}fixDims(){const{style:Lt}=this.div,{height:zt,width:Zt}=Lt,Ft=Zt.endsWith("%"),Et=!tt(this,ut)&&zt.endsWith("%");if(Ft&&Et)return;const[Tt,kt]=this.parentDimensions;Ft||(Lt.width=`${(100*parseFloat(Zt)/Tt).toFixed(2)}%`),!tt(this,ut)&&!Et&&(Lt.height=`${(100*parseFloat(zt)/kt).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(tt(this,st))return;const Lt=xt(this,st,document.createElement("button"));Lt.className="altText";const zt=await Ht._l10nPromise.get("editor_alt_text_button_label");Lt.textContent=zt,Lt.setAttribute("aria-label",zt),Lt.tabIndex="0",Lt.addEventListener("contextmenu",_e.noContextMenu),Lt.addEventListener("pointerdown",Zt=>Zt.stopPropagation()),Lt.addEventListener("click",Zt=>{Zt.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),Lt.addEventListener("keydown",Zt=>{Zt.target===Lt&&Zt.key==="Enter"&&(Zt.preventDefault(),this._uiManager.editAltText(this))}),yt(this,_t,f_).call(this),this.div.append(Lt),Ht.SMALL_EDITOR_SIZE||(Ht.SMALL_EDITOR_SIZE=Math.min(128,Math.round(Lt.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:tt(this,it),decorative:tt(this,rt)}}set altTextData({altText:Lt,decorative:zt}){tt(this,it)===Lt&&tt(this,rt)===zt||(xt(this,it,Lt),xt(this,rt,zt),yt(this,_t,f_).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",tt(this,dt)),this.div.addEventListener("focusout",tt(this,ft));const[Lt,zt]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*zt/Lt).toFixed(2)}%`,this.div.style.maxHeight=`${(100*Lt/zt).toFixed(2)}%`);const[Zt,Ft]=this.getInitialTranslation();return this.translate(Zt,Ft),(0,o.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(Lt){const{isMac:zt}=j.FeatureTest.platform;if(Lt.button!==0||Lt.ctrlKey&&zt){Lt.preventDefault();return}xt(this,lt,!0),yt(this,_t,uE).call(this,Lt)}moveInDOM(){var Lt;(Lt=this.parent)==null||Lt.moveEditorInDOM(this)}_setParentAndPosition(Lt,zt,Zt){Lt.changeParent(this),this.x=zt,this.y=Zt,this.fixAndSetPosition()}getRect(Lt,zt){const Zt=this.parentScale,[Ft,Et]=this.pageDimensions,[Tt,kt]=this.pageTranslation,jt=Lt/Zt,Nt=zt/Zt,$t=this.x*Ft,tn=this.y*Et,gn=this.width*Ft,vn=this.height*Et;switch(this.rotation){case 0:return[$t+jt+Tt,Et-tn-Nt-vn+kt,$t+jt+gn+Tt,Et-tn-Nt+kt];case 90:return[$t+Nt+Tt,Et-tn+jt+kt,$t+Nt+vn+Tt,Et-tn+jt+gn+kt];case 180:return[$t-jt-gn+Tt,Et-tn+Nt+kt,$t-jt+Tt,Et-tn+Nt+vn+kt];case 270:return[$t-Nt-vn+Tt,Et-tn-jt-gn+kt,$t-Nt+Tt,Et-tn-jt+kt];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(Lt,zt){const[Zt,Ft,Et,Tt]=Lt,kt=Et-Zt,jt=Tt-Ft;switch(this.rotation){case 0:return[Zt,zt-Tt,kt,jt];case 90:return[Zt,zt-Ft,jt,kt];case 180:return[Et,zt-Ft,kt,jt];case 270:return[Et,zt-Tt,jt,kt];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){xt(this,pt,!0)}disableEditMode(){xt(this,pt,!1)}isInEditMode(){return tt(this,pt)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var Lt,zt;(Lt=this.div)==null||Lt.addEventListener("focusin",tt(this,dt)),(zt=this.div)==null||zt.addEventListener("focusout",tt(this,ft))}serialize(Lt=!1,zt=null){(0,j.unreachable)("An editor must be serializable")}static deserialize(Lt,zt,Zt){const Ft=new this.prototype.constructor({parent:zt,id:zt.getNextId(),uiManager:Zt});Ft.rotation=Lt.rotation;const[Et,Tt]=Ft.pageDimensions,[kt,jt,Nt,$t]=Ft.getRectInCurrentCoords(Lt.rect,Tt);return Ft.x=kt/Et,Ft.y=jt/Tt,Ft.width=Nt/Et,Ft.height=$t/Tt,Ft}remove(){var Lt;this.div.removeEventListener("focusin",tt(this,dt)),this.div.removeEventListener("focusout",tt(this,ft)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(Lt=tt(this,st))==null||Lt.remove(),xt(this,st,null),xt(this,at,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(yt(this,_t,oE).call(this),tt(this,ct).classList.remove("hidden"))}select(){var Lt;this.makeResizable(),(Lt=this.div)==null||Lt.classList.add("selectedEditor")}unselect(){var Lt,zt,Zt;(Lt=tt(this,ct))==null||Lt.classList.add("hidden"),(zt=this.div)==null||zt.classList.remove("selectedEditor"),(Zt=this.div)!=null&&Zt.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(Lt,zt){}disableEditing(){tt(this,st)&&(tt(this,st).hidden=!0)}enableEditing(){tt(this,st)&&(tt(this,st).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return tt(this,ht)}set isEditing(Lt){xt(this,ht,Lt),this.parent&&(Lt?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(Lt,zt){xt(this,ut,!0);const Zt=Lt/zt,{style:Ft}=this.div;Ft.aspectRatio=Zt,Ft.height="auto"}static get MIN_SIZE(){return 16}};it=new WeakMap,rt=new WeakMap,st=new WeakMap,at=new WeakMap,ot=new WeakMap,ut=new WeakMap,ct=new WeakMap,dt=new WeakMap,ft=new WeakMap,lt=new WeakMap,ht=new WeakMap,pt=new WeakMap,vt=new WeakMap,gt=new WeakMap,_t=new WeakSet,c_=function([Lt,zt],Zt,Ft){[Zt,Ft]=this.screenToPageTranslation(Zt,Ft),this.x+=Zt/Lt,this.y+=Ft/zt,this.fixAndSetPosition()},u_=function(){const[Lt,zt]=this.parentDimensions,{_borderLineWidth:Zt}=Ht,Ft=Zt/Lt,Et=Zt/zt;switch(this.rotation){case 90:return[-Ft,Et];case 180:return[Ft,Et];case 270:return[Ft,-Et];default:return[-Ft,-Et]}},Ct=new WeakSet,h_=function(Lt,zt,Zt){switch(Zt){case 90:return[zt,-Lt];case 180:return[-Lt,-zt];case 270:return[-zt,Lt];default:return[Lt,zt]}},d_=function(Lt){switch(Lt){case 90:{const[zt,Zt]=this.pageDimensions;return[0,-zt/Zt,Zt/zt,0]}case 180:return[-1,0,0,-1];case 270:{const[zt,Zt]=this.pageDimensions;return[0,zt/Zt,-Zt/zt,0]}default:return[1,0,0,1]}},oE=function(){if(tt(this,ct))return;xt(this,ct,document.createElement("div")),tt(this,ct).classList.add("resizers");const Lt=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||Lt.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const zt of Lt){const Zt=document.createElement("div");tt(this,ct).append(Zt),Zt.classList.add("resizer",zt),Zt.addEventListener("pointerdown",yt(this,_t,lE).bind(this,zt)),Zt.addEventListener("contextmenu",_e.noContextMenu)}this.div.prepend(tt(this,ct))},lE=function(Lt,zt){zt.preventDefault();const{isMac:Zt}=j.FeatureTest.platform;if(zt.button!==0||zt.ctrlKey&&Zt)return;const Ft=yt(this,_t,cE).bind(this,Lt),Et=this._isDraggable;this._isDraggable=!1;const Tt={passive:!0,capture:!0};window.addEventListener("pointermove",Ft,Tt);const kt=this.x,jt=this.y,Nt=this.width,$t=this.height,tn=this.parent.div.style.cursor,gn=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(zt.target).cursor;const vn=()=>{this._isDraggable=Et,window.removeEventListener("pointerup",vn),window.removeEventListener("blur",vn),window.removeEventListener("pointermove",Ft,Tt),this.parent.div.style.cursor=tn,this.div.style.cursor=gn;const bn=this.x,_n=this.y,An=this.width,wn=this.height;bn===kt&&_n===jt&&An===Nt&&wn===$t||this.addCommands({cmd:()=>{this.width=An,this.height=wn,this.x=bn,this.y=_n;const[on,hn]=this.parentDimensions;this.setDims(on*An,hn*wn),this.fixAndSetPosition()},undo:()=>{this.width=Nt,this.height=$t,this.x=kt,this.y=jt;const[on,hn]=this.parentDimensions;this.setDims(on*Nt,hn*$t),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",vn),window.addEventListener("blur",vn)},cE=function(Lt,zt){const[Zt,Ft]=this.parentDimensions,Et=this.x,Tt=this.y,kt=this.width,jt=this.height,Nt=Ht.MIN_SIZE/Zt,$t=Ht.MIN_SIZE/Ft,tn=zn=>Math.round(zn*1e4)/1e4,gn=yt(this,_t,d_).call(this,this.rotation),vn=(zn,_i)=>[gn[0]*zn+gn[2]*_i,gn[1]*zn+gn[3]*_i],bn=yt(this,_t,d_).call(this,360-this.rotation),_n=(zn,_i)=>[bn[0]*zn+bn[2]*_i,bn[1]*zn+bn[3]*_i];let An,wn,on=!1,hn=!1;switch(Lt){case"topLeft":on=!0,An=(zn,_i)=>[0,0],wn=(zn,_i)=>[zn,_i];break;case"topMiddle":An=(zn,_i)=>[zn/2,0],wn=(zn,_i)=>[zn/2,_i];break;case"topRight":on=!0,An=(zn,_i)=>[zn,0],wn=(zn,_i)=>[0,_i];break;case"middleRight":hn=!0,An=(zn,_i)=>[zn,_i/2],wn=(zn,_i)=>[0,_i/2];break;case"bottomRight":on=!0,An=(zn,_i)=>[zn,_i],wn=(zn,_i)=>[0,0];break;case"bottomMiddle":An=(zn,_i)=>[zn/2,_i],wn=(zn,_i)=>[zn/2,0];break;case"bottomLeft":on=!0,An=(zn,_i)=>[0,_i],wn=(zn,_i)=>[zn,0];break;case"middleLeft":hn=!0,An=(zn,_i)=>[0,_i/2],wn=(zn,_i)=>[zn,_i/2];break}const It=An(kt,jt),Vt=wn(kt,jt);let rn=vn(...Vt);const fn=tn(Et+rn[0]),xn=tn(Tt+rn[1]);let kn=1,Cn=1,[sn,On]=this.screenToPageTranslation(zt.movementX,zt.movementY);if([sn,On]=_n(sn/Zt,On/Ft),on){const zn=Math.hypot(kt,jt);kn=Cn=Math.max(Math.min(Math.hypot(Vt[0]-It[0]-sn,Vt[1]-It[1]-On)/zn,1/kt,1/jt),Nt/kt,$t/jt)}else hn?kn=Math.max(Nt,Math.min(1,Math.abs(Vt[0]-It[0]-sn)))/kt:Cn=Math.max($t,Math.min(1,Math.abs(Vt[1]-It[1]-On)))/jt;const Ln=tn(kt*kn),fs=tn(jt*Cn);rn=vn(...wn(Ln,fs));const rs=fn-rn[0],Ss=xn-rn[1];this.width=Ln,this.height=fs,this.x=rs,this.y=Ss,this.setDims(Zt*Ln,Ft*fs),this.fixAndSetPosition()},f_=async function(){var Zt;const Lt=tt(this,st);if(!Lt)return;if(!tt(this,it)&&!tt(this,rt)){Lt.classList.remove("done"),(Zt=tt(this,at))==null||Zt.remove();return}Ht._l10nPromise.get("editor_alt_text_edit_button_label").then(Ft=>{Lt.setAttribute("aria-label",Ft)});let zt=tt(this,at);if(!zt){xt(this,at,zt=document.createElement("span")),zt.className="tooltip",zt.setAttribute("role","tooltip");const Ft=zt.id=`alt-text-tooltip-${this.id}`;Lt.setAttribute("aria-describedby",Ft);const Et=100;Lt.addEventListener("mouseenter",()=>{xt(this,ot,setTimeout(()=>{xt(this,ot,null),tt(this,at).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},Et))}),Lt.addEventListener("mouseleave",()=>{var Tt;clearTimeout(tt(this,ot)),xt(this,ot,null),(Tt=tt(this,at))==null||Tt.classList.remove("show")})}Lt.classList.add("done"),zt.innerText=tt(this,rt)?await Ht._l10nPromise.get("editor_alt_text_decorative_tooltip"):tt(this,it),zt.parentNode||Lt.append(zt)},uE=function(Lt){if(!this._isDraggable)return;const zt=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let Zt,Ft;zt&&(Zt={passive:!0,capture:!0},Ft=Tt=>{const[kt,jt]=this.screenToPageTranslation(Tt.movementX,Tt.movementY);this._uiManager.dragSelectedEditors(kt,jt)},window.addEventListener("pointermove",Ft,Zt));const Et=()=>{if(window.removeEventListener("pointerup",Et),window.removeEventListener("blur",Et),zt&&window.removeEventListener("pointermove",Ft,Zt),xt(this,lt,!1),!this._uiManager.endDragSession()){const{isMac:Tt}=j.FeatureTest.platform;Lt.ctrlKey&&!Tt||Lt.shiftKey||Lt.metaKey&&Tt?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",Et),window.addEventListener("blur",Et)},At(Ht,Ct),es(Ht,"_borderLineWidth",-1),es(Ht,"_colorManager",new o.ColorManager),es(Ht,"_zIndex",1),es(Ht,"SMALL_EDITOR_SIZE",0);let et=Ht;i.AnnotationEditor=et;class nt extends et{constructor(Lt){super(Lt),this.annotationElementId=Lt.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(a,i,s)=>{var ut,ct,dt,ft,lt,p_,vt,gt,_t,mt,bt,hE,St,Mt,Dt,Qt,Xt,Yt,Ht,Ut,Lt,zt,Zt,Ft,Et,Tt,kt,jt,Nt,$t,tn,gn,vn,bn,_n,An,wn,on,hn,It,Vt,rn,fn,xn,kn,Cn,sn,dE,g_,m_,X0,v_,y_,so,jm,fE,pE,__,$m,b_;Object.defineProperty(i,"__esModule",{value:!0}),i.KeyboardManager=i.CommandManager=i.ColorManager=i.AnnotationEditorUIManager=void 0,i.bindEvents=_e,i.opacityToHex=et;var o=s(1),j=s(6);function _e(ss,Wt,En){for(const Nn of En)Wt.addEventListener(Nn,ss[Nn].bind(ss))}function et(ss){return Math.round(Math.min(255,Math.max(1,255*ss))).toString(16).padStart(2,"0")}class nt{constructor(){At(this,ut,0)}getId(){return`${o.AnnotationEditorPrefix}${Pr(this,ut)._++}`}}ut=new WeakMap;const pt=class pt{constructor(){At(this,lt);At(this,ct,(0,o.getUuid)());At(this,dt,0);At(this,ft,null)}static get _isSVGFittingCanvas(){const Wt='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Nn=new OffscreenCanvas(1,3).getContext("2d"),Xn=new Image;Xn.src=Wt;const Yn=Xn.decode().then(()=>(Nn.drawImage(Xn,0,0,1,1,0,0,1,3),new Uint32Array(Nn.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,o.shadow)(this,"_isSVGFittingCanvas",Yn)}async getFromFile(Wt){const{lastModified:En,name:Nn,size:Xn,type:Yn}=Wt;return yt(this,lt,p_).call(this,`${En}_${Nn}_${Xn}_${Yn}`,Wt)}async getFromUrl(Wt){return yt(this,lt,p_).call(this,Wt,Wt)}async getFromId(Wt){tt(this,ft)||xt(this,ft,new Map);const En=tt(this,ft).get(Wt);return En?En.bitmap?(En.refCounter+=1,En):En.file?this.getFromFile(En.file):this.getFromUrl(En.url):null}getSvgUrl(Wt){const En=tt(this,ft).get(Wt);return En!=null&&En.isSvg?En.svgUrl:null}deleteId(Wt){tt(this,ft)||xt(this,ft,new Map);const En=tt(this,ft).get(Wt);En&&(En.refCounter-=1,En.refCounter===0&&(En.bitmap=null))}isValidId(Wt){return Wt.startsWith(`image_${tt(this,ct)}_`)}};ct=new WeakMap,dt=new WeakMap,ft=new WeakMap,lt=new WeakSet,p_=async function(Wt,En){tt(this,ft)||xt(this,ft,new Map);let Nn=tt(this,ft).get(Wt);if(Nn===null)return null;if(Nn!=null&&Nn.bitmap)return Nn.refCounter+=1,Nn;try{Nn||(Nn={bitmap:null,id:`image_${tt(this,ct)}_${Pr(this,dt)._++}`,refCounter:0,isSvg:!1});let Xn;if(typeof En=="string"){Nn.url=En;const Yn=await fetch(En);if(!Yn.ok)throw new Error(Yn.statusText);Xn=await Yn.blob()}else Xn=Nn.file=En;if(Xn.type==="image/svg+xml"){const Yn=pt._isSVGFittingCanvas,Hn=new FileReader,Bt=new Image,Ot=new Promise((en,mn)=>{Bt.onload=()=>{Nn.bitmap=Bt,Nn.isSvg=!0,en()},Hn.onload=async()=>{const yn=Nn.svgUrl=Hn.result;Bt.src=await Yn?`${yn}#svgView(preserveAspectRatio(none))`:yn},Bt.onerror=Hn.onerror=mn});Hn.readAsDataURL(Xn),await Ot}else Nn.bitmap=await createImageBitmap(Xn);Nn.refCounter=1}catch(Xn){console.error(Xn),Nn=null}return tt(this,ft).set(Wt,Nn),Nn&&tt(this,ft).set(Nn.id,Nn),Nn};let it=pt;class rt{constructor(Wt=128){At(this,vt,[]);At(this,gt,!1);At(this,_t);At(this,mt,-1);xt(this,_t,Wt)}add({cmd:Wt,undo:En,mustExec:Nn,type:Xn=NaN,overwriteIfSameType:Yn=!1,keepUndo:Hn=!1}){if(Nn&&Wt(),tt(this,gt))return;const Bt={cmd:Wt,undo:En,type:Xn};if(tt(this,mt)===-1){tt(this,vt).length>0&&(tt(this,vt).length=0),xt(this,mt,0),tt(this,vt).push(Bt);return}if(Yn&&tt(this,vt)[tt(this,mt)].type===Xn){Hn&&(Bt.undo=tt(this,vt)[tt(this,mt)].undo),tt(this,vt)[tt(this,mt)]=Bt;return}const Ot=tt(this,mt)+1;Ot===tt(this,_t)?tt(this,vt).splice(0,1):(xt(this,mt,Ot),Ot<tt(this,vt).length&&tt(this,vt).splice(Ot)),tt(this,vt).push(Bt)}undo(){tt(this,mt)!==-1&&(xt(this,gt,!0),tt(this,vt)[tt(this,mt)].undo(),xt(this,gt,!1),xt(this,mt,tt(this,mt)-1))}redo(){tt(this,mt)<tt(this,vt).length-1&&(xt(this,mt,tt(this,mt)+1),xt(this,gt,!0),tt(this,vt)[tt(this,mt)].cmd(),xt(this,gt,!1))}hasSomethingToUndo(){return tt(this,mt)!==-1}hasSomethingToRedo(){return tt(this,mt)<tt(this,vt).length-1}destroy(){xt(this,vt,null)}}vt=new WeakMap,gt=new WeakMap,_t=new WeakMap,mt=new WeakMap,i.CommandManager=rt;class st{constructor(Wt){At(this,bt);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:En}=o.FeatureTest.platform;for(const[Nn,Xn,Yn={}]of Wt)for(const Hn of Nn){const Bt=Hn.startsWith("mac+");En&&Bt?(this.callbacks.set(Hn.slice(4),{callback:Xn,options:Yn}),this.allKeys.add(Hn.split("+").at(-1))):!En&&!Bt&&(this.callbacks.set(Hn,{callback:Xn,options:Yn}),this.allKeys.add(Hn.split("+").at(-1)))}}exec(Wt,En){if(!this.allKeys.has(En.key))return;const Nn=this.callbacks.get(yt(this,bt,hE).call(this,En));if(!Nn)return;const{callback:Xn,options:{bubbles:Yn=!1,args:Hn=[],checker:Bt=null}}=Nn;Bt&&!Bt(Wt,En)||(Xn.bind(Wt,...Hn)(),Yn||(En.stopPropagation(),En.preventDefault()))}}bt=new WeakSet,hE=function(Wt){Wt.altKey&&this.buffer.push("alt"),Wt.ctrlKey&&this.buffer.push("ctrl"),Wt.metaKey&&this.buffer.push("meta"),Wt.shiftKey&&this.buffer.push("shift"),this.buffer.push(Wt.key);const En=this.buffer.join("+");return this.buffer.length=0,En},i.KeyboardManager=st;const Pt=class Pt{get _colors(){const Wt=new Map([["CanvasText",null],["Canvas",null]]);return(0,j.getColorValues)(Wt),(0,o.shadow)(this,"_colors",Wt)}convert(Wt){const En=(0,j.getRGB)(Wt);if(!window.matchMedia("(forced-colors: active)").matches)return En;for(const[Nn,Xn]of this._colors)if(Xn.every((Yn,Hn)=>Yn===En[Hn]))return Pt._colorsMapping.get(Nn);return En}getHexCode(Wt){const En=this._colors.get(Wt);return En?o.Util.makeHexColor(...En):Wt}};es(Pt,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let at=Pt;i.ColorManager=at;const Gn=class Gn{constructor(Wt,En,Nn,Xn,Yn,Hn){At(this,sn);At(this,St,null);At(this,Mt,new Map);At(this,Dt,new Map);At(this,Qt,null);At(this,Xt,null);At(this,Yt,new rt);At(this,Ht,0);At(this,Ut,new Set);At(this,Lt,null);At(this,zt,null);At(this,Zt,new Set);At(this,Ft,null);At(this,Et,new nt);At(this,Tt,!1);At(this,kt,!1);At(this,jt,null);At(this,Nt,o.AnnotationEditorType.NONE);At(this,$t,new Set);At(this,tn,null);At(this,gn,this.blur.bind(this));At(this,vn,this.focus.bind(this));At(this,bn,this.copy.bind(this));At(this,_n,this.cut.bind(this));At(this,An,this.paste.bind(this));At(this,wn,this.keydown.bind(this));At(this,on,this.onEditingAction.bind(this));At(this,hn,this.onPageChanging.bind(this));At(this,It,this.onScaleChanging.bind(this));At(this,Vt,this.onRotationChanging.bind(this));At(this,rn,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});At(this,fn,[0,0]);At(this,xn,null);At(this,kn,null);At(this,Cn,null);xt(this,kn,Wt),xt(this,Cn,En),xt(this,Qt,Nn),this._eventBus=Xn,this._eventBus._on("editingaction",tt(this,on)),this._eventBus._on("pagechanging",tt(this,hn)),this._eventBus._on("scalechanging",tt(this,It)),this._eventBus._on("rotationchanging",tt(this,Vt)),xt(this,Xt,Yn.annotationStorage),xt(this,Ft,Yn.filterFactory),xt(this,tn,Hn),this.viewParameters={realScale:j.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const Wt=Gn.prototype,En=Yn=>{const{activeElement:Hn}=document;return Hn&&tt(Yn,kn).contains(Hn)&&Yn.hasSomethingToControl()},Nn=this.TRANSLATE_SMALL,Xn=this.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new st([[["ctrl+a","mac+meta+a"],Wt.selectAll],[["ctrl+z","mac+meta+z"],Wt.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Wt.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Wt.delete],[["Escape","mac+Escape"],Wt.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Wt.translateSelectedEditors,{args:[-Nn,0],checker:En}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Wt.translateSelectedEditors,{args:[-Xn,0],checker:En}],[["ArrowRight","mac+ArrowRight"],Wt.translateSelectedEditors,{args:[Nn,0],checker:En}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Wt.translateSelectedEditors,{args:[Xn,0],checker:En}],[["ArrowUp","mac+ArrowUp"],Wt.translateSelectedEditors,{args:[0,-Nn],checker:En}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Wt.translateSelectedEditors,{args:[0,-Xn],checker:En}],[["ArrowDown","mac+ArrowDown"],Wt.translateSelectedEditors,{args:[0,Nn],checker:En}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Wt.translateSelectedEditors,{args:[0,Xn],checker:En}]]))}destroy(){yt(this,sn,X0).call(this),yt(this,sn,g_).call(this),this._eventBus._off("editingaction",tt(this,on)),this._eventBus._off("pagechanging",tt(this,hn)),this._eventBus._off("scalechanging",tt(this,It)),this._eventBus._off("rotationchanging",tt(this,Vt));for(const Wt of tt(this,Dt).values())Wt.destroy();tt(this,Dt).clear(),tt(this,Mt).clear(),tt(this,Zt).clear(),xt(this,St,null),tt(this,$t).clear(),tt(this,Yt).destroy(),tt(this,Qt).destroy()}get hcmFilter(){return(0,o.shadow)(this,"hcmFilter",tt(this,tn)?tt(this,Ft).addHCMFilter(tt(this,tn).foreground,tt(this,tn).background):"none")}get direction(){return(0,o.shadow)(this,"direction",getComputedStyle(tt(this,kn)).direction)}editAltText(Wt){var En;(En=tt(this,Qt))==null||En.editAltText(this,Wt)}onPageChanging({pageNumber:Wt}){xt(this,Ht,Wt-1)}focusMainContainer(){tt(this,kn).focus()}findParent(Wt,En){for(const Nn of tt(this,Dt).values()){const{x:Xn,y:Yn,width:Hn,height:Bt}=Nn.div.getBoundingClientRect();if(Wt>=Xn&&Wt<=Xn+Hn&&En>=Yn&&En<=Yn+Bt)return Nn}return null}disableUserSelect(Wt=!1){tt(this,Cn).classList.toggle("noUserSelect",Wt)}addShouldRescale(Wt){tt(this,Zt).add(Wt)}removeShouldRescale(Wt){tt(this,Zt).delete(Wt)}onScaleChanging({scale:Wt}){this.commitOrRemove(),this.viewParameters.realScale=Wt*j.PixelsPerInch.PDF_TO_CSS_UNITS;for(const En of tt(this,Zt))En.onScaleChanging()}onRotationChanging({pagesRotation:Wt}){this.commitOrRemove(),this.viewParameters.rotation=Wt}addToAnnotationStorage(Wt){!Wt.isEmpty()&&tt(this,Xt)&&!tt(this,Xt).has(Wt.id)&&tt(this,Xt).setValue(Wt.id,Wt)}blur(){if(!this.hasSelection)return;const{activeElement:Wt}=document;for(const En of tt(this,$t))if(En.div.contains(Wt)){xt(this,jt,[En,Wt]),En._focusEventsAllowed=!1;break}}focus(){if(!tt(this,jt))return;const[Wt,En]=tt(this,jt);xt(this,jt,null),En.addEventListener("focusin",()=>{Wt._focusEventsAllowed=!0},{once:!0}),En.focus()}addEditListeners(){yt(this,sn,m_).call(this),yt(this,sn,v_).call(this)}removeEditListeners(){yt(this,sn,X0).call(this),yt(this,sn,y_).call(this)}copy(Wt){var Nn;if(Wt.preventDefault(),(Nn=tt(this,St))==null||Nn.commitOrRemove(),!this.hasSelection)return;const En=[];for(const Xn of tt(this,$t)){const Yn=Xn.serialize(!0);Yn&&En.push(Yn)}En.length!==0&&Wt.clipboardData.setData("application/pdfjs",JSON.stringify(En))}cut(Wt){this.copy(Wt),this.delete()}paste(Wt){Wt.preventDefault();const{clipboardData:En}=Wt;for(const Yn of En.items)for(const Hn of tt(this,zt))if(Hn.isHandlingMimeForPasting(Yn.type)){Hn.paste(Yn,this.currentLayer);return}let Nn=En.getData("application/pdfjs");if(!Nn)return;try{Nn=JSON.parse(Nn)}catch(Yn){(0,o.warn)(`paste: "${Yn.message}".`);return}if(!Array.isArray(Nn))return;this.unselectAll();const Xn=this.currentLayer;try{const Yn=[];for(const Ot of Nn){const en=Xn.deserialize(Ot);if(!en)return;Yn.push(en)}const Hn=()=>{for(const Ot of Yn)yt(this,sn,__).call(this,Ot);yt(this,sn,b_).call(this,Yn)},Bt=()=>{for(const Ot of Yn)Ot.remove()};this.addCommands({cmd:Hn,undo:Bt,mustExec:!0})}catch(Yn){(0,o.warn)(`paste: "${Yn.message}".`)}}keydown(Wt){var En;(En=this.getActive())!=null&&En.shouldGetKeyboardEvents()||Gn._keyboardManager.exec(this,Wt)}onEditingAction(Wt){["undo","redo","delete","selectAll"].includes(Wt.name)&&this[Wt.name]()}setEditingState(Wt){Wt?(yt(this,sn,dE).call(this),yt(this,sn,m_).call(this),yt(this,sn,v_).call(this),yt(this,sn,so).call(this,{isEditing:tt(this,Nt)!==o.AnnotationEditorType.NONE,isEmpty:yt(this,sn,$m).call(this),hasSomethingToUndo:tt(this,Yt).hasSomethingToUndo(),hasSomethingToRedo:tt(this,Yt).hasSomethingToRedo(),hasSelectedEditor:!1})):(yt(this,sn,g_).call(this),yt(this,sn,X0).call(this),yt(this,sn,y_).call(this),yt(this,sn,so).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Wt){if(!tt(this,zt)){xt(this,zt,Wt);for(const En of tt(this,zt))yt(this,sn,jm).call(this,En.defaultPropertiesToUpdate)}}getId(){return tt(this,Et).getId()}get currentLayer(){return tt(this,Dt).get(tt(this,Ht))}getLayer(Wt){return tt(this,Dt).get(Wt)}get currentPageIndex(){return tt(this,Ht)}addLayer(Wt){tt(this,Dt).set(Wt.pageIndex,Wt),tt(this,Tt)?Wt.enable():Wt.disable()}removeLayer(Wt){tt(this,Dt).delete(Wt.pageIndex)}updateMode(Wt,En=null){if(tt(this,Nt)!==Wt){if(xt(this,Nt,Wt),Wt===o.AnnotationEditorType.NONE){this.setEditingState(!1),yt(this,sn,pE).call(this);return}this.setEditingState(!0),yt(this,sn,fE).call(this),this.unselectAll();for(const Nn of tt(this,Dt).values())Nn.updateMode(Wt);if(En){for(const Nn of tt(this,Mt).values())if(Nn.annotationElementId===En){this.setSelected(Nn),Nn.enterInEditMode();break}}}}updateToolbar(Wt){Wt!==tt(this,Nt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Wt})}updateParams(Wt,En){if(tt(this,zt)){if(Wt===o.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Wt);return}for(const Nn of tt(this,$t))Nn.updateParams(Wt,En);for(const Nn of tt(this,zt))Nn.updateDefaultParams(Wt,En)}}enableWaiting(Wt=!1){if(tt(this,kt)!==Wt){xt(this,kt,Wt);for(const En of tt(this,Dt).values())Wt?En.disableClick():En.enableClick(),En.div.classList.toggle("waiting",Wt)}}getEditors(Wt){const En=[];for(const Nn of tt(this,Mt).values())Nn.pageIndex===Wt&&En.push(Nn);return En}getEditor(Wt){return tt(this,Mt).get(Wt)}addEditor(Wt){tt(this,Mt).set(Wt.id,Wt)}removeEditor(Wt){var En;tt(this,Mt).delete(Wt.id),this.unselect(Wt),(!Wt.annotationElementId||!tt(this,Ut).has(Wt.annotationElementId))&&((En=tt(this,Xt))==null||En.remove(Wt.id))}addDeletedAnnotationElement(Wt){tt(this,Ut).add(Wt.annotationElementId),Wt.deleted=!0}isDeletedAnnotationElement(Wt){return tt(this,Ut).has(Wt)}removeDeletedAnnotationElement(Wt){tt(this,Ut).delete(Wt.annotationElementId),Wt.deleted=!1}setActiveEditor(Wt){tt(this,St)!==Wt&&(xt(this,St,Wt),Wt&&yt(this,sn,jm).call(this,Wt.propertiesToUpdate))}toggleSelected(Wt){if(tt(this,$t).has(Wt)){tt(this,$t).delete(Wt),Wt.unselect(),yt(this,sn,so).call(this,{hasSelectedEditor:this.hasSelection});return}tt(this,$t).add(Wt),Wt.select(),yt(this,sn,jm).call(this,Wt.propertiesToUpdate),yt(this,sn,so).call(this,{hasSelectedEditor:!0})}setSelected(Wt){for(const En of tt(this,$t))En!==Wt&&En.unselect();tt(this,$t).clear(),tt(this,$t).add(Wt),Wt.select(),yt(this,sn,jm).call(this,Wt.propertiesToUpdate),yt(this,sn,so).call(this,{hasSelectedEditor:!0})}isSelected(Wt){return tt(this,$t).has(Wt)}unselect(Wt){Wt.unselect(),tt(this,$t).delete(Wt),yt(this,sn,so).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return tt(this,$t).size!==0}undo(){tt(this,Yt).undo(),yt(this,sn,so).call(this,{hasSomethingToUndo:tt(this,Yt).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:yt(this,sn,$m).call(this)})}redo(){tt(this,Yt).redo(),yt(this,sn,so).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:tt(this,Yt).hasSomethingToRedo(),isEmpty:yt(this,sn,$m).call(this)})}addCommands(Wt){tt(this,Yt).add(Wt),yt(this,sn,so).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:yt(this,sn,$m).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Wt=[...tt(this,$t)],En=()=>{for(const Xn of Wt)Xn.remove()},Nn=()=>{for(const Xn of Wt)yt(this,sn,__).call(this,Xn)};this.addCommands({cmd:En,undo:Nn,mustExec:!0})}commitOrRemove(){var Wt;(Wt=tt(this,St))==null||Wt.commitOrRemove()}hasSomethingToControl(){return tt(this,St)||this.hasSelection}selectAll(){for(const Wt of tt(this,$t))Wt.commit();yt(this,sn,b_).call(this,tt(this,Mt).values())}unselectAll(){if(tt(this,St)){tt(this,St).commitOrRemove();return}if(this.hasSelection){for(const Wt of tt(this,$t))Wt.unselect();tt(this,$t).clear(),yt(this,sn,so).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(Wt,En,Nn=!1){if(Nn||this.commitOrRemove(),!this.hasSelection)return;tt(this,fn)[0]+=Wt,tt(this,fn)[1]+=En;const[Xn,Yn]=tt(this,fn),Hn=[...tt(this,$t)],Bt=1e3;tt(this,xn)&&clearTimeout(tt(this,xn)),xt(this,xn,setTimeout(()=>{xt(this,xn,null),tt(this,fn)[0]=tt(this,fn)[1]=0,this.addCommands({cmd:()=>{for(const Ot of Hn)tt(this,Mt).has(Ot.id)&&Ot.translateInPage(Xn,Yn)},undo:()=>{for(const Ot of Hn)tt(this,Mt).has(Ot.id)&&Ot.translateInPage(-Xn,-Yn)},mustExec:!1})},Bt));for(const Ot of Hn)Ot.translateInPage(Wt,En)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),xt(this,Lt,new Map);for(const Wt of tt(this,$t))tt(this,Lt).set(Wt,{savedX:Wt.x,savedY:Wt.y,savedPageIndex:Wt.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!tt(this,Lt))return!1;this.disableUserSelect(!1);const Wt=tt(this,Lt);xt(this,Lt,null);let En=!1;for(const[{x:Xn,y:Yn,pageIndex:Hn},Bt]of Wt)Bt.newX=Xn,Bt.newY=Yn,Bt.newPageIndex=Hn,En||(En=Xn!==Bt.savedX||Yn!==Bt.savedY||Hn!==Bt.savedPageIndex);if(!En)return!1;const Nn=(Xn,Yn,Hn,Bt)=>{if(tt(this,Mt).has(Xn.id)){const Ot=tt(this,Dt).get(Bt);Ot?Xn._setParentAndPosition(Ot,Yn,Hn):(Xn.pageIndex=Bt,Xn.x=Yn,Xn.y=Hn)}};return this.addCommands({cmd:()=>{for(const[Xn,{newX:Yn,newY:Hn,newPageIndex:Bt}]of Wt)Nn(Xn,Yn,Hn,Bt)},undo:()=>{for(const[Xn,{savedX:Yn,savedY:Hn,savedPageIndex:Bt}]of Wt)Nn(Xn,Yn,Hn,Bt)},mustExec:!0}),!0}dragSelectedEditors(Wt,En){if(tt(this,Lt))for(const Nn of tt(this,Lt).keys())Nn.drag(Wt,En)}rebuild(Wt){if(Wt.parent===null){const En=this.getLayer(Wt.pageIndex);En?(En.changeParent(Wt),En.addOrRebuild(Wt)):(this.addEditor(Wt),this.addToAnnotationStorage(Wt),Wt.rebuild())}else Wt.parent.addOrRebuild(Wt)}isActive(Wt){return tt(this,St)===Wt}getActive(){return tt(this,St)}getMode(){return tt(this,Nt)}get imageManager(){return(0,o.shadow)(this,"imageManager",new it)}};St=new WeakMap,Mt=new WeakMap,Dt=new WeakMap,Qt=new WeakMap,Xt=new WeakMap,Yt=new WeakMap,Ht=new WeakMap,Ut=new WeakMap,Lt=new WeakMap,zt=new WeakMap,Zt=new WeakMap,Ft=new WeakMap,Et=new WeakMap,Tt=new WeakMap,kt=new WeakMap,jt=new WeakMap,Nt=new WeakMap,$t=new WeakMap,tn=new WeakMap,gn=new WeakMap,vn=new WeakMap,bn=new WeakMap,_n=new WeakMap,An=new WeakMap,wn=new WeakMap,on=new WeakMap,hn=new WeakMap,It=new WeakMap,Vt=new WeakMap,rn=new WeakMap,fn=new WeakMap,xn=new WeakMap,kn=new WeakMap,Cn=new WeakMap,sn=new WeakSet,dE=function(){window.addEventListener("focus",tt(this,vn)),window.addEventListener("blur",tt(this,gn))},g_=function(){window.removeEventListener("focus",tt(this,vn)),window.removeEventListener("blur",tt(this,gn))},m_=function(){window.addEventListener("keydown",tt(this,wn),{capture:!0})},X0=function(){window.removeEventListener("keydown",tt(this,wn),{capture:!0})},v_=function(){document.addEventListener("copy",tt(this,bn)),document.addEventListener("cut",tt(this,_n)),document.addEventListener("paste",tt(this,An))},y_=function(){document.removeEventListener("copy",tt(this,bn)),document.removeEventListener("cut",tt(this,_n)),document.removeEventListener("paste",tt(this,An))},so=function(Wt){Object.entries(Wt).some(([Nn,Xn])=>tt(this,rn)[Nn]!==Xn)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(tt(this,rn),Wt)})},jm=function(Wt){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Wt})},fE=function(){if(!tt(this,Tt)){xt(this,Tt,!0);for(const Wt of tt(this,Dt).values())Wt.enable()}},pE=function(){if(this.unselectAll(),tt(this,Tt)){xt(this,Tt,!1);for(const Wt of tt(this,Dt).values())Wt.disable()}},__=function(Wt){const En=tt(this,Dt).get(Wt.pageIndex);En?En.addOrRebuild(Wt):this.addEditor(Wt)},$m=function(){if(tt(this,Mt).size===0)return!0;if(tt(this,Mt).size===1)for(const Wt of tt(this,Mt).values())return Wt.isEmpty();return!1},b_=function(Wt){tt(this,$t).clear();for(const En of Wt)En.isEmpty()||(tt(this,$t).add(En),En.select());yt(this,sn,so).call(this,{hasSelectedEditor:!0})},es(Gn,"TRANSLATE_SMALL",1),es(Gn,"TRANSLATE_BIG",10);let ot=Gn;i.AnnotationEditorUIManager=ot},(a,i,s)=>{var Ht,Ut,Lt,zt,Zt,Ft,Et,Tt,kt,jt,Nt,$t,Mp,Fp,x_,q0,K0,Bm,Hm;Object.defineProperty(i,"__esModule",{value:!0}),i.StatTimer=i.RenderingCancelledException=i.PixelsPerInch=i.PageViewport=i.PDFDateString=i.DOMStandardFontDataFactory=i.DOMSVGFactory=i.DOMFilterFactory=i.DOMCanvasFactory=i.DOMCMapReaderFactory=void 0,i.deprecated=mt,i.getColorValues=Mt,i.getCurrentTransform=Dt,i.getCurrentTransformInverse=Qt,i.getFilenameFromUrl=lt,i.getPdfFilenameFromUrl=ht,i.getRGB=St,i.getXfaPageViewport=Pt,i.isDataScheme=dt,i.isPdfFile=ft,i.isValidFetchUrl=vt,i.loadScript=_t,i.noContextMenu=gt,i.setLayerDimensions=Xt;var o=s(7),j=s(1);const _e="http://www.w3.org/2000/svg",Yt=class Yt{};es(Yt,"CSS",96),es(Yt,"PDF",72),es(Yt,"PDF_TO_CSS_UNITS",Yt.CSS/Yt.PDF);let et=Yt;i.PixelsPerInch=et;class nt extends o.BaseFilterFactory{constructor({docId:It,ownerDocument:Vt=globalThis.document}={}){super();At(this,$t);At(this,Ht);At(this,Ut);At(this,Lt);At(this,zt);At(this,Zt);At(this,Ft);At(this,Et);At(this,Tt);At(this,kt);At(this,jt);At(this,Nt,0);xt(this,Lt,It),xt(this,zt,Vt)}addFilter(It){if(!It)return"none";let Vt=tt(this,$t,Mp).get(It);if(Vt)return Vt;let rn,fn,xn,kn;if(It.length===1){const Ln=It[0],fs=new Array(256);for(let rs=0;rs<256;rs++)fs[rs]=Ln[rs]/255;kn=rn=fn=xn=fs.join(",")}else{const[Ln,fs,rs]=It,Ss=new Array(256),zn=new Array(256),_i=new Array(256);for(let ys=0;ys<256;ys++)Ss[ys]=Ln[ys]/255,zn[ys]=fs[ys]/255,_i[ys]=rs[ys]/255;rn=Ss.join(","),fn=zn.join(","),xn=_i.join(","),kn=`${rn}${fn}${xn}`}if(Vt=tt(this,$t,Mp).get(kn),Vt)return tt(this,$t,Mp).set(It,Vt),Vt;const Cn=`g_${tt(this,Lt)}_transfer_map_${Pr(this,Nt)._++}`,sn=`url(#${Cn})`;tt(this,$t,Mp).set(It,sn),tt(this,$t,Mp).set(kn,sn);const On=yt(this,$t,q0).call(this,Cn);return yt(this,$t,Bm).call(this,rn,fn,xn,On),sn}addHCMFilter(It,Vt){var fs;const rn=`${It}-${Vt}`;if(tt(this,Ft)===rn)return tt(this,Et);if(xt(this,Ft,rn),xt(this,Et,"none"),(fs=tt(this,Zt))==null||fs.remove(),!It||!Vt)return tt(this,Et);const fn=yt(this,$t,Hm).call(this,It);It=j.Util.makeHexColor(...fn);const xn=yt(this,$t,Hm).call(this,Vt);if(Vt=j.Util.makeHexColor(...xn),tt(this,$t,Fp).style.color="",It==="#000000"&&Vt==="#ffffff"||It===Vt)return tt(this,Et);const kn=new Array(256);for(let rs=0;rs<=255;rs++){const Ss=rs/255;kn[rs]=Ss<=.03928?Ss/12.92:((Ss+.055)/1.055)**2.4}const Cn=kn.join(","),sn=`g_${tt(this,Lt)}_hcm_filter`,On=xt(this,Tt,yt(this,$t,q0).call(this,sn));yt(this,$t,Bm).call(this,Cn,Cn,Cn,On),yt(this,$t,x_).call(this,On);const Ln=(rs,Ss)=>{const zn=fn[rs]/255,_i=xn[rs]/255,ys=new Array(Ss+1);for(let Ls=0;Ls<=Ss;Ls++)ys[Ls]=zn+Ls/Ss*(_i-zn);return ys.join(",")};return yt(this,$t,Bm).call(this,Ln(0,5),Ln(1,5),Ln(2,5),On),xt(this,Et,`url(#${sn})`),tt(this,Et)}addHighlightHCMFilter(It,Vt,rn,fn){var _i;const xn=`${It}-${Vt}-${rn}-${fn}`;if(tt(this,kt)===xn)return tt(this,jt);if(xt(this,kt,xn),xt(this,jt,"none"),(_i=tt(this,Tt))==null||_i.remove(),!It||!Vt)return tt(this,jt);const[kn,Cn]=[It,Vt].map(yt(this,$t,Hm).bind(this));let sn=Math.round(.2126*kn[0]+.7152*kn[1]+.0722*kn[2]),On=Math.round(.2126*Cn[0]+.7152*Cn[1]+.0722*Cn[2]),[Ln,fs]=[rn,fn].map(yt(this,$t,Hm).bind(this));On<sn&&([sn,On,Ln,fs]=[On,sn,fs,Ln]),tt(this,$t,Fp).style.color="";const rs=(ys,Ls,Sn)=>{const an=new Array(256),cn=(On-sn)/Sn,Un=ys/255,Gn=(Ls-ys)/(255*Sn);let ss=0;for(let Wt=0;Wt<=Sn;Wt++){const En=Math.round(sn+Wt*cn),Nn=Un+Wt*Gn;for(let Xn=ss;Xn<=En;Xn++)an[Xn]=Nn;ss=En+1}for(let Wt=ss;Wt<256;Wt++)an[Wt]=an[ss-1];return an.join(",")},Ss=`g_${tt(this,Lt)}_hcm_highlight_filter`,zn=xt(this,Tt,yt(this,$t,q0).call(this,Ss));return yt(this,$t,x_).call(this,zn),yt(this,$t,Bm).call(this,rs(Ln[0],fs[0],5),rs(Ln[1],fs[1],5),rs(Ln[2],fs[2],5),zn),xt(this,jt,`url(#${Ss})`),tt(this,jt)}destroy(It=!1){It&&(tt(this,Et)||tt(this,jt))||(tt(this,Ut)&&(tt(this,Ut).parentNode.parentNode.remove(),xt(this,Ut,null)),tt(this,Ht)&&(tt(this,Ht).clear(),xt(this,Ht,null)),xt(this,Nt,0))}}Ht=new WeakMap,Ut=new WeakMap,Lt=new WeakMap,zt=new WeakMap,Zt=new WeakMap,Ft=new WeakMap,Et=new WeakMap,Tt=new WeakMap,kt=new WeakMap,jt=new WeakMap,Nt=new WeakMap,$t=new WeakSet,Mp=function(){return tt(this,Ht)||xt(this,Ht,new Map)},Fp=function(){if(!tt(this,Ut)){const It=tt(this,zt).createElement("div"),{style:Vt}=It;Vt.visibility="hidden",Vt.contain="strict",Vt.width=Vt.height=0,Vt.position="absolute",Vt.top=Vt.left=0,Vt.zIndex=-1;const rn=tt(this,zt).createElementNS(_e,"svg");rn.setAttribute("width",0),rn.setAttribute("height",0),xt(this,Ut,tt(this,zt).createElementNS(_e,"defs")),It.append(rn),rn.append(tt(this,Ut)),tt(this,zt).body.append(It)}return tt(this,Ut)},x_=function(It){const Vt=tt(this,zt).createElementNS(_e,"feColorMatrix");Vt.setAttribute("type","matrix"),Vt.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),It.append(Vt)},q0=function(It){const Vt=tt(this,zt).createElementNS(_e,"filter");return Vt.setAttribute("color-interpolation-filters","sRGB"),Vt.setAttribute("id",It),tt(this,$t,Fp).append(Vt),Vt},K0=function(It,Vt,rn){const fn=tt(this,zt).createElementNS(_e,Vt);fn.setAttribute("type","discrete"),fn.setAttribute("tableValues",rn),It.append(fn)},Bm=function(It,Vt,rn,fn){const xn=tt(this,zt).createElementNS(_e,"feComponentTransfer");fn.append(xn),yt(this,$t,K0).call(this,xn,"feFuncR",It),yt(this,$t,K0).call(this,xn,"feFuncG",Vt),yt(this,$t,K0).call(this,xn,"feFuncB",rn)},Hm=function(It){return tt(this,$t,Fp).style.color=It,St(getComputedStyle(tt(this,$t,Fp)).getPropertyValue("color"))},i.DOMFilterFactory=nt;class it extends o.BaseCanvasFactory{constructor({ownerDocument:hn=globalThis.document}={}){super(),this._document=hn}_createCanvas(hn,It){const Vt=this._document.createElement("canvas");return Vt.width=hn,Vt.height=It,Vt}}i.DOMCanvasFactory=it;async function rt(on,hn=!1){if(vt(on,document.baseURI)){const It=await fetch(on);if(!It.ok)throw new Error(It.statusText);return hn?new Uint8Array(await It.arrayBuffer()):(0,j.stringToBytes)(await It.text())}return new Promise((It,Vt)=>{const rn=new XMLHttpRequest;rn.open("GET",on,!0),hn&&(rn.responseType="arraybuffer"),rn.onreadystatechange=()=>{if(rn.readyState===XMLHttpRequest.DONE){if(rn.status===200||rn.status===0){let fn;if(hn&&rn.response?fn=new Uint8Array(rn.response):!hn&&rn.responseText&&(fn=(0,j.stringToBytes)(rn.responseText)),fn){It(fn);return}}Vt(new Error(rn.statusText))}},rn.send(null)})}class st extends o.BaseCMapReaderFactory{_fetchData(hn,It){return rt(hn,this.isCompressed).then(Vt=>({cMapData:Vt,compressionType:It}))}}i.DOMCMapReaderFactory=st;class at extends o.BaseStandardFontDataFactory{_fetchData(hn){return rt(hn,!0)}}i.DOMStandardFontDataFactory=at;class ot extends o.BaseSVGFactory{_createSVG(hn){return document.createElementNS(_e,hn)}}i.DOMSVGFactory=ot;class ut{constructor({viewBox:hn,scale:It,rotation:Vt,offsetX:rn=0,offsetY:fn=0,dontFlip:xn=!1}){this.viewBox=hn,this.scale=It,this.rotation=Vt,this.offsetX=rn,this.offsetY=fn;const kn=(hn[2]+hn[0])/2,Cn=(hn[3]+hn[1])/2;let sn,On,Ln,fs;switch(Vt%=360,Vt<0&&(Vt+=360),Vt){case 180:sn=-1,On=0,Ln=0,fs=1;break;case 90:sn=0,On=1,Ln=1,fs=0;break;case 270:sn=0,On=-1,Ln=-1,fs=0;break;case 0:sn=1,On=0,Ln=0,fs=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}xn&&(Ln=-Ln,fs=-fs);let rs,Ss,zn,_i;sn===0?(rs=Math.abs(Cn-hn[1])*It+rn,Ss=Math.abs(kn-hn[0])*It+fn,zn=(hn[3]-hn[1])*It,_i=(hn[2]-hn[0])*It):(rs=Math.abs(kn-hn[0])*It+rn,Ss=Math.abs(Cn-hn[1])*It+fn,zn=(hn[2]-hn[0])*It,_i=(hn[3]-hn[1])*It),this.transform=[sn*It,On*It,Ln*It,fs*It,rs-sn*It*kn-Ln*It*Cn,Ss-On*It*kn-fs*It*Cn],this.width=zn,this.height=_i}get rawDims(){const{viewBox:hn}=this;return(0,j.shadow)(this,"rawDims",{pageWidth:hn[2]-hn[0],pageHeight:hn[3]-hn[1],pageX:hn[0],pageY:hn[1]})}clone({scale:hn=this.scale,rotation:It=this.rotation,offsetX:Vt=this.offsetX,offsetY:rn=this.offsetY,dontFlip:fn=!1}={}){return new ut({viewBox:this.viewBox.slice(),scale:hn,rotation:It,offsetX:Vt,offsetY:rn,dontFlip:fn})}convertToViewportPoint(hn,It){return j.Util.applyTransform([hn,It],this.transform)}convertToViewportRectangle(hn){const It=j.Util.applyTransform([hn[0],hn[1]],this.transform),Vt=j.Util.applyTransform([hn[2],hn[3]],this.transform);return[It[0],It[1],Vt[0],Vt[1]]}convertToPdfPoint(hn,It){return j.Util.applyInverseTransform([hn,It],this.transform)}}i.PageViewport=ut;class ct extends j.BaseException{constructor(hn,It=0){super(hn,"RenderingCancelledException"),this.extraDelay=It}}i.RenderingCancelledException=ct;function dt(on){const hn=on.length;let It=0;for(;It<hn&&on[It].trim()==="";)It++;return on.substring(It,It+5).toLowerCase()==="data:"}function ft(on){return typeof on=="string"&&/\.pdf$/i.test(on)}function lt(on,hn=!1){return hn||([on]=on.split(/[#?]/,1)),on.substring(on.lastIndexOf("/")+1)}function ht(on,hn="document.pdf"){if(typeof on!="string")return hn;if(dt(on))return(0,j.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),hn;const It=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Vt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,rn=It.exec(on);let fn=Vt.exec(rn[1])||Vt.exec(rn[2])||Vt.exec(rn[3]);if(fn&&(fn=fn[0],fn.includes("%")))try{fn=Vt.exec(decodeURIComponent(fn))[0]}catch{}return fn||hn}class pt{constructor(){es(this,"started",Object.create(null));es(this,"times",[])}time(hn){hn in this.started&&(0,j.warn)(`Timer is already running for ${hn}`),this.started[hn]=Date.now()}timeEnd(hn){hn in this.started||(0,j.warn)(`Timer has not been started for ${hn}`),this.times.push({name:hn,start:this.started[hn],end:Date.now()}),delete this.started[hn]}toString(){const hn=[];let It=0;for(const{name:Vt}of this.times)It=Math.max(Vt.length,It);for(const{name:Vt,start:rn,end:fn}of this.times)hn.push(`${Vt.padEnd(It)} ${fn-rn}ms
`);return hn.join("")}}i.StatTimer=pt;function vt(on,hn){try{const{protocol:It}=hn?new URL(on,hn):new URL(on);return It==="http:"||It==="https:"}catch{return!1}}function gt(on){on.preventDefault()}function _t(on,hn=!1){return new Promise((It,Vt)=>{const rn=document.createElement("script");rn.src=on,rn.onload=function(fn){hn&&rn.remove(),It(fn)},rn.onerror=function(){Vt(new Error(`Cannot load script at: ${rn.src}`))},(document.head||document.documentElement).append(rn)})}function mt(on){console.log("Deprecated API usage: "+on)}let bt;class Ct{static toDateObject(hn){if(!hn||typeof hn!="string")return null;bt||(bt=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const It=bt.exec(hn);if(!It)return null;const Vt=parseInt(It[1],10);let rn=parseInt(It[2],10);rn=rn>=1&&rn<=12?rn-1:0;let fn=parseInt(It[3],10);fn=fn>=1&&fn<=31?fn:1;let xn=parseInt(It[4],10);xn=xn>=0&&xn<=23?xn:0;let kn=parseInt(It[5],10);kn=kn>=0&&kn<=59?kn:0;let Cn=parseInt(It[6],10);Cn=Cn>=0&&Cn<=59?Cn:0;const sn=It[7]||"Z";let On=parseInt(It[8],10);On=On>=0&&On<=23?On:0;let Ln=parseInt(It[9],10)||0;return Ln=Ln>=0&&Ln<=59?Ln:0,sn==="-"?(xn+=On,kn+=Ln):sn==="+"&&(xn-=On,kn-=Ln),new Date(Date.UTC(Vt,rn,fn,xn,kn,Cn))}}i.PDFDateString=Ct;function Pt(on,{scale:hn=1,rotation:It=0}){const{width:Vt,height:rn}=on.attributes.style,fn=[0,0,parseInt(Vt),parseInt(rn)];return new ut({viewBox:fn,scale:hn,rotation:It})}function St(on){if(on.startsWith("#")){const hn=parseInt(on.slice(1),16);return[(hn&16711680)>>16,(hn&65280)>>8,hn&255]}return on.startsWith("rgb(")?on.slice(4,-1).split(",").map(hn=>parseInt(hn)):on.startsWith("rgba(")?on.slice(5,-1).split(",").map(hn=>parseInt(hn)).slice(0,3):((0,j.warn)(`Not a valid color format: "${on}"`),[0,0,0])}function Mt(on){const hn=document.createElement("span");hn.style.visibility="hidden",document.body.append(hn);for(const It of on.keys()){hn.style.color=It;const Vt=window.getComputedStyle(hn).color;on.set(It,St(Vt))}hn.remove()}function Dt(on){const{a:hn,b:It,c:Vt,d:rn,e:fn,f:xn}=on.getTransform();return[hn,It,Vt,rn,fn,xn]}function Qt(on){const{a:hn,b:It,c:Vt,d:rn,e:fn,f:xn}=on.getTransform().invertSelf();return[hn,It,Vt,rn,fn,xn]}function Xt(on,hn,It=!1,Vt=!0){if(hn instanceof ut){const{pageWidth:rn,pageHeight:fn}=hn.rawDims,{style:xn}=on,kn=j.FeatureTest.isCSSRoundSupported,Cn=`var(--scale-factor) * ${rn}px`,sn=`var(--scale-factor) * ${fn}px`,On=kn?`round(${Cn}, 1px)`:`calc(${Cn})`,Ln=kn?`round(${sn}, 1px)`:`calc(${sn})`;!It||hn.rotation%180===0?(xn.width=On,xn.height=Ln):(xn.width=Ln,xn.height=On)}Vt&&on.setAttribute("data-main-rotation",hn.rotation)}},(a,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BaseStandardFontDataFactory=i.BaseSVGFactory=i.BaseFilterFactory=i.BaseCanvasFactory=i.BaseCMapReaderFactory=void 0;var o=s(1);class j{constructor(){this.constructor===j&&(0,o.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(st){return"none"}addHCMFilter(st,at){return"none"}addHighlightHCMFilter(st,at,ot,ut){return"none"}destroy(st=!1){}}i.BaseFilterFactory=j;class _e{constructor(){this.constructor===_e&&(0,o.unreachable)("Cannot initialize BaseCanvasFactory.")}create(st,at){if(st<=0||at<=0)throw new Error("Invalid canvas size");const ot=this._createCanvas(st,at);return{canvas:ot,context:ot.getContext("2d")}}reset(st,at,ot){if(!st.canvas)throw new Error("Canvas is not specified");if(at<=0||ot<=0)throw new Error("Invalid canvas size");st.canvas.width=at,st.canvas.height=ot}destroy(st){if(!st.canvas)throw new Error("Canvas is not specified");st.canvas.width=0,st.canvas.height=0,st.canvas=null,st.context=null}_createCanvas(st,at){(0,o.unreachable)("Abstract method `_createCanvas` called.")}}i.BaseCanvasFactory=_e;class et{constructor({baseUrl:st=null,isCompressed:at=!0}){this.constructor===et&&(0,o.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=st,this.isCompressed=at}async fetch({name:st}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!st)throw new Error("CMap name must be specified.");const at=this.baseUrl+st+(this.isCompressed?".bcmap":""),ot=this.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE;return this._fetchData(at,ot).catch(ut=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${at}`)})}_fetchData(st,at){(0,o.unreachable)("Abstract method `_fetchData` called.")}}i.BaseCMapReaderFactory=et;class nt{constructor({baseUrl:st=null}){this.constructor===nt&&(0,o.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=st}async fetch({filename:st}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!st)throw new Error("Font filename must be specified.");const at=`${this.baseUrl}${st}`;return this._fetchData(at).catch(ot=>{throw new Error(`Unable to load font data at: ${at}`)})}_fetchData(st){(0,o.unreachable)("Abstract method `_fetchData` called.")}}i.BaseStandardFontDataFactory=nt;class it{constructor(){this.constructor===it&&(0,o.unreachable)("Cannot initialize BaseSVGFactory.")}create(st,at,ot=!1){if(st<=0||at<=0)throw new Error("Invalid SVG dimensions");const ut=this._createSVG("svg:svg");return ut.setAttribute("version","1.1"),ot||(ut.setAttribute("width",`${st}px`),ut.setAttribute("height",`${at}px`)),ut.setAttribute("preserveAspectRatio","none"),ut.setAttribute("viewBox",`0 0 ${st} ${at}`),ut}createElement(st){if(typeof st!="string")throw new Error("Invalid SVG element type");return this._createSVG(st)}_createSVG(st){(0,o.unreachable)("Abstract method `_createSVG` called.")}}i.BaseSVGFactory=it},(a,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.MurmurHash3_64=void 0;var o=s(1);const j=3285377520,_e=4294901760,et=65535;class nt{constructor(rt){this.h1=rt?rt&4294967295:j,this.h2=rt?rt&4294967295:j}update(rt){let st,at;if(typeof rt=="string"){st=new Uint8Array(rt.length*2),at=0;for(let mt=0,bt=rt.length;mt<bt;mt++){const Ct=rt.charCodeAt(mt);Ct<=255?st[at++]=Ct:(st[at++]=Ct>>>8,st[at++]=Ct&255)}}else if((0,o.isArrayBuffer)(rt))st=rt.slice(),at=st.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const ot=at>>2,ut=at-ot*4,ct=new Uint32Array(st.buffer,0,ot);let dt=0,ft=0,lt=this.h1,ht=this.h2;const pt=3432918353,vt=461845907,gt=pt&et,_t=vt&et;for(let mt=0;mt<ot;mt++)mt&1?(dt=ct[mt],dt=dt*pt&_e|dt*gt&et,dt=dt<<15|dt>>>17,dt=dt*vt&_e|dt*_t&et,lt^=dt,lt=lt<<13|lt>>>19,lt=lt*5+3864292196):(ft=ct[mt],ft=ft*pt&_e|ft*gt&et,ft=ft<<15|ft>>>17,ft=ft*vt&_e|ft*_t&et,ht^=ft,ht=ht<<13|ht>>>19,ht=ht*5+3864292196);switch(dt=0,ut){case 3:dt^=st[ot*4+2]<<16;case 2:dt^=st[ot*4+1]<<8;case 1:dt^=st[ot*4],dt=dt*pt&_e|dt*gt&et,dt=dt<<15|dt>>>17,dt=dt*vt&_e|dt*_t&et,ot&1?lt^=dt:ht^=dt}this.h1=lt,this.h2=ht}hexdigest(){let rt=this.h1,st=this.h2;return rt^=st>>>1,rt=rt*3981806797&_e|rt*36045&et,st=st*4283543511&_e|((st<<16|rt>>>16)*2950163797&_e)>>>16,rt^=st>>>1,rt=rt*444984403&_e|rt*60499&et,st=st*3301882366&_e|((st<<16|rt>>>16)*3120437893&_e)>>>16,rt^=st>>>1,(rt>>>0).toString(16).padStart(8,"0")+(st>>>0).toString(16).padStart(8,"0")}}i.MurmurHash3_64=nt},(a,i,s)=>{var et;Object.defineProperty(i,"__esModule",{value:!0}),i.FontLoader=i.FontFaceObject=void 0;var o=s(1);class j{constructor({ownerDocument:it=globalThis.document,styleElement:rt=null}){At(this,et,new Set);this._document=it,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(it){this.nativeFontFaces.add(it),this._document.fonts.add(it)}removeNativeFontFace(it){this.nativeFontFaces.delete(it),this._document.fonts.delete(it)}insertRule(it){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const rt=this.styleElement.sheet;rt.insertRule(it,rt.cssRules.length)}clear(){for(const it of this.nativeFontFaces)this._document.fonts.delete(it);this.nativeFontFaces.clear(),tt(this,et).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(it){if(!(!it||tt(this,et).has(it.loadedName))){if((0,o.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:rt,src:st,style:at}=it,ot=new FontFace(rt,st,at);this.addNativeFontFace(ot);try{await ot.load(),tt(this,et).add(rt)}catch{(0,o.warn)(`Cannot load system font: ${it.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(ot)}return}(0,o.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(it){if(it.attached||it.missingFile&&!it.systemFontInfo)return;if(it.attached=!0,it.systemFontInfo){await this.loadSystemFont(it.systemFontInfo);return}if(this.isFontLoadingAPISupported){const st=it.createNativeFontFace();if(st){this.addNativeFontFace(st);try{await st.loaded}catch(at){throw(0,o.warn)(`Failed to load font '${st.family}': '${at}'.`),it.disableFontFace=!0,at}}return}const rt=it.createFontFaceRule();if(rt){if(this.insertRule(rt),this.isSyncFontLoadingSupported)return;await new Promise(st=>{const at=this._queueLoadingCallback(st);this._prepareFontLoadEvent(it,at)})}}get isFontLoadingAPISupported(){var rt;const it=!!((rt=this._document)!=null&&rt.fonts);return(0,o.shadow)(this,"isFontLoadingAPISupported",it)}get isSyncFontLoadingSupported(){let it=!1;return(o.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(it=!0),(0,o.shadow)(this,"isSyncFontLoadingSupported",it)}_queueLoadingCallback(it){function rt(){for((0,o.assert)(!at.done,"completeRequest() cannot be called twice."),at.done=!0;st.length>0&&st[0].done;){const ot=st.shift();setTimeout(ot.callback,0)}}const{loadingRequests:st}=this,at={done:!1,complete:rt,callback:it};return st.push(at),at}get _loadTestFont(){const it=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,o.shadow)(this,"_loadTestFont",it)}_prepareFontLoadEvent(it,rt){function st(St,Mt){return St.charCodeAt(Mt)<<24|St.charCodeAt(Mt+1)<<16|St.charCodeAt(Mt+2)<<8|St.charCodeAt(Mt+3)&255}function at(St,Mt,Dt,Qt){const Xt=St.substring(0,Mt),Yt=St.substring(Mt+Dt);return Xt+Qt+Yt}let ot,ut;const ct=this._document.createElement("canvas");ct.width=1,ct.height=1;const dt=ct.getContext("2d");let ft=0;function lt(St,Mt){if(++ft>30){(0,o.warn)("Load test font never loaded."),Mt();return}if(dt.font="30px "+St,dt.fillText(".",0,20),dt.getImageData(0,0,1,1).data[3]>0){Mt();return}setTimeout(lt.bind(null,St,Mt))}const ht=`lt${Date.now()}${this.loadTestFontId++}`;let pt=this._loadTestFont;pt=at(pt,976,ht.length,ht);const gt=16,_t=1482184792;let mt=st(pt,gt);for(ot=0,ut=ht.length-3;ot<ut;ot+=4)mt=mt-_t+st(ht,ot)|0;ot<ht.length&&(mt=mt-_t+st(ht+"XXX",ot)|0),pt=at(pt,gt,4,(0,o.string32)(mt));const bt=`url(data:font/opentype;base64,${btoa(pt)});`,Ct=`@font-face {font-family:"${ht}";src:${bt}}`;this.insertRule(Ct);const Pt=this._document.createElement("div");Pt.style.visibility="hidden",Pt.style.width=Pt.style.height="10px",Pt.style.position="absolute",Pt.style.top=Pt.style.left="0px";for(const St of[it.loadedName,ht]){const Mt=this._document.createElement("span");Mt.textContent="Hi",Mt.style.fontFamily=St,Pt.append(Mt)}this._document.body.append(Pt),lt(ht,()=>{Pt.remove(),rt.complete()})}}et=new WeakMap,i.FontLoader=j;class _e{constructor(it,{isEvalSupported:rt=!0,disableFontFace:st=!1,ignoreErrors:at=!1,inspectFont:ot=null}){this.compiledGlyphs=Object.create(null);for(const ut in it)this[ut]=it[ut];this.isEvalSupported=rt!==!1,this.disableFontFace=st===!0,this.ignoreErrors=at===!0,this._inspectFont=ot}createNativeFontFace(){var rt;if(!this.data||this.disableFontFace)return null;let it;if(!this.cssFontInfo)it=new FontFace(this.loadedName,this.data,{});else{const st={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(st.style=`oblique ${this.cssFontInfo.italicAngle}deg`),it=new FontFace(this.cssFontInfo.fontFamily,this.data,st)}return(rt=this._inspectFont)==null||rt.call(this,this),it}createFontFaceRule(){var at;if(!this.data||this.disableFontFace)return null;const it=(0,o.bytesToString)(this.data),rt=`url(data:${this.mimetype};base64,${btoa(it)});`;let st;if(!this.cssFontInfo)st=`@font-face {font-family:"${this.loadedName}";src:${rt}}`;else{let ot=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(ot+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),st=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${ot}src:${rt}}`}return(at=this._inspectFont)==null||at.call(this,this,rt),st}getPathGenerator(it,rt){if(this.compiledGlyphs[rt]!==void 0)return this.compiledGlyphs[rt];let st;try{st=it.get(this.loadedName+"_path_"+rt)}catch(at){if(!this.ignoreErrors)throw at;return(0,o.warn)(`getPathGenerator - ignoring character: "${at}".`),this.compiledGlyphs[rt]=function(ot,ut){}}if(this.isEvalSupported&&o.FeatureTest.isEvalSupported){const at=[];for(const ot of st){const ut=ot.args!==void 0?ot.args.join(","):"";at.push("c.",ot.cmd,"(",ut,`);
`)}return this.compiledGlyphs[rt]=new Function("c","size",at.join(""))}return this.compiledGlyphs[rt]=function(at,ot){for(const ut of st)ut.cmd==="scale"&&(ut.args=[ot,-ot]),at[ut.cmd].apply(at,ut.args)}}}i.FontFaceObject=_e},(a,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.NodeStandardFontDataFactory=i.NodeFilterFactory=i.NodeCanvasFactory=i.NodeCMapReaderFactory=void 0;var o=s(7);s(1);const j=function(rt){return new Promise((st,at)=>{require$$5.readFile(rt,(ut,ct)=>{if(ut||!ct){at(new Error(ut));return}st(new Uint8Array(ct))})})};class _e extends o.BaseFilterFactory{}i.NodeFilterFactory=_e;class et extends o.BaseCanvasFactory{_createCanvas(st,at){return require$$5.createCanvas(st,at)}}i.NodeCanvasFactory=et;class nt extends o.BaseCMapReaderFactory{_fetchData(st,at){return j(st).then(ot=>({cMapData:ot,compressionType:at}))}}i.NodeCMapReaderFactory=nt;class it extends o.BaseStandardFontDataFactory{_fetchData(st){return j(st)}}i.NodeStandardFontDataFactory=it},(a,i,s)=>{var Ut,E_,A_;Object.defineProperty(i,"__esModule",{value:!0}),i.CanvasGraphics=void 0;var o=s(1),j=s(6),_e=s(12),et=s(13);const nt=16,it=100,rt=4096,st=15,at=10,ot=1e3,ut=16;function ct(Ft,Et){if(Ft._removeMirroring)throw new Error("Context is already forwarding operations.");Ft.__originalSave=Ft.save,Ft.__originalRestore=Ft.restore,Ft.__originalRotate=Ft.rotate,Ft.__originalScale=Ft.scale,Ft.__originalTranslate=Ft.translate,Ft.__originalTransform=Ft.transform,Ft.__originalSetTransform=Ft.setTransform,Ft.__originalResetTransform=Ft.resetTransform,Ft.__originalClip=Ft.clip,Ft.__originalMoveTo=Ft.moveTo,Ft.__originalLineTo=Ft.lineTo,Ft.__originalBezierCurveTo=Ft.bezierCurveTo,Ft.__originalRect=Ft.rect,Ft.__originalClosePath=Ft.closePath,Ft.__originalBeginPath=Ft.beginPath,Ft._removeMirroring=()=>{Ft.save=Ft.__originalSave,Ft.restore=Ft.__originalRestore,Ft.rotate=Ft.__originalRotate,Ft.scale=Ft.__originalScale,Ft.translate=Ft.__originalTranslate,Ft.transform=Ft.__originalTransform,Ft.setTransform=Ft.__originalSetTransform,Ft.resetTransform=Ft.__originalResetTransform,Ft.clip=Ft.__originalClip,Ft.moveTo=Ft.__originalMoveTo,Ft.lineTo=Ft.__originalLineTo,Ft.bezierCurveTo=Ft.__originalBezierCurveTo,Ft.rect=Ft.__originalRect,Ft.closePath=Ft.__originalClosePath,Ft.beginPath=Ft.__originalBeginPath,delete Ft._removeMirroring},Ft.save=function(){Et.save(),this.__originalSave()},Ft.restore=function(){Et.restore(),this.__originalRestore()},Ft.translate=function(kt,jt){Et.translate(kt,jt),this.__originalTranslate(kt,jt)},Ft.scale=function(kt,jt){Et.scale(kt,jt),this.__originalScale(kt,jt)},Ft.transform=function(kt,jt,Nt,$t,tn,gn){Et.transform(kt,jt,Nt,$t,tn,gn),this.__originalTransform(kt,jt,Nt,$t,tn,gn)},Ft.setTransform=function(kt,jt,Nt,$t,tn,gn){Et.setTransform(kt,jt,Nt,$t,tn,gn),this.__originalSetTransform(kt,jt,Nt,$t,tn,gn)},Ft.resetTransform=function(){Et.resetTransform(),this.__originalResetTransform()},Ft.rotate=function(kt){Et.rotate(kt),this.__originalRotate(kt)},Ft.clip=function(kt){Et.clip(kt),this.__originalClip(kt)},Ft.moveTo=function(Tt,kt){Et.moveTo(Tt,kt),this.__originalMoveTo(Tt,kt)},Ft.lineTo=function(Tt,kt){Et.lineTo(Tt,kt),this.__originalLineTo(Tt,kt)},Ft.bezierCurveTo=function(Tt,kt,jt,Nt,$t,tn){Et.bezierCurveTo(Tt,kt,jt,Nt,$t,tn),this.__originalBezierCurveTo(Tt,kt,jt,Nt,$t,tn)},Ft.rect=function(Tt,kt,jt,Nt){Et.rect(Tt,kt,jt,Nt),this.__originalRect(Tt,kt,jt,Nt)},Ft.closePath=function(){Et.closePath(),this.__originalClosePath()},Ft.beginPath=function(){Et.beginPath(),this.__originalBeginPath()}}class dt{constructor(Et){this.canvasFactory=Et,this.cache=Object.create(null)}getCanvas(Et,Tt,kt){let jt;return this.cache[Et]!==void 0?(jt=this.cache[Et],this.canvasFactory.reset(jt,Tt,kt)):(jt=this.canvasFactory.create(Tt,kt),this.cache[Et]=jt),jt}delete(Et){delete this.cache[Et]}clear(){for(const Et in this.cache){const Tt=this.cache[Et];this.canvasFactory.destroy(Tt),delete this.cache[Et]}}}function ft(Ft,Et,Tt,kt,jt,Nt,$t,tn,gn,vn){const[bn,_n,An,wn,on,hn]=(0,j.getCurrentTransform)(Ft);if(_n===0&&An===0){const rn=$t*bn+on,fn=Math.round(rn),xn=tn*wn+hn,kn=Math.round(xn),Cn=($t+gn)*bn+on,sn=Math.abs(Math.round(Cn)-fn)||1,On=(tn+vn)*wn+hn,Ln=Math.abs(Math.round(On)-kn)||1;return Ft.setTransform(Math.sign(bn),0,0,Math.sign(wn),fn,kn),Ft.drawImage(Et,Tt,kt,jt,Nt,0,0,sn,Ln),Ft.setTransform(bn,_n,An,wn,on,hn),[sn,Ln]}if(bn===0&&wn===0){const rn=tn*An+on,fn=Math.round(rn),xn=$t*_n+hn,kn=Math.round(xn),Cn=(tn+vn)*An+on,sn=Math.abs(Math.round(Cn)-fn)||1,On=($t+gn)*_n+hn,Ln=Math.abs(Math.round(On)-kn)||1;return Ft.setTransform(0,Math.sign(_n),Math.sign(An),0,fn,kn),Ft.drawImage(Et,Tt,kt,jt,Nt,0,0,Ln,sn),Ft.setTransform(bn,_n,An,wn,on,hn),[Ln,sn]}Ft.drawImage(Et,Tt,kt,jt,Nt,$t,tn,gn,vn);const It=Math.hypot(bn,_n),Vt=Math.hypot(An,wn);return[It*gn,Vt*vn]}function lt(Ft){const{width:Et,height:Tt}=Ft;if(Et>ot||Tt>ot)return null;const kt=1e3,jt=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Nt=Et+1;let $t=new Uint8Array(Nt*(Tt+1)),tn,gn,vn;const bn=Et+7&-8;let _n=new Uint8Array(bn*Tt),An=0;for(const Vt of Ft.data){let rn=128;for(;rn>0;)_n[An++]=Vt&rn?0:255,rn>>=1}let wn=0;for(An=0,_n[An]!==0&&($t[0]=1,++wn),gn=1;gn<Et;gn++)_n[An]!==_n[An+1]&&($t[gn]=_n[An]?2:1,++wn),An++;for(_n[An]!==0&&($t[gn]=2,++wn),tn=1;tn<Tt;tn++){An=tn*bn,vn=tn*Nt,_n[An-bn]!==_n[An]&&($t[vn]=_n[An]?1:8,++wn);let Vt=(_n[An]?4:0)+(_n[An-bn]?8:0);for(gn=1;gn<Et;gn++)Vt=(Vt>>2)+(_n[An+1]?4:0)+(_n[An-bn+1]?8:0),jt[Vt]&&($t[vn+gn]=jt[Vt],++wn),An++;if(_n[An-bn]!==_n[An]&&($t[vn+gn]=_n[An]?2:4,++wn),wn>kt)return null}for(An=bn*(Tt-1),vn=tn*Nt,_n[An]!==0&&($t[vn]=8,++wn),gn=1;gn<Et;gn++)_n[An]!==_n[An+1]&&($t[vn+gn]=_n[An]?4:8,++wn),An++;if(_n[An]!==0&&($t[vn+gn]=4,++wn),wn>kt)return null;const on=new Int32Array([0,Nt,-1,0,-Nt,0,0,0,1]),hn=new Path2D;for(tn=0;wn&&tn<=Tt;tn++){let Vt=tn*Nt;const rn=Vt+Et;for(;Vt<rn&&!$t[Vt];)Vt++;if(Vt===rn)continue;hn.moveTo(Vt%Nt,tn);const fn=Vt;let xn=$t[Vt];do{const kn=on[xn];do Vt+=kn;while(!$t[Vt]);const Cn=$t[Vt];Cn!==5&&Cn!==10?(xn=Cn,$t[Vt]=0):(xn=Cn&51*xn>>4,$t[Vt]&=xn>>2|xn<<2),hn.lineTo(Vt%Nt,Vt/Nt|0),$t[Vt]||--wn}while(fn!==Vt);--tn}return _n=null,$t=null,function(Vt){Vt.save(),Vt.scale(1/Et,-1/Tt),Vt.translate(0,-Tt),Vt.fill(hn),Vt.beginPath(),Vt.restore()}}class ht{constructor(Et,Tt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=o.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=o.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,Et,Tt])}clone(){const Et=Object.create(this);return Et.clipBox=this.clipBox.slice(),Et}setCurrentPoint(Et,Tt){this.x=Et,this.y=Tt}updatePathMinMax(Et,Tt,kt){[Tt,kt]=o.Util.applyTransform([Tt,kt],Et),this.minX=Math.min(this.minX,Tt),this.minY=Math.min(this.minY,kt),this.maxX=Math.max(this.maxX,Tt),this.maxY=Math.max(this.maxY,kt)}updateRectMinMax(Et,Tt){const kt=o.Util.applyTransform(Tt,Et),jt=o.Util.applyTransform(Tt.slice(2),Et);this.minX=Math.min(this.minX,kt[0],jt[0]),this.minY=Math.min(this.minY,kt[1],jt[1]),this.maxX=Math.max(this.maxX,kt[0],jt[0]),this.maxY=Math.max(this.maxY,kt[1],jt[1])}updateScalingPathMinMax(Et,Tt){o.Util.scaleMinMax(Et,Tt),this.minX=Math.min(this.minX,Tt[0]),this.maxX=Math.max(this.maxX,Tt[1]),this.minY=Math.min(this.minY,Tt[2]),this.maxY=Math.max(this.maxY,Tt[3])}updateCurvePathMinMax(Et,Tt,kt,jt,Nt,$t,tn,gn,vn,bn){const _n=o.Util.bezierBoundingBox(Tt,kt,jt,Nt,$t,tn,gn,vn);if(bn){bn[0]=Math.min(bn[0],_n[0],_n[2]),bn[1]=Math.max(bn[1],_n[0],_n[2]),bn[2]=Math.min(bn[2],_n[1],_n[3]),bn[3]=Math.max(bn[3],_n[1],_n[3]);return}this.updateRectMinMax(Et,_n)}getPathBoundingBox(Et=_e.PathType.FILL,Tt=null){const kt=[this.minX,this.minY,this.maxX,this.maxY];if(Et===_e.PathType.STROKE){Tt||(0,o.unreachable)("Stroke bounding box must include transform.");const jt=o.Util.singularValueDecompose2dScale(Tt),Nt=jt[0]*this.lineWidth/2,$t=jt[1]*this.lineWidth/2;kt[0]-=Nt,kt[1]-=$t,kt[2]+=Nt,kt[3]+=$t}return kt}updateClipFromPath(){const Et=o.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(Et||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(Et){this.clipBox=Et,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(Et=_e.PathType.FILL,Tt=null){return o.Util.intersect(this.clipBox,this.getPathBoundingBox(Et,Tt))}}function pt(Ft,Et){if(typeof ImageData<"u"&&Et instanceof ImageData){Ft.putImageData(Et,0,0);return}const Tt=Et.height,kt=Et.width,jt=Tt%ut,Nt=(Tt-jt)/ut,$t=jt===0?Nt:Nt+1,tn=Ft.createImageData(kt,ut);let gn=0,vn;const bn=Et.data,_n=tn.data;let An,wn,on,hn;if(Et.kind===o.ImageKind.GRAYSCALE_1BPP){const It=bn.byteLength,Vt=new Uint32Array(_n.buffer,0,_n.byteLength>>2),rn=Vt.length,fn=kt+7>>3,xn=4294967295,kn=o.FeatureTest.isLittleEndian?4278190080:255;for(An=0;An<$t;An++){for(on=An<Nt?ut:jt,vn=0,wn=0;wn<on;wn++){const Cn=It-gn;let sn=0;const On=Cn>fn?kt:Cn*8-7,Ln=On&-8;let fs=0,rs=0;for(;sn<Ln;sn+=8)rs=bn[gn++],Vt[vn++]=rs&128?xn:kn,Vt[vn++]=rs&64?xn:kn,Vt[vn++]=rs&32?xn:kn,Vt[vn++]=rs&16?xn:kn,Vt[vn++]=rs&8?xn:kn,Vt[vn++]=rs&4?xn:kn,Vt[vn++]=rs&2?xn:kn,Vt[vn++]=rs&1?xn:kn;for(;sn<On;sn++)fs===0&&(rs=bn[gn++],fs=128),Vt[vn++]=rs&fs?xn:kn,fs>>=1}for(;vn<rn;)Vt[vn++]=0;Ft.putImageData(tn,0,An*ut)}}else if(Et.kind===o.ImageKind.RGBA_32BPP){for(wn=0,hn=kt*ut*4,An=0;An<Nt;An++)_n.set(bn.subarray(gn,gn+hn)),gn+=hn,Ft.putImageData(tn,0,wn),wn+=ut;An<$t&&(hn=kt*jt*4,_n.set(bn.subarray(gn,gn+hn)),Ft.putImageData(tn,0,wn))}else if(Et.kind===o.ImageKind.RGB_24BPP)for(on=ut,hn=kt*on,An=0;An<$t;An++){for(An>=Nt&&(on=jt,hn=kt*on),vn=0,wn=hn;wn--;)_n[vn++]=bn[gn++],_n[vn++]=bn[gn++],_n[vn++]=bn[gn++],_n[vn++]=255;Ft.putImageData(tn,0,An*ut)}else throw new Error(`bad image kind: ${Et.kind}`)}function vt(Ft,Et){if(Et.bitmap){Ft.drawImage(Et.bitmap,0,0);return}const Tt=Et.height,kt=Et.width,jt=Tt%ut,Nt=(Tt-jt)/ut,$t=jt===0?Nt:Nt+1,tn=Ft.createImageData(kt,ut);let gn=0;const vn=Et.data,bn=tn.data;for(let _n=0;_n<$t;_n++){const An=_n<Nt?ut:jt;({srcPos:gn}=(0,et.convertBlackAndWhiteToRGBA)({src:vn,srcPos:gn,dest:bn,width:kt,height:An,nonBlackColor:0})),Ft.putImageData(tn,0,_n*ut)}}function gt(Ft,Et){const Tt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const kt of Tt)Ft[kt]!==void 0&&(Et[kt]=Ft[kt]);Ft.setLineDash!==void 0&&(Et.setLineDash(Ft.getLineDash()),Et.lineDashOffset=Ft.lineDashOffset)}function _t(Ft){if(Ft.strokeStyle=Ft.fillStyle="#000000",Ft.fillRule="nonzero",Ft.globalAlpha=1,Ft.lineWidth=1,Ft.lineCap="butt",Ft.lineJoin="miter",Ft.miterLimit=10,Ft.globalCompositeOperation="source-over",Ft.font="10px sans-serif",Ft.setLineDash!==void 0&&(Ft.setLineDash([]),Ft.lineDashOffset=0),!o.isNodeJS){const{filter:Et}=Ft;Et!=="none"&&Et!==""&&(Ft.filter="none")}}function mt(Ft,Et,Tt,kt){const jt=Ft.length;for(let Nt=3;Nt<jt;Nt+=4){const $t=Ft[Nt];if($t===0)Ft[Nt-3]=Et,Ft[Nt-2]=Tt,Ft[Nt-1]=kt;else if($t<255){const tn=255-$t;Ft[Nt-3]=Ft[Nt-3]*$t+Et*tn>>8,Ft[Nt-2]=Ft[Nt-2]*$t+Tt*tn>>8,Ft[Nt-1]=Ft[Nt-1]*$t+kt*tn>>8}}}function bt(Ft,Et,Tt){const kt=Ft.length,jt=1/255;for(let Nt=3;Nt<kt;Nt+=4){const $t=Tt?Tt[Ft[Nt]]:Ft[Nt];Et[Nt]=Et[Nt]*$t*jt|0}}function Ct(Ft,Et,Tt){const kt=Ft.length;for(let jt=3;jt<kt;jt+=4){const Nt=Ft[jt-3]*77+Ft[jt-2]*152+Ft[jt-1]*28;Et[jt]=Tt?Et[jt]*Tt[Nt>>8]>>8:Et[jt]*Nt>>16}}function Pt(Ft,Et,Tt,kt,jt,Nt,$t,tn,gn,vn,bn){const _n=!!Nt,An=_n?Nt[0]:0,wn=_n?Nt[1]:0,on=_n?Nt[2]:0,hn=jt==="Luminosity"?Ct:bt,Vt=Math.min(kt,Math.ceil(1048576/Tt));for(let rn=0;rn<kt;rn+=Vt){const fn=Math.min(Vt,kt-rn),xn=Ft.getImageData(tn-vn,rn+(gn-bn),Tt,fn),kn=Et.getImageData(tn,rn+gn,Tt,fn);_n&&mt(xn.data,An,wn,on),hn(xn.data,kn.data,$t),Et.putImageData(kn,tn,rn+gn)}}function St(Ft,Et,Tt,kt){const jt=kt[0],Nt=kt[1],$t=kt[2]-jt,tn=kt[3]-Nt;$t===0||tn===0||(Pt(Et.context,Tt,$t,tn,Et.subtype,Et.backdrop,Et.transferMap,jt,Nt,Et.offsetX,Et.offsetY),Ft.save(),Ft.globalAlpha=1,Ft.globalCompositeOperation="source-over",Ft.setTransform(1,0,0,1,0,0),Ft.drawImage(Tt.canvas,0,0),Ft.restore())}function Mt(Ft,Et){const Tt=o.Util.singularValueDecompose2dScale(Ft);Tt[0]=Math.fround(Tt[0]),Tt[1]=Math.fround(Tt[1]);const kt=Math.fround((globalThis.devicePixelRatio||1)*j.PixelsPerInch.PDF_TO_CSS_UNITS);return Et!==void 0?Et:Tt[0]<=kt||Tt[1]<=kt}const Dt=["butt","round","square"],Qt=["miter","round","bevel"],Xt={},Yt={},Zt=class Zt{constructor(Et,Tt,kt,jt,Nt,{optionalContentConfig:$t,markedContentStack:tn=null},gn,vn){At(this,Ut);this.ctx=Et,this.current=new ht(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=Tt,this.objs=kt,this.canvasFactory=jt,this.filterFactory=Nt,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=tn||[],this.optionalContentConfig=$t,this.cachedCanvases=new dt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=gn,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=vn,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(Et,Tt=null){return typeof Et=="string"?Et.startsWith("g_")?this.commonObjs.get(Et):this.objs.get(Et):Tt}beginDrawing({transform:Et,viewport:Tt,transparency:kt=!1,background:jt=null}){const Nt=this.ctx.canvas.width,$t=this.ctx.canvas.height,tn=this.ctx.fillStyle;if(this.ctx.fillStyle=jt||"#ffffff",this.ctx.fillRect(0,0,Nt,$t),this.ctx.fillStyle=tn,kt){const gn=this.cachedCanvases.getCanvas("transparent",Nt,$t);this.compositeCtx=this.ctx,this.transparentCanvas=gn.canvas,this.ctx=gn.context,this.ctx.save(),this.ctx.transform(...(0,j.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),_t(this.ctx),Et&&(this.ctx.transform(...Et),this.outputScaleX=Et[0],this.outputScaleY=Et[0]),this.ctx.transform(...Tt.transform),this.viewportScale=Tt.scale,this.baseTransform=(0,j.getCurrentTransform)(this.ctx)}executeOperatorList(Et,Tt,kt,jt){const Nt=Et.argsArray,$t=Et.fnArray;let tn=Tt||0;const gn=Nt.length;if(gn===tn)return tn;const vn=gn-tn>at&&typeof kt=="function",bn=vn?Date.now()+st:0;let _n=0;const An=this.commonObjs,wn=this.objs;let on;for(;;){if(jt!==void 0&&tn===jt.nextBreakPoint)return jt.breakIt(tn,kt),tn;if(on=$t[tn],on!==o.OPS.dependency)this[on].apply(this,Nt[tn]);else for(const hn of Nt[tn]){const It=hn.startsWith("g_")?An:wn;if(!It.has(hn))return It.get(hn,kt),tn}if(tn++,tn===gn)return tn;if(vn&&++_n>at){if(Date.now()>bn)return kt(),tn;_n=0}}}endDrawing(){yt(this,Ut,E_).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const Et of this._cachedBitmapsMap.values()){for(const Tt of Et.values())typeof HTMLCanvasElement<"u"&&Tt instanceof HTMLCanvasElement&&(Tt.width=Tt.height=0);Et.clear()}this._cachedBitmapsMap.clear(),yt(this,Ut,A_).call(this)}_scaleImage(Et,Tt){const kt=Et.width,jt=Et.height;let Nt=Math.max(Math.hypot(Tt[0],Tt[1]),1),$t=Math.max(Math.hypot(Tt[2],Tt[3]),1),tn=kt,gn=jt,vn="prescale1",bn,_n;for(;Nt>2&&tn>1||$t>2&&gn>1;){let An=tn,wn=gn;Nt>2&&tn>1&&(An=tn>=16384?Math.floor(tn/2)-1||1:Math.ceil(tn/2),Nt/=tn/An),$t>2&&gn>1&&(wn=gn>=16384?Math.floor(gn/2)-1||1:Math.ceil(gn)/2,$t/=gn/wn),bn=this.cachedCanvases.getCanvas(vn,An,wn),_n=bn.context,_n.clearRect(0,0,An,wn),_n.drawImage(Et,0,0,tn,gn,0,0,An,wn),Et=bn.canvas,tn=An,gn=wn,vn=vn==="prescale1"?"prescale2":"prescale1"}return{img:Et,paintWidth:tn,paintHeight:gn}}_createMaskCanvas(Et){const Tt=this.ctx,{width:kt,height:jt}=Et,Nt=this.current.fillColor,$t=this.current.patternFill,tn=(0,j.getCurrentTransform)(Tt);let gn,vn,bn,_n;if((Et.bitmap||Et.data)&&Et.count>1){const sn=Et.bitmap||Et.data.buffer;vn=JSON.stringify($t?tn:[tn.slice(0,4),Nt]),gn=this._cachedBitmapsMap.get(sn),gn||(gn=new Map,this._cachedBitmapsMap.set(sn,gn));const On=gn.get(vn);if(On&&!$t){const Ln=Math.round(Math.min(tn[0],tn[2])+tn[4]),fs=Math.round(Math.min(tn[1],tn[3])+tn[5]);return{canvas:On,offsetX:Ln,offsetY:fs}}bn=On}bn||(_n=this.cachedCanvases.getCanvas("maskCanvas",kt,jt),vt(_n.context,Et));let An=o.Util.transform(tn,[1/kt,0,0,-1/jt,0,0]);An=o.Util.transform(An,[1,0,0,1,0,-jt]);const wn=o.Util.applyTransform([0,0],An),on=o.Util.applyTransform([kt,jt],An),hn=o.Util.normalizeRect([wn[0],wn[1],on[0],on[1]]),It=Math.round(hn[2]-hn[0])||1,Vt=Math.round(hn[3]-hn[1])||1,rn=this.cachedCanvases.getCanvas("fillCanvas",It,Vt),fn=rn.context,xn=Math.min(wn[0],on[0]),kn=Math.min(wn[1],on[1]);fn.translate(-xn,-kn),fn.transform(...An),bn||(bn=this._scaleImage(_n.canvas,(0,j.getCurrentTransformInverse)(fn)),bn=bn.img,gn&&$t&&gn.set(vn,bn)),fn.imageSmoothingEnabled=Mt((0,j.getCurrentTransform)(fn),Et.interpolate),ft(fn,bn,0,0,bn.width,bn.height,0,0,kt,jt),fn.globalCompositeOperation="source-in";const Cn=o.Util.transform((0,j.getCurrentTransformInverse)(fn),[1,0,0,1,-xn,-kn]);return fn.fillStyle=$t?Nt.getPattern(Tt,this,Cn,_e.PathType.FILL):Nt,fn.fillRect(0,0,kt,jt),gn&&!$t&&(this.cachedCanvases.delete("fillCanvas"),gn.set(vn,rn.canvas)),{canvas:rn.canvas,offsetX:Math.round(xn),offsetY:Math.round(kn)}}setLineWidth(Et){Et!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=Et,this.ctx.lineWidth=Et}setLineCap(Et){this.ctx.lineCap=Dt[Et]}setLineJoin(Et){this.ctx.lineJoin=Qt[Et]}setMiterLimit(Et){this.ctx.miterLimit=Et}setDash(Et,Tt){const kt=this.ctx;kt.setLineDash!==void 0&&(kt.setLineDash(Et),kt.lineDashOffset=Tt)}setRenderingIntent(Et){}setFlatness(Et){}setGState(Et){for(const[Tt,kt]of Et)switch(Tt){case"LW":this.setLineWidth(kt);break;case"LC":this.setLineCap(kt);break;case"LJ":this.setLineJoin(kt);break;case"ML":this.setMiterLimit(kt);break;case"D":this.setDash(kt[0],kt[1]);break;case"RI":this.setRenderingIntent(kt);break;case"FL":this.setFlatness(kt);break;case"Font":this.setFont(kt[0],kt[1]);break;case"CA":this.current.strokeAlpha=kt;break;case"ca":this.current.fillAlpha=kt,this.ctx.globalAlpha=kt;break;case"BM":this.ctx.globalCompositeOperation=kt;break;case"SMask":this.current.activeSMask=kt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(kt);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const Et=this.inSMaskMode;this.current.activeSMask&&!Et?this.beginSMaskMode():!this.current.activeSMask&&Et&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const Et=this.ctx.canvas.width,Tt=this.ctx.canvas.height,kt="smaskGroupAt"+this.groupLevel,jt=this.cachedCanvases.getCanvas(kt,Et,Tt);this.suspendedCtx=this.ctx,this.ctx=jt.context;const Nt=this.ctx;Nt.setTransform(...(0,j.getCurrentTransform)(this.suspendedCtx)),gt(this.suspendedCtx,Nt),ct(Nt,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),gt(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(Et){if(!this.current.activeSMask)return;Et?(Et[0]=Math.floor(Et[0]),Et[1]=Math.floor(Et[1]),Et[2]=Math.ceil(Et[2]),Et[3]=Math.ceil(Et[3])):Et=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const Tt=this.current.activeSMask,kt=this.suspendedCtx;St(kt,Tt,this.ctx,Et),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(gt(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const Et=this.current;this.stateStack.push(Et),this.current=Et.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),gt(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(Et,Tt,kt,jt,Nt,$t){this.ctx.transform(Et,Tt,kt,jt,Nt,$t),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(Et,Tt,kt){const jt=this.ctx,Nt=this.current;let $t=Nt.x,tn=Nt.y,gn,vn;const bn=(0,j.getCurrentTransform)(jt),_n=bn[0]===0&&bn[3]===0||bn[1]===0&&bn[2]===0,An=_n?kt.slice(0):null;for(let wn=0,on=0,hn=Et.length;wn<hn;wn++)switch(Et[wn]|0){case o.OPS.rectangle:$t=Tt[on++],tn=Tt[on++];const It=Tt[on++],Vt=Tt[on++],rn=$t+It,fn=tn+Vt;jt.moveTo($t,tn),It===0||Vt===0?jt.lineTo(rn,fn):(jt.lineTo(rn,tn),jt.lineTo(rn,fn),jt.lineTo($t,fn)),_n||Nt.updateRectMinMax(bn,[$t,tn,rn,fn]),jt.closePath();break;case o.OPS.moveTo:$t=Tt[on++],tn=Tt[on++],jt.moveTo($t,tn),_n||Nt.updatePathMinMax(bn,$t,tn);break;case o.OPS.lineTo:$t=Tt[on++],tn=Tt[on++],jt.lineTo($t,tn),_n||Nt.updatePathMinMax(bn,$t,tn);break;case o.OPS.curveTo:gn=$t,vn=tn,$t=Tt[on+4],tn=Tt[on+5],jt.bezierCurveTo(Tt[on],Tt[on+1],Tt[on+2],Tt[on+3],$t,tn),Nt.updateCurvePathMinMax(bn,gn,vn,Tt[on],Tt[on+1],Tt[on+2],Tt[on+3],$t,tn,An),on+=6;break;case o.OPS.curveTo2:gn=$t,vn=tn,jt.bezierCurveTo($t,tn,Tt[on],Tt[on+1],Tt[on+2],Tt[on+3]),Nt.updateCurvePathMinMax(bn,gn,vn,$t,tn,Tt[on],Tt[on+1],Tt[on+2],Tt[on+3],An),$t=Tt[on+2],tn=Tt[on+3],on+=4;break;case o.OPS.curveTo3:gn=$t,vn=tn,$t=Tt[on+2],tn=Tt[on+3],jt.bezierCurveTo(Tt[on],Tt[on+1],$t,tn,$t,tn),Nt.updateCurvePathMinMax(bn,gn,vn,Tt[on],Tt[on+1],$t,tn,$t,tn,An),on+=4;break;case o.OPS.closePath:jt.closePath();break}_n&&Nt.updateScalingPathMinMax(bn,An),Nt.setCurrentPoint($t,tn)}closePath(){this.ctx.closePath()}stroke(Et=!0){const Tt=this.ctx,kt=this.current.strokeColor;Tt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof kt=="object"&&(kt!=null&&kt.getPattern)?(Tt.save(),Tt.strokeStyle=kt.getPattern(Tt,this,(0,j.getCurrentTransformInverse)(Tt),_e.PathType.STROKE),this.rescaleAndStroke(!1),Tt.restore()):this.rescaleAndStroke(!0)),Et&&this.consumePath(this.current.getClippedPathBoundingBox()),Tt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(Et=!0){const Tt=this.ctx,kt=this.current.fillColor,jt=this.current.patternFill;let Nt=!1;jt&&(Tt.save(),Tt.fillStyle=kt.getPattern(Tt,this,(0,j.getCurrentTransformInverse)(Tt),_e.PathType.FILL),Nt=!0);const $t=this.current.getClippedPathBoundingBox();this.contentVisible&&$t!==null&&(this.pendingEOFill?(Tt.fill("evenodd"),this.pendingEOFill=!1):Tt.fill()),Nt&&Tt.restore(),Et&&this.consumePath($t)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Xt}eoClip(){this.pendingClip=Yt}beginText(){this.current.textMatrix=o.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const Et=this.pendingTextPaths,Tt=this.ctx;if(Et===void 0){Tt.beginPath();return}Tt.save(),Tt.beginPath();for(const kt of Et)Tt.setTransform(...kt.transform),Tt.translate(kt.x,kt.y),kt.addToPath(Tt,kt.fontSize);Tt.restore(),Tt.clip(),Tt.beginPath(),delete this.pendingTextPaths}setCharSpacing(Et){this.current.charSpacing=Et}setWordSpacing(Et){this.current.wordSpacing=Et}setHScale(Et){this.current.textHScale=Et/100}setLeading(Et){this.current.leading=-Et}setFont(Et,Tt){var bn;const kt=this.commonObjs.get(Et),jt=this.current;if(!kt)throw new Error(`Can't find font for ${Et}`);if(jt.fontMatrix=kt.fontMatrix||o.FONT_IDENTITY_MATRIX,(jt.fontMatrix[0]===0||jt.fontMatrix[3]===0)&&(0,o.warn)("Invalid font matrix for font "+Et),Tt<0?(Tt=-Tt,jt.fontDirection=-1):jt.fontDirection=1,this.current.font=kt,this.current.fontSize=Tt,kt.isType3Font)return;const Nt=kt.loadedName||"sans-serif",$t=((bn=kt.systemFontInfo)==null?void 0:bn.css)||`"${Nt}", ${kt.fallbackName}`;let tn="normal";kt.black?tn="900":kt.bold&&(tn="bold");const gn=kt.italic?"italic":"normal";let vn=Tt;Tt<nt?vn=nt:Tt>it&&(vn=it),this.current.fontSizeScale=Tt/vn,this.ctx.font=`${gn} ${tn} ${vn}px ${$t}`}setTextRenderingMode(Et){this.current.textRenderingMode=Et}setTextRise(Et){this.current.textRise=Et}moveText(Et,Tt){this.current.x=this.current.lineX+=Et,this.current.y=this.current.lineY+=Tt}setLeadingMoveText(Et,Tt){this.setLeading(-Tt),this.moveText(Et,Tt)}setTextMatrix(Et,Tt,kt,jt,Nt,$t){this.current.textMatrix=[Et,Tt,kt,jt,Nt,$t],this.current.textMatrixScale=Math.hypot(Et,Tt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(Et,Tt,kt,jt){const Nt=this.ctx,$t=this.current,tn=$t.font,gn=$t.textRenderingMode,vn=$t.fontSize/$t.fontSizeScale,bn=gn&o.TextRenderingMode.FILL_STROKE_MASK,_n=!!(gn&o.TextRenderingMode.ADD_TO_PATH_FLAG),An=$t.patternFill&&!tn.missingFile;let wn;(tn.disableFontFace||_n||An)&&(wn=tn.getPathGenerator(this.commonObjs,Et)),tn.disableFontFace||An?(Nt.save(),Nt.translate(Tt,kt),Nt.beginPath(),wn(Nt,vn),jt&&Nt.setTransform(...jt),(bn===o.TextRenderingMode.FILL||bn===o.TextRenderingMode.FILL_STROKE)&&Nt.fill(),(bn===o.TextRenderingMode.STROKE||bn===o.TextRenderingMode.FILL_STROKE)&&Nt.stroke(),Nt.restore()):((bn===o.TextRenderingMode.FILL||bn===o.TextRenderingMode.FILL_STROKE)&&Nt.fillText(Et,Tt,kt),(bn===o.TextRenderingMode.STROKE||bn===o.TextRenderingMode.FILL_STROKE)&&Nt.strokeText(Et,Tt,kt)),_n&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,j.getCurrentTransform)(Nt),x:Tt,y:kt,fontSize:vn,addToPath:wn})}get isFontSubpixelAAEnabled(){const{context:Et}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);Et.scale(1.5,1),Et.fillText("I",0,10);const Tt=Et.getImageData(0,0,10,10).data;let kt=!1;for(let jt=3;jt<Tt.length;jt+=4)if(Tt[jt]>0&&Tt[jt]<255){kt=!0;break}return(0,o.shadow)(this,"isFontSubpixelAAEnabled",kt)}showText(Et){const Tt=this.current,kt=Tt.font;if(kt.isType3Font)return this.showType3Text(Et);const jt=Tt.fontSize;if(jt===0)return;const Nt=this.ctx,$t=Tt.fontSizeScale,tn=Tt.charSpacing,gn=Tt.wordSpacing,vn=Tt.fontDirection,bn=Tt.textHScale*vn,_n=Et.length,An=kt.vertical,wn=An?1:-1,on=kt.defaultVMetrics,hn=jt*Tt.fontMatrix[0],It=Tt.textRenderingMode===o.TextRenderingMode.FILL&&!kt.disableFontFace&&!Tt.patternFill;Nt.save(),Nt.transform(...Tt.textMatrix),Nt.translate(Tt.x,Tt.y+Tt.textRise),vn>0?Nt.scale(bn,-1):Nt.scale(bn,1);let Vt;if(Tt.patternFill){Nt.save();const Cn=Tt.fillColor.getPattern(Nt,this,(0,j.getCurrentTransformInverse)(Nt),_e.PathType.FILL);Vt=(0,j.getCurrentTransform)(Nt),Nt.restore(),Nt.fillStyle=Cn}let rn=Tt.lineWidth;const fn=Tt.textMatrixScale;if(fn===0||rn===0){const Cn=Tt.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;(Cn===o.TextRenderingMode.STROKE||Cn===o.TextRenderingMode.FILL_STROKE)&&(rn=this.getSinglePixelWidth())}else rn/=fn;if($t!==1&&(Nt.scale($t,$t),rn/=$t),Nt.lineWidth=rn,kt.isInvalidPDFjsFont){const Cn=[];let sn=0;for(const On of Et)Cn.push(On.unicode),sn+=On.width;Nt.fillText(Cn.join(""),0,0),Tt.x+=sn*hn*bn,Nt.restore(),this.compose();return}let xn=0,kn;for(kn=0;kn<_n;++kn){const Cn=Et[kn];if(typeof Cn=="number"){xn+=wn*Cn*jt/1e3;continue}let sn=!1;const On=(Cn.isSpace?gn:0)+tn,Ln=Cn.fontChar,fs=Cn.accent;let rs,Ss,zn=Cn.width;if(An){const ys=Cn.vmetric||on,Ls=-(Cn.vmetric?ys[1]:zn*.5)*hn,Sn=ys[2]*hn;zn=ys?-ys[0]:zn,rs=Ls/$t,Ss=(xn+Sn)/$t}else rs=xn/$t,Ss=0;if(kt.remeasure&&zn>0){const ys=Nt.measureText(Ln).width*1e3/jt*$t;if(zn<ys&&this.isFontSubpixelAAEnabled){const Ls=zn/ys;sn=!0,Nt.save(),Nt.scale(Ls,1),rs/=Ls}else zn!==ys&&(rs+=(zn-ys)/2e3*jt/$t)}if(this.contentVisible&&(Cn.isInFont||kt.missingFile)){if(It&&!fs)Nt.fillText(Ln,rs,Ss);else if(this.paintChar(Ln,rs,Ss,Vt),fs){const ys=rs+jt*fs.offset.x/$t,Ls=Ss-jt*fs.offset.y/$t;this.paintChar(fs.fontChar,ys,Ls,Vt)}}const _i=An?zn*hn-On*vn:zn*hn+On*vn;xn+=_i,sn&&Nt.restore()}An?Tt.y-=xn:Tt.x+=xn*bn,Nt.restore(),this.compose()}showType3Text(Et){const Tt=this.ctx,kt=this.current,jt=kt.font,Nt=kt.fontSize,$t=kt.fontDirection,tn=jt.vertical?1:-1,gn=kt.charSpacing,vn=kt.wordSpacing,bn=kt.textHScale*$t,_n=kt.fontMatrix||o.FONT_IDENTITY_MATRIX,An=Et.length,wn=kt.textRenderingMode===o.TextRenderingMode.INVISIBLE;let on,hn,It,Vt;if(!(wn||Nt===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,Tt.save(),Tt.transform(...kt.textMatrix),Tt.translate(kt.x,kt.y),Tt.scale(bn,$t),on=0;on<An;++on){if(hn=Et[on],typeof hn=="number"){Vt=tn*hn*Nt/1e3,this.ctx.translate(Vt,0),kt.x+=Vt*bn;continue}const rn=(hn.isSpace?vn:0)+gn,fn=jt.charProcOperatorList[hn.operatorListId];if(!fn){(0,o.warn)(`Type3 character "${hn.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=hn,this.save(),Tt.scale(Nt,Nt),Tt.transform(..._n),this.executeOperatorList(fn),this.restore()),It=o.Util.applyTransform([hn.width,0],_n)[0]*Nt+rn,Tt.translate(It,0),kt.x+=It*bn}Tt.restore(),this.processingType3=null}}setCharWidth(Et,Tt){}setCharWidthAndBounds(Et,Tt,kt,jt,Nt,$t){this.ctx.rect(kt,jt,Nt-kt,$t-jt),this.ctx.clip(),this.endPath()}getColorN_Pattern(Et){let Tt;if(Et[0]==="TilingPattern"){const kt=Et[1],jt=this.baseTransform||(0,j.getCurrentTransform)(this.ctx),Nt={createCanvasGraphics:$t=>new Zt($t,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};Tt=new _e.TilingPattern(Et,kt,this.ctx,Nt,jt)}else Tt=this._getPattern(Et[1],Et[2]);return Tt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(Et,Tt,kt){const jt=o.Util.makeHexColor(Et,Tt,kt);this.ctx.strokeStyle=jt,this.current.strokeColor=jt}setFillRGBColor(Et,Tt,kt){const jt=o.Util.makeHexColor(Et,Tt,kt);this.ctx.fillStyle=jt,this.current.fillColor=jt,this.current.patternFill=!1}_getPattern(Et,Tt=null){let kt;return this.cachedPatterns.has(Et)?kt=this.cachedPatterns.get(Et):(kt=(0,_e.getShadingPattern)(this.getObject(Et)),this.cachedPatterns.set(Et,kt)),Tt&&(kt.matrix=Tt),kt}shadingFill(Et){if(!this.contentVisible)return;const Tt=this.ctx;this.save();const kt=this._getPattern(Et);Tt.fillStyle=kt.getPattern(Tt,this,(0,j.getCurrentTransformInverse)(Tt),_e.PathType.SHADING);const jt=(0,j.getCurrentTransformInverse)(Tt);if(jt){const{width:Nt,height:$t}=Tt.canvas,[tn,gn,vn,bn]=o.Util.getAxialAlignedBoundingBox([0,0,Nt,$t],jt);this.ctx.fillRect(tn,gn,vn-tn,bn-gn)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,o.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,o.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(Et,Tt){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(Et)&&Et.length===6&&this.transform(...Et),this.baseTransform=(0,j.getCurrentTransform)(this.ctx),Tt)){const kt=Tt[2]-Tt[0],jt=Tt[3]-Tt[1];this.ctx.rect(Tt[0],Tt[1],kt,jt),this.current.updateRectMinMax((0,j.getCurrentTransform)(this.ctx),Tt),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(Et){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const Tt=this.ctx;Et.isolated||(0,o.info)("TODO: Support non-isolated groups."),Et.knockout&&(0,o.warn)("Knockout groups not supported.");const kt=(0,j.getCurrentTransform)(Tt);if(Et.matrix&&Tt.transform(...Et.matrix),!Et.bbox)throw new Error("Bounding box is required.");let jt=o.Util.getAxialAlignedBoundingBox(Et.bbox,(0,j.getCurrentTransform)(Tt));const Nt=[0,0,Tt.canvas.width,Tt.canvas.height];jt=o.Util.intersect(jt,Nt)||[0,0,0,0];const $t=Math.floor(jt[0]),tn=Math.floor(jt[1]);let gn=Math.max(Math.ceil(jt[2])-$t,1),vn=Math.max(Math.ceil(jt[3])-tn,1),bn=1,_n=1;gn>rt&&(bn=gn/rt,gn=rt),vn>rt&&(_n=vn/rt,vn=rt),this.current.startNewPathAndClipBox([0,0,gn,vn]);let An="groupAt"+this.groupLevel;Et.smask&&(An+="_smask_"+this.smaskCounter++%2);const wn=this.cachedCanvases.getCanvas(An,gn,vn),on=wn.context;on.scale(1/bn,1/_n),on.translate(-$t,-tn),on.transform(...kt),Et.smask?this.smaskStack.push({canvas:wn.canvas,context:on,offsetX:$t,offsetY:tn,scaleX:bn,scaleY:_n,subtype:Et.smask.subtype,backdrop:Et.smask.backdrop,transferMap:Et.smask.transferMap||null,startTransformInverse:null}):(Tt.setTransform(1,0,0,1,0,0),Tt.translate($t,tn),Tt.scale(bn,_n),Tt.save()),gt(Tt,on),this.ctx=on,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(Tt),this.groupLevel++}endGroup(Et){if(!this.contentVisible)return;this.groupLevel--;const Tt=this.ctx,kt=this.groupStack.pop();if(this.ctx=kt,this.ctx.imageSmoothingEnabled=!1,Et.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const jt=(0,j.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...jt);const Nt=o.Util.getAxialAlignedBoundingBox([0,0,Tt.canvas.width,Tt.canvas.height],jt);this.ctx.drawImage(Tt.canvas,0,0),this.ctx.restore(),this.compose(Nt)}}beginAnnotation(Et,Tt,kt,jt,Nt){if(yt(this,Ut,E_).call(this),_t(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(Tt)&&Tt.length===4){const $t=Tt[2]-Tt[0],tn=Tt[3]-Tt[1];if(Nt&&this.annotationCanvasMap){kt=kt.slice(),kt[4]-=Tt[0],kt[5]-=Tt[1],Tt=Tt.slice(),Tt[0]=Tt[1]=0,Tt[2]=$t,Tt[3]=tn;const[gn,vn]=o.Util.singularValueDecompose2dScale((0,j.getCurrentTransform)(this.ctx)),{viewportScale:bn}=this,_n=Math.ceil($t*this.outputScaleX*bn),An=Math.ceil(tn*this.outputScaleY*bn);this.annotationCanvas=this.canvasFactory.create(_n,An);const{canvas:wn,context:on}=this.annotationCanvas;this.annotationCanvasMap.set(Et,wn),this.annotationCanvas.savedCtx=this.ctx,this.ctx=on,this.ctx.save(),this.ctx.setTransform(gn,0,0,-vn,0,tn*vn),_t(this.ctx)}else _t(this.ctx),this.ctx.rect(Tt[0],Tt[1],$t,tn),this.ctx.clip(),this.endPath()}this.current=new ht(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...kt),this.transform(...jt)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),yt(this,Ut,A_).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(Et){if(!this.contentVisible)return;const Tt=Et.count;Et=this.getObject(Et.data,Et),Et.count=Tt;const kt=this.ctx,jt=this.processingType3;if(jt&&(jt.compiled===void 0&&(jt.compiled=lt(Et)),jt.compiled)){jt.compiled(kt);return}const Nt=this._createMaskCanvas(Et),$t=Nt.canvas;kt.save(),kt.setTransform(1,0,0,1,0,0),kt.drawImage($t,Nt.offsetX,Nt.offsetY),kt.restore(),this.compose()}paintImageMaskXObjectRepeat(Et,Tt,kt=0,jt=0,Nt,$t){if(!this.contentVisible)return;Et=this.getObject(Et.data,Et);const tn=this.ctx;tn.save();const gn=(0,j.getCurrentTransform)(tn);tn.transform(Tt,kt,jt,Nt,0,0);const vn=this._createMaskCanvas(Et);tn.setTransform(1,0,0,1,vn.offsetX-gn[4],vn.offsetY-gn[5]);for(let bn=0,_n=$t.length;bn<_n;bn+=2){const An=o.Util.transform(gn,[Tt,kt,jt,Nt,$t[bn],$t[bn+1]]),[wn,on]=o.Util.applyTransform([0,0],An);tn.drawImage(vn.canvas,wn,on)}tn.restore(),this.compose()}paintImageMaskXObjectGroup(Et){if(!this.contentVisible)return;const Tt=this.ctx,kt=this.current.fillColor,jt=this.current.patternFill;for(const Nt of Et){const{data:$t,width:tn,height:gn,transform:vn}=Nt,bn=this.cachedCanvases.getCanvas("maskCanvas",tn,gn),_n=bn.context;_n.save();const An=this.getObject($t,Nt);vt(_n,An),_n.globalCompositeOperation="source-in",_n.fillStyle=jt?kt.getPattern(_n,this,(0,j.getCurrentTransformInverse)(Tt),_e.PathType.FILL):kt,_n.fillRect(0,0,tn,gn),_n.restore(),Tt.save(),Tt.transform(...vn),Tt.scale(1,-1),ft(Tt,bn.canvas,0,0,tn,gn,0,-1,1,1),Tt.restore()}this.compose()}paintImageXObject(Et){if(!this.contentVisible)return;const Tt=this.getObject(Et);if(!Tt){(0,o.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(Tt)}paintImageXObjectRepeat(Et,Tt,kt,jt){if(!this.contentVisible)return;const Nt=this.getObject(Et);if(!Nt){(0,o.warn)("Dependent image isn't ready yet");return}const $t=Nt.width,tn=Nt.height,gn=[];for(let vn=0,bn=jt.length;vn<bn;vn+=2)gn.push({transform:[Tt,0,0,kt,jt[vn],jt[vn+1]],x:0,y:0,w:$t,h:tn});this.paintInlineImageXObjectGroup(Nt,gn)}applyTransferMapsToCanvas(Et){return this.current.transferMaps!=="none"&&(Et.filter=this.current.transferMaps,Et.drawImage(Et.canvas,0,0),Et.filter="none"),Et.canvas}applyTransferMapsToBitmap(Et){if(this.current.transferMaps==="none")return Et.bitmap;const{bitmap:Tt,width:kt,height:jt}=Et,Nt=this.cachedCanvases.getCanvas("inlineImage",kt,jt),$t=Nt.context;return $t.filter=this.current.transferMaps,$t.drawImage(Tt,0,0),$t.filter="none",Nt.canvas}paintInlineImageXObject(Et){if(!this.contentVisible)return;const Tt=Et.width,kt=Et.height,jt=this.ctx;if(this.save(),!o.isNodeJS){const{filter:tn}=jt;tn!=="none"&&tn!==""&&(jt.filter="none")}jt.scale(1/Tt,-1/kt);let Nt;if(Et.bitmap)Nt=this.applyTransferMapsToBitmap(Et);else if(typeof HTMLElement=="function"&&Et instanceof HTMLElement||!Et.data)Nt=Et;else{const gn=this.cachedCanvases.getCanvas("inlineImage",Tt,kt).context;pt(gn,Et),Nt=this.applyTransferMapsToCanvas(gn)}const $t=this._scaleImage(Nt,(0,j.getCurrentTransformInverse)(jt));jt.imageSmoothingEnabled=Mt((0,j.getCurrentTransform)(jt),Et.interpolate),ft(jt,$t.img,0,0,$t.paintWidth,$t.paintHeight,0,-kt,Tt,kt),this.compose(),this.restore()}paintInlineImageXObjectGroup(Et,Tt){if(!this.contentVisible)return;const kt=this.ctx;let jt;if(Et.bitmap)jt=Et.bitmap;else{const Nt=Et.width,$t=Et.height,gn=this.cachedCanvases.getCanvas("inlineImage",Nt,$t).context;pt(gn,Et),jt=this.applyTransferMapsToCanvas(gn)}for(const Nt of Tt)kt.save(),kt.transform(...Nt.transform),kt.scale(1,-1),ft(kt,jt,Nt.x,Nt.y,Nt.w,Nt.h,0,-1,1,1),kt.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(Et){}markPointProps(Et,Tt){}beginMarkedContent(Et){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(Et,Tt){Et==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(Tt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(Et){const Tt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(Et);const kt=this.ctx;this.pendingClip&&(Tt||(this.pendingClip===Yt?kt.clip("evenodd"):kt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),kt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const Et=(0,j.getCurrentTransform)(this.ctx);if(Et[1]===0&&Et[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(Et[0]),Math.abs(Et[3]));else{const Tt=Math.abs(Et[0]*Et[3]-Et[2]*Et[1]),kt=Math.hypot(Et[0],Et[2]),jt=Math.hypot(Et[1],Et[3]);this._cachedGetSinglePixelWidth=Math.max(kt,jt)/Tt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:Et}=this.current,{a:Tt,b:kt,c:jt,d:Nt}=this.ctx.getTransform();let $t,tn;if(kt===0&&jt===0){const gn=Math.abs(Tt),vn=Math.abs(Nt);if(gn===vn)if(Et===0)$t=tn=1/gn;else{const bn=gn*Et;$t=tn=bn<1?1/bn:1}else if(Et===0)$t=1/gn,tn=1/vn;else{const bn=gn*Et,_n=vn*Et;$t=bn<1?1/bn:1,tn=_n<1?1/_n:1}}else{const gn=Math.abs(Tt*Nt-kt*jt),vn=Math.hypot(Tt,kt),bn=Math.hypot(jt,Nt);if(Et===0)$t=bn/gn,tn=vn/gn;else{const _n=Et*gn;$t=bn>_n?bn/_n:1,tn=vn>_n?vn/_n:1}}this._cachedScaleForStroking[0]=$t,this._cachedScaleForStroking[1]=tn}return this._cachedScaleForStroking}rescaleAndStroke(Et){const{ctx:Tt}=this,{lineWidth:kt}=this.current,[jt,Nt]=this.getScaleForStroking();if(Tt.lineWidth=kt||1,jt===1&&Nt===1){Tt.stroke();return}const $t=Tt.getLineDash();if(Et&&Tt.save(),Tt.scale(jt,Nt),$t.length>0){const tn=Math.max(jt,Nt);Tt.setLineDash($t.map(gn=>gn/tn)),Tt.lineDashOffset/=tn}Tt.stroke(),Et&&Tt.restore()}isContentVisible(){for(let Et=this.markedContentStack.length-1;Et>=0;Et--)if(!this.markedContentStack[Et].visible)return!1;return!0}};Ut=new WeakSet,E_=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},A_=function(){if(this.pageColors){const Et=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(Et!=="none"){const Tt=this.ctx.filter;this.ctx.filter=Et,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=Tt}}};let Ht=Zt;i.CanvasGraphics=Ht;for(const Ft in o.OPS)Ht.prototype[Ft]!==void 0&&(Ht.prototype[o.OPS[Ft]]=Ht.prototype[Ft])},(a,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TilingPattern=i.PathType=void 0,i.getShadingPattern=ut;var o=s(1),j=s(6);const _e={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};i.PathType=_e;function et(lt,ht){if(!ht)return;const pt=ht[2]-ht[0],vt=ht[3]-ht[1],gt=new Path2D;gt.rect(ht[0],ht[1],pt,vt),lt.clip(gt)}class nt{constructor(){this.constructor===nt&&(0,o.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,o.unreachable)("Abstract method `getPattern` called.")}}class it extends nt{constructor(ht){super(),this._type=ht[1],this._bbox=ht[2],this._colorStops=ht[3],this._p0=ht[4],this._p1=ht[5],this._r0=ht[6],this._r1=ht[7],this.matrix=null}_createGradient(ht){let pt;this._type==="axial"?pt=ht.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(pt=ht.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const vt of this._colorStops)pt.addColorStop(vt[0],vt[1]);return pt}getPattern(ht,pt,vt,gt){let _t;if(gt===_e.STROKE||gt===_e.FILL){const mt=pt.current.getClippedPathBoundingBox(gt,(0,j.getCurrentTransform)(ht))||[0,0,0,0],bt=Math.ceil(mt[2]-mt[0])||1,Ct=Math.ceil(mt[3]-mt[1])||1,Pt=pt.cachedCanvases.getCanvas("pattern",bt,Ct,!0),St=Pt.context;St.clearRect(0,0,St.canvas.width,St.canvas.height),St.beginPath(),St.rect(0,0,St.canvas.width,St.canvas.height),St.translate(-mt[0],-mt[1]),vt=o.Util.transform(vt,[1,0,0,1,mt[0],mt[1]]),St.transform(...pt.baseTransform),this.matrix&&St.transform(...this.matrix),et(St,this._bbox),St.fillStyle=this._createGradient(St),St.fill(),_t=ht.createPattern(Pt.canvas,"no-repeat");const Mt=new DOMMatrix(vt);_t.setTransform(Mt)}else et(ht,this._bbox),_t=this._createGradient(ht);return _t}}function rt(lt,ht,pt,vt,gt,_t,mt,bt){const Ct=ht.coords,Pt=ht.colors,St=lt.data,Mt=lt.width*4;let Dt;Ct[pt+1]>Ct[vt+1]&&(Dt=pt,pt=vt,vt=Dt,Dt=_t,_t=mt,mt=Dt),Ct[vt+1]>Ct[gt+1]&&(Dt=vt,vt=gt,gt=Dt,Dt=mt,mt=bt,bt=Dt),Ct[pt+1]>Ct[vt+1]&&(Dt=pt,pt=vt,vt=Dt,Dt=_t,_t=mt,mt=Dt);const Qt=(Ct[pt]+ht.offsetX)*ht.scaleX,Xt=(Ct[pt+1]+ht.offsetY)*ht.scaleY,Yt=(Ct[vt]+ht.offsetX)*ht.scaleX,Ht=(Ct[vt+1]+ht.offsetY)*ht.scaleY,Ut=(Ct[gt]+ht.offsetX)*ht.scaleX,Lt=(Ct[gt+1]+ht.offsetY)*ht.scaleY;if(Xt>=Lt)return;const zt=Pt[_t],Zt=Pt[_t+1],Ft=Pt[_t+2],Et=Pt[mt],Tt=Pt[mt+1],kt=Pt[mt+2],jt=Pt[bt],Nt=Pt[bt+1],$t=Pt[bt+2],tn=Math.round(Xt),gn=Math.round(Lt);let vn,bn,_n,An,wn,on,hn,It;for(let Vt=tn;Vt<=gn;Vt++){if(Vt<Ht){const Cn=Vt<Xt?0:(Xt-Vt)/(Xt-Ht);vn=Qt-(Qt-Yt)*Cn,bn=zt-(zt-Et)*Cn,_n=Zt-(Zt-Tt)*Cn,An=Ft-(Ft-kt)*Cn}else{let Cn;Vt>Lt?Cn=1:Ht===Lt?Cn=0:Cn=(Ht-Vt)/(Ht-Lt),vn=Yt-(Yt-Ut)*Cn,bn=Et-(Et-jt)*Cn,_n=Tt-(Tt-Nt)*Cn,An=kt-(kt-$t)*Cn}let rn;Vt<Xt?rn=0:Vt>Lt?rn=1:rn=(Xt-Vt)/(Xt-Lt),wn=Qt-(Qt-Ut)*rn,on=zt-(zt-jt)*rn,hn=Zt-(Zt-Nt)*rn,It=Ft-(Ft-$t)*rn;const fn=Math.round(Math.min(vn,wn)),xn=Math.round(Math.max(vn,wn));let kn=Mt*Vt+fn*4;for(let Cn=fn;Cn<=xn;Cn++)rn=(vn-Cn)/(vn-wn),rn<0?rn=0:rn>1&&(rn=1),St[kn++]=bn-(bn-on)*rn|0,St[kn++]=_n-(_n-hn)*rn|0,St[kn++]=An-(An-It)*rn|0,St[kn++]=255}}function st(lt,ht,pt){const vt=ht.coords,gt=ht.colors;let _t,mt;switch(ht.type){case"lattice":const bt=ht.verticesPerRow,Ct=Math.floor(vt.length/bt)-1,Pt=bt-1;for(_t=0;_t<Ct;_t++){let St=_t*bt;for(let Mt=0;Mt<Pt;Mt++,St++)rt(lt,pt,vt[St],vt[St+1],vt[St+bt],gt[St],gt[St+1],gt[St+bt]),rt(lt,pt,vt[St+bt+1],vt[St+1],vt[St+bt],gt[St+bt+1],gt[St+1],gt[St+bt])}break;case"triangles":for(_t=0,mt=vt.length;_t<mt;_t+=3)rt(lt,pt,vt[_t],vt[_t+1],vt[_t+2],gt[_t],gt[_t+1],gt[_t+2]);break;default:throw new Error("illegal figure")}}class at extends nt{constructor(ht){super(),this._coords=ht[2],this._colors=ht[3],this._figures=ht[4],this._bounds=ht[5],this._bbox=ht[7],this._background=ht[8],this.matrix=null}_createMeshCanvas(ht,pt,vt){const bt=Math.floor(this._bounds[0]),Ct=Math.floor(this._bounds[1]),Pt=Math.ceil(this._bounds[2])-bt,St=Math.ceil(this._bounds[3])-Ct,Mt=Math.min(Math.ceil(Math.abs(Pt*ht[0]*1.1)),3e3),Dt=Math.min(Math.ceil(Math.abs(St*ht[1]*1.1)),3e3),Qt=Pt/Mt,Xt=St/Dt,Yt={coords:this._coords,colors:this._colors,offsetX:-bt,offsetY:-Ct,scaleX:1/Qt,scaleY:1/Xt},Ht=Mt+2*2,Ut=Dt+2*2,Lt=vt.getCanvas("mesh",Ht,Ut,!1),zt=Lt.context,Zt=zt.createImageData(Mt,Dt);if(pt){const Et=Zt.data;for(let Tt=0,kt=Et.length;Tt<kt;Tt+=4)Et[Tt]=pt[0],Et[Tt+1]=pt[1],Et[Tt+2]=pt[2],Et[Tt+3]=255}for(const Et of this._figures)st(Zt,Et,Yt);return zt.putImageData(Zt,2,2),{canvas:Lt.canvas,offsetX:bt-2*Qt,offsetY:Ct-2*Xt,scaleX:Qt,scaleY:Xt}}getPattern(ht,pt,vt,gt){et(ht,this._bbox);let _t;if(gt===_e.SHADING)_t=o.Util.singularValueDecompose2dScale((0,j.getCurrentTransform)(ht));else if(_t=o.Util.singularValueDecompose2dScale(pt.baseTransform),this.matrix){const bt=o.Util.singularValueDecompose2dScale(this.matrix);_t=[_t[0]*bt[0],_t[1]*bt[1]]}const mt=this._createMeshCanvas(_t,gt===_e.SHADING?null:this._background,pt.cachedCanvases);return gt!==_e.SHADING&&(ht.setTransform(...pt.baseTransform),this.matrix&&ht.transform(...this.matrix)),ht.translate(mt.offsetX,mt.offsetY),ht.scale(mt.scaleX,mt.scaleY),ht.createPattern(mt.canvas,"no-repeat")}}class ot extends nt{getPattern(){return"hotpink"}}function ut(lt){switch(lt[0]){case"RadialAxial":return new it(lt);case"Mesh":return new at(lt);case"Dummy":return new ot}throw new Error(`Unknown IR type: ${lt[0]}`)}const ct={COLORED:1,UNCOLORED:2},ft=class ft{constructor(ht,pt,vt,gt,_t){this.operatorList=ht[2],this.matrix=ht[3]||[1,0,0,1,0,0],this.bbox=ht[4],this.xstep=ht[5],this.ystep=ht[6],this.paintType=ht[7],this.tilingType=ht[8],this.color=pt,this.ctx=vt,this.canvasGraphicsFactory=gt,this.baseTransform=_t}createPatternCanvas(ht){const pt=this.operatorList,vt=this.bbox,gt=this.xstep,_t=this.ystep,mt=this.paintType,bt=this.tilingType,Ct=this.color,Pt=this.canvasGraphicsFactory;(0,o.info)("TilingType: "+bt);const St=vt[0],Mt=vt[1],Dt=vt[2],Qt=vt[3],Xt=o.Util.singularValueDecompose2dScale(this.matrix),Yt=o.Util.singularValueDecompose2dScale(this.baseTransform),Ht=[Xt[0]*Yt[0],Xt[1]*Yt[1]],Ut=this.getSizeAndScale(gt,this.ctx.canvas.width,Ht[0]),Lt=this.getSizeAndScale(_t,this.ctx.canvas.height,Ht[1]),zt=ht.cachedCanvases.getCanvas("pattern",Ut.size,Lt.size,!0),Zt=zt.context,Ft=Pt.createCanvasGraphics(Zt);Ft.groupLevel=ht.groupLevel,this.setFillAndStrokeStyleToContext(Ft,mt,Ct);let Et=St,Tt=Mt,kt=Dt,jt=Qt;return St<0&&(Et=0,kt+=Math.abs(St)),Mt<0&&(Tt=0,jt+=Math.abs(Mt)),Zt.translate(-(Ut.scale*Et),-(Lt.scale*Tt)),Ft.transform(Ut.scale,0,0,Lt.scale,0,0),Zt.save(),this.clipBbox(Ft,Et,Tt,kt,jt),Ft.baseTransform=(0,j.getCurrentTransform)(Ft.ctx),Ft.executeOperatorList(pt),Ft.endDrawing(),{canvas:zt.canvas,scaleX:Ut.scale,scaleY:Lt.scale,offsetX:Et,offsetY:Tt}}getSizeAndScale(ht,pt,vt){ht=Math.abs(ht);const gt=Math.max(ft.MAX_PATTERN_SIZE,pt);let _t=Math.ceil(ht*vt);return _t>=gt?_t=gt:vt=_t/ht,{scale:vt,size:_t}}clipBbox(ht,pt,vt,gt,_t){const mt=gt-pt,bt=_t-vt;ht.ctx.rect(pt,vt,mt,bt),ht.current.updateRectMinMax((0,j.getCurrentTransform)(ht.ctx),[pt,vt,gt,_t]),ht.clip(),ht.endPath()}setFillAndStrokeStyleToContext(ht,pt,vt){const gt=ht.ctx,_t=ht.current;switch(pt){case ct.COLORED:const mt=this.ctx;gt.fillStyle=mt.fillStyle,gt.strokeStyle=mt.strokeStyle,_t.fillColor=mt.fillStyle,_t.strokeColor=mt.strokeStyle;break;case ct.UNCOLORED:const bt=o.Util.makeHexColor(vt[0],vt[1],vt[2]);gt.fillStyle=bt,gt.strokeStyle=bt,_t.fillColor=bt,_t.strokeColor=bt;break;default:throw new o.FormatError(`Unsupported paint type: ${pt}`)}}getPattern(ht,pt,vt,gt){let _t=vt;gt!==_e.SHADING&&(_t=o.Util.transform(_t,pt.baseTransform),this.matrix&&(_t=o.Util.transform(_t,this.matrix)));const mt=this.createPatternCanvas(pt);let bt=new DOMMatrix(_t);bt=bt.translate(mt.offsetX,mt.offsetY),bt=bt.scale(1/mt.scaleX,1/mt.scaleY);const Ct=ht.createPattern(mt.canvas,"repeat");return Ct.setTransform(bt),Ct}};es(ft,"MAX_PATTERN_SIZE",3e3);let dt=ft;i.TilingPattern=dt},(a,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.convertBlackAndWhiteToRGBA=_e,i.convertToRGBA=j,i.grayToRGBA=nt;var o=s(1);function j(it){switch(it.kind){case o.ImageKind.GRAYSCALE_1BPP:return _e(it);case o.ImageKind.RGB_24BPP:return et(it)}return null}function _e({src:it,srcPos:rt=0,dest:st,width:at,height:ot,nonBlackColor:ut=4294967295,inverseDecode:ct=!1}){const dt=o.FeatureTest.isLittleEndian?4278190080:255,[ft,lt]=ct?[ut,dt]:[dt,ut],ht=at>>3,pt=at&7,vt=it.length;st=new Uint32Array(st.buffer);let gt=0;for(let _t=0;_t<ot;_t++){for(const bt=rt+ht;rt<bt;rt++){const Ct=rt<vt?it[rt]:255;st[gt++]=Ct&128?lt:ft,st[gt++]=Ct&64?lt:ft,st[gt++]=Ct&32?lt:ft,st[gt++]=Ct&16?lt:ft,st[gt++]=Ct&8?lt:ft,st[gt++]=Ct&4?lt:ft,st[gt++]=Ct&2?lt:ft,st[gt++]=Ct&1?lt:ft}if(pt===0)continue;const mt=rt<vt?it[rt++]:255;for(let bt=0;bt<pt;bt++)st[gt++]=mt&1<<7-bt?lt:ft}return{srcPos:rt,destPos:gt}}function et({src:it,srcPos:rt=0,dest:st,destPos:at=0,width:ot,height:ut}){let ct=0;const dt=it.length>>2,ft=new Uint32Array(it.buffer,rt,dt);if(o.FeatureTest.isLittleEndian){for(;ct<dt-2;ct+=3,at+=4){const lt=ft[ct],ht=ft[ct+1],pt=ft[ct+2];st[at]=lt|4278190080,st[at+1]=lt>>>24|ht<<8|4278190080,st[at+2]=ht>>>16|pt<<16|4278190080,st[at+3]=pt>>>8|4278190080}for(let lt=ct*4,ht=it.length;lt<ht;lt+=3)st[at++]=it[lt]|it[lt+1]<<8|it[lt+2]<<16|4278190080}else{for(;ct<dt-2;ct+=3,at+=4){const lt=ft[ct],ht=ft[ct+1],pt=ft[ct+2];st[at]=lt|255,st[at+1]=lt<<24|ht>>>8|255,st[at+2]=ht<<16|pt>>>16|255,st[at+3]=pt<<8|255}for(let lt=ct*4,ht=it.length;lt<ht;lt+=3)st[at++]=it[lt]<<24|it[lt+1]<<16|it[lt+2]<<8|255}return{srcPos:rt,destPos:at}}function nt(it,rt){if(o.FeatureTest.isLittleEndian)for(let st=0,at=it.length;st<at;st++)rt[st]=it[st]*65793|4278190080;else for(let st=0,at=it.length;st<at;st++)rt[st]=it[st]*16843008|255}},(a,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.GlobalWorkerOptions=void 0;const s=Object.create(null);i.GlobalWorkerOptions=s,s.workerPort=null,s.workerSrc=""},(a,i,s)=>{var it,gE,mE,Y0;Object.defineProperty(i,"__esModule",{value:!0}),i.MessageHandler=void 0;var o=s(1);const j={UNKNOWN:0,DATA:1,ERROR:2},_e={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function et(ot){switch(ot instanceof Error||typeof ot=="object"&&ot!==null||(0,o.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),ot.name){case"AbortException":return new o.AbortException(ot.message);case"MissingPDFException":return new o.MissingPDFException(ot.message);case"PasswordException":return new o.PasswordException(ot.message,ot.code);case"UnexpectedResponseException":return new o.UnexpectedResponseException(ot.message,ot.status);case"UnknownErrorException":return new o.UnknownErrorException(ot.message,ot.details);default:return new o.UnknownErrorException(ot.message,ot.toString())}}class nt{constructor(ut,ct,dt){At(this,it);this.sourceName=ut,this.targetName=ct,this.comObj=dt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=ft=>{const lt=ft.data;if(lt.targetName!==this.sourceName)return;if(lt.stream){yt(this,it,mE).call(this,lt);return}if(lt.callback){const pt=lt.callbackId,vt=this.callbackCapabilities[pt];if(!vt)throw new Error(`Cannot resolve callback ${pt}`);if(delete this.callbackCapabilities[pt],lt.callback===j.DATA)vt.resolve(lt.data);else if(lt.callback===j.ERROR)vt.reject(et(lt.reason));else throw new Error("Unexpected callback case");return}const ht=this.actionHandler[lt.action];if(!ht)throw new Error(`Unknown action from worker: ${lt.action}`);if(lt.callbackId){const pt=this.sourceName,vt=lt.sourceName;new Promise(function(gt){gt(ht(lt.data))}).then(function(gt){dt.postMessage({sourceName:pt,targetName:vt,callback:j.DATA,callbackId:lt.callbackId,data:gt})},function(gt){dt.postMessage({sourceName:pt,targetName:vt,callback:j.ERROR,callbackId:lt.callbackId,reason:et(gt)})});return}if(lt.streamId){yt(this,it,gE).call(this,lt);return}ht(lt.data)},dt.addEventListener("message",this._onComObjOnMessage)}on(ut,ct){const dt=this.actionHandler;if(dt[ut])throw new Error(`There is already an actionName called "${ut}"`);dt[ut]=ct}send(ut,ct,dt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:ut,data:ct},dt)}sendWithPromise(ut,ct,dt){const ft=this.callbackId++,lt=new o.PromiseCapability;this.callbackCapabilities[ft]=lt;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:ut,callbackId:ft,data:ct},dt)}catch(ht){lt.reject(ht)}return lt.promise}sendWithStream(ut,ct,dt,ft){const lt=this.streamId++,ht=this.sourceName,pt=this.targetName,vt=this.comObj;return new ReadableStream({start:gt=>{const _t=new o.PromiseCapability;return this.streamControllers[lt]={controller:gt,startCall:_t,pullCall:null,cancelCall:null,isClosed:!1},vt.postMessage({sourceName:ht,targetName:pt,action:ut,streamId:lt,data:ct,desiredSize:gt.desiredSize},ft),_t.promise},pull:gt=>{const _t=new o.PromiseCapability;return this.streamControllers[lt].pullCall=_t,vt.postMessage({sourceName:ht,targetName:pt,stream:_e.PULL,streamId:lt,desiredSize:gt.desiredSize}),_t.promise},cancel:gt=>{(0,o.assert)(gt instanceof Error,"cancel must have a valid reason");const _t=new o.PromiseCapability;return this.streamControllers[lt].cancelCall=_t,this.streamControllers[lt].isClosed=!0,vt.postMessage({sourceName:ht,targetName:pt,stream:_e.CANCEL,streamId:lt,reason:et(gt)}),_t.promise}},dt)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}it=new WeakSet,gE=function(ut){const ct=ut.streamId,dt=this.sourceName,ft=ut.sourceName,lt=this.comObj,ht=this,pt=this.actionHandler[ut.action],vt={enqueue(gt,_t=1,mt){if(this.isCancelled)return;const bt=this.desiredSize;this.desiredSize-=_t,bt>0&&this.desiredSize<=0&&(this.sinkCapability=new o.PromiseCapability,this.ready=this.sinkCapability.promise),lt.postMessage({sourceName:dt,targetName:ft,stream:_e.ENQUEUE,streamId:ct,chunk:gt},mt)},close(){this.isCancelled||(this.isCancelled=!0,lt.postMessage({sourceName:dt,targetName:ft,stream:_e.CLOSE,streamId:ct}),delete ht.streamSinks[ct])},error(gt){(0,o.assert)(gt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,lt.postMessage({sourceName:dt,targetName:ft,stream:_e.ERROR,streamId:ct,reason:et(gt)}))},sinkCapability:new o.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:ut.desiredSize,ready:null};vt.sinkCapability.resolve(),vt.ready=vt.sinkCapability.promise,this.streamSinks[ct]=vt,new Promise(function(gt){gt(pt(ut.data,vt))}).then(function(){lt.postMessage({sourceName:dt,targetName:ft,stream:_e.START_COMPLETE,streamId:ct,success:!0})},function(gt){lt.postMessage({sourceName:dt,targetName:ft,stream:_e.START_COMPLETE,streamId:ct,reason:et(gt)})})},mE=function(ut){const ct=ut.streamId,dt=this.sourceName,ft=ut.sourceName,lt=this.comObj,ht=this.streamControllers[ct],pt=this.streamSinks[ct];switch(ut.stream){case _e.START_COMPLETE:ut.success?ht.startCall.resolve():ht.startCall.reject(et(ut.reason));break;case _e.PULL_COMPLETE:ut.success?ht.pullCall.resolve():ht.pullCall.reject(et(ut.reason));break;case _e.PULL:if(!pt){lt.postMessage({sourceName:dt,targetName:ft,stream:_e.PULL_COMPLETE,streamId:ct,success:!0});break}pt.desiredSize<=0&&ut.desiredSize>0&&pt.sinkCapability.resolve(),pt.desiredSize=ut.desiredSize,new Promise(function(vt){var gt;vt((gt=pt.onPull)==null?void 0:gt.call(pt))}).then(function(){lt.postMessage({sourceName:dt,targetName:ft,stream:_e.PULL_COMPLETE,streamId:ct,success:!0})},function(vt){lt.postMessage({sourceName:dt,targetName:ft,stream:_e.PULL_COMPLETE,streamId:ct,reason:et(vt)})});break;case _e.ENQUEUE:if((0,o.assert)(ht,"enqueue should have stream controller"),ht.isClosed)break;ht.controller.enqueue(ut.chunk);break;case _e.CLOSE:if((0,o.assert)(ht,"close should have stream controller"),ht.isClosed)break;ht.isClosed=!0,ht.controller.close(),yt(this,it,Y0).call(this,ht,ct);break;case _e.ERROR:(0,o.assert)(ht,"error should have stream controller"),ht.controller.error(et(ut.reason)),yt(this,it,Y0).call(this,ht,ct);break;case _e.CANCEL_COMPLETE:ut.success?ht.cancelCall.resolve():ht.cancelCall.reject(et(ut.reason)),yt(this,it,Y0).call(this,ht,ct);break;case _e.CANCEL:if(!pt)break;new Promise(function(vt){var gt;vt((gt=pt.onCancel)==null?void 0:gt.call(pt,et(ut.reason)))}).then(function(){lt.postMessage({sourceName:dt,targetName:ft,stream:_e.CANCEL_COMPLETE,streamId:ct,success:!0})},function(vt){lt.postMessage({sourceName:dt,targetName:ft,stream:_e.CANCEL_COMPLETE,streamId:ct,reason:et(vt)})}),pt.sinkCapability.reject(et(ut.reason)),pt.isCancelled=!0,delete this.streamSinks[ct];break;default:throw new Error("Unexpected stream case")}},Y0=async function(ut,ct){var dt,ft,lt;await Promise.allSettled([(dt=ut.startCall)==null?void 0:dt.promise,(ft=ut.pullCall)==null?void 0:ft.promise,(lt=ut.cancelCall)==null?void 0:lt.promise]),delete this.streamControllers[ct]},i.MessageHandler=nt},(a,i,s)=>{var _e,et;Object.defineProperty(i,"__esModule",{value:!0}),i.Metadata=void 0;var o=s(1);class j{constructor({parsedData:it,rawData:rt}){At(this,_e);At(this,et);xt(this,_e,it),xt(this,et,rt)}getRaw(){return tt(this,et)}get(it){return tt(this,_e).get(it)??null}getAll(){return(0,o.objectFromMap)(tt(this,_e))}has(it){return tt(this,_e).has(it)}}_e=new WeakMap,et=new WeakMap,i.Metadata=j},(a,i,s)=>{var it,rt,st,at,ot,ut,w_;Object.defineProperty(i,"__esModule",{value:!0}),i.OptionalContentConfig=void 0;var o=s(1),j=s(8);const _e=Symbol("INTERNAL");class et{constructor(ft,lt){At(this,it,!0);this.name=ft,this.intent=lt}get visible(){return tt(this,it)}_setVisible(ft,lt){ft!==_e&&(0,o.unreachable)("Internal method `_setVisible` called."),xt(this,it,lt)}}it=new WeakMap;class nt{constructor(ft){At(this,ut);At(this,rt,null);At(this,st,new Map);At(this,at,null);At(this,ot,null);if(this.name=null,this.creator=null,ft!==null){this.name=ft.name,this.creator=ft.creator,xt(this,ot,ft.order);for(const lt of ft.groups)tt(this,st).set(lt.id,new et(lt.name,lt.intent));if(ft.baseState==="OFF")for(const lt of tt(this,st).values())lt._setVisible(_e,!1);for(const lt of ft.on)tt(this,st).get(lt)._setVisible(_e,!0);for(const lt of ft.off)tt(this,st).get(lt)._setVisible(_e,!1);xt(this,at,this.getHash())}}isVisible(ft){if(tt(this,st).size===0)return!0;if(!ft)return(0,o.warn)("Optional content group not defined."),!0;if(ft.type==="OCG")return tt(this,st).has(ft.id)?tt(this,st).get(ft.id).visible:((0,o.warn)(`Optional content group not found: ${ft.id}`),!0);if(ft.type==="OCMD"){if(ft.expression)return yt(this,ut,w_).call(this,ft.expression);if(!ft.policy||ft.policy==="AnyOn"){for(const lt of ft.ids){if(!tt(this,st).has(lt))return(0,o.warn)(`Optional content group not found: ${lt}`),!0;if(tt(this,st).get(lt).visible)return!0}return!1}else if(ft.policy==="AllOn"){for(const lt of ft.ids){if(!tt(this,st).has(lt))return(0,o.warn)(`Optional content group not found: ${lt}`),!0;if(!tt(this,st).get(lt).visible)return!1}return!0}else if(ft.policy==="AnyOff"){for(const lt of ft.ids){if(!tt(this,st).has(lt))return(0,o.warn)(`Optional content group not found: ${lt}`),!0;if(!tt(this,st).get(lt).visible)return!0}return!1}else if(ft.policy==="AllOff"){for(const lt of ft.ids){if(!tt(this,st).has(lt))return(0,o.warn)(`Optional content group not found: ${lt}`),!0;if(tt(this,st).get(lt).visible)return!1}return!0}return(0,o.warn)(`Unknown optional content policy ${ft.policy}.`),!0}return(0,o.warn)(`Unknown group type ${ft.type}.`),!0}setVisibility(ft,lt=!0){if(!tt(this,st).has(ft)){(0,o.warn)(`Optional content group not found: ${ft}`);return}tt(this,st).get(ft)._setVisible(_e,!!lt),xt(this,rt,null)}get hasInitialVisibility(){return tt(this,at)===null||this.getHash()===tt(this,at)}getOrder(){return tt(this,st).size?tt(this,ot)?tt(this,ot).slice():[...tt(this,st).keys()]:null}getGroups(){return tt(this,st).size>0?(0,o.objectFromMap)(tt(this,st)):null}getGroup(ft){return tt(this,st).get(ft)||null}getHash(){if(tt(this,rt)!==null)return tt(this,rt);const ft=new j.MurmurHash3_64;for(const[lt,ht]of tt(this,st))ft.update(`${lt}:${ht.visible}`);return xt(this,rt,ft.hexdigest())}}rt=new WeakMap,st=new WeakMap,at=new WeakMap,ot=new WeakMap,ut=new WeakSet,w_=function(ft){const lt=ft.length;if(lt<2)return!0;const ht=ft[0];for(let pt=1;pt<lt;pt++){const vt=ft[pt];let gt;if(Array.isArray(vt))gt=yt(this,ut,w_).call(this,vt);else if(tt(this,st).has(vt))gt=tt(this,st).get(vt).visible;else return(0,o.warn)(`Optional content group not found: ${vt}`),!0;switch(ht){case"And":if(!gt)return!1;break;case"Or":if(gt)return!0;break;case"Not":return!gt;default:return!0}}return ht==="And"},i.OptionalContentConfig=nt},(a,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFDataTransportStream=void 0;var o=s(1),j=s(6);class _e{constructor({length:rt,initialData:st,progressiveDone:at=!1,contentDispositionFilename:ot=null,disableRange:ut=!1,disableStream:ct=!1},dt){if((0,o.assert)(dt,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=at,this._contentDispositionFilename=ot,(st==null?void 0:st.length)>0){const ft=st instanceof Uint8Array&&st.byteLength===st.buffer.byteLength?st.buffer:new Uint8Array(st).buffer;this._queuedChunks.push(ft)}this._pdfDataRangeTransport=dt,this._isStreamingSupported=!ct,this._isRangeSupported=!ut,this._contentLength=rt,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((ft,lt)=>{this._onReceiveData({begin:ft,chunk:lt})}),this._pdfDataRangeTransport.addProgressListener((ft,lt)=>{this._onProgress({loaded:ft,total:lt})}),this._pdfDataRangeTransport.addProgressiveReadListener(ft=>{this._onReceiveData({chunk:ft})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:rt,chunk:st}){const at=st instanceof Uint8Array&&st.byteLength===st.buffer.byteLength?st.buffer:new Uint8Array(st).buffer;if(rt===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(at):this._queuedChunks.push(at);else{const ot=this._rangeReaders.some(function(ut){return ut._begin!==rt?!1:(ut._enqueue(at),!0)});(0,o.assert)(ot,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var rt;return((rt=this._fullRequestReader)==null?void 0:rt._loaded)??0}_onProgress(rt){var st,at,ot,ut;rt.total===void 0?(at=(st=this._rangeReaders[0])==null?void 0:st.onProgress)==null||at.call(st,{loaded:rt.loaded}):(ut=(ot=this._fullRequestReader)==null?void 0:ot.onProgress)==null||ut.call(ot,{loaded:rt.loaded,total:rt.total})}_onProgressiveDone(){var rt;(rt=this._fullRequestReader)==null||rt.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(rt){const st=this._rangeReaders.indexOf(rt);st>=0&&this._rangeReaders.splice(st,1)}getFullReader(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const rt=this._queuedChunks;return this._queuedChunks=null,new et(this,rt,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(rt,st){if(st<=this._progressiveDataLength)return null;const at=new nt(this,rt,st);return this._pdfDataRangeTransport.requestDataRange(rt,st),this._rangeReaders.push(at),at}cancelAllRequests(rt){var st;(st=this._fullRequestReader)==null||st.cancel(rt);for(const at of this._rangeReaders.slice(0))at.cancel(rt);this._pdfDataRangeTransport.abort()}}i.PDFDataTransportStream=_e;class et{constructor(rt,st,at=!1,ot=null){this._stream=rt,this._done=at||!1,this._filename=(0,j.isPdfFile)(ot)?ot:null,this._queuedChunks=st||[],this._loaded=0;for(const ut of this._queuedChunks)this._loaded+=ut.byteLength;this._requests=[],this._headersReady=Promise.resolve(),rt._fullRequestReader=this,this.onProgress=null}_enqueue(rt){this._done||(this._requests.length>0?this._requests.shift().resolve({value:rt,done:!1}):this._queuedChunks.push(rt),this._loaded+=rt.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const rt=new o.PromiseCapability;return this._requests.push(rt),rt.promise}cancel(rt){this._done=!0;for(const st of this._requests)st.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class nt{constructor(rt,st,at){this._stream=rt,this._begin=st,this._end=at,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(rt){if(!this._done){if(this._requests.length===0)this._queuedChunk=rt;else{this._requests.shift().resolve({value:rt,done:!1});for(const at of this._requests)at.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const st=this._queuedChunk;return this._queuedChunk=null,{value:st,done:!1}}if(this._done)return{value:void 0,done:!0};const rt=new o.PromiseCapability;return this._requests.push(rt),rt.promise}cancel(rt){this._done=!0;for(const st of this._requests)st.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(a,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFFetchStream=void 0;var o=s(1),j=s(20);function _e(at,ot,ut){return{method:"GET",headers:at,signal:ut.signal,mode:"cors",credentials:ot?"include":"same-origin",redirect:"follow"}}function et(at){const ot=new Headers;for(const ut in at){const ct=at[ut];ct!==void 0&&ot.append(ut,ct)}return ot}function nt(at){return at instanceof Uint8Array?at.buffer:at instanceof ArrayBuffer?at:((0,o.warn)(`getArrayBuffer - unexpected data format: ${at}`),new Uint8Array(at).buffer)}class it{constructor(ot){this.source=ot,this.isHttp=/^https?:/i.test(ot.url),this.httpHeaders=this.isHttp&&ot.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var ot;return((ot=this._fullRequestReader)==null?void 0:ot._loaded)??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new rt(this),this._fullRequestReader}getRangeReader(ot,ut){if(ut<=this._progressiveDataLength)return null;const ct=new st(this,ot,ut);return this._rangeRequestReaders.push(ct),ct}cancelAllRequests(ot){var ut;(ut=this._fullRequestReader)==null||ut.cancel(ot);for(const ct of this._rangeRequestReaders.slice(0))ct.cancel(ot)}}i.PDFFetchStream=it;class rt{constructor(ot){this._stream=ot,this._reader=null,this._loaded=0,this._filename=null;const ut=ot.source;this._withCredentials=ut.withCredentials||!1,this._contentLength=ut.length,this._headersCapability=new o.PromiseCapability,this._disableRange=ut.disableRange||!1,this._rangeChunkSize=ut.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!ut.disableStream,this._isRangeSupported=!ut.disableRange,this._headers=et(this._stream.httpHeaders);const ct=ut.url;fetch(ct,_e(this._headers,this._withCredentials,this._abortController)).then(dt=>{if(!(0,j.validateResponseStatus)(dt.status))throw(0,j.createResponseStatusError)(dt.status,ct);this._reader=dt.body.getReader(),this._headersCapability.resolve();const ft=pt=>dt.headers.get(pt),{allowRangeRequests:lt,suggestedLength:ht}=(0,j.validateRangeRequestCapabilities)({getResponseHeader:ft,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=lt,this._contentLength=ht||this._contentLength,this._filename=(0,j.extractFilenameFromHeader)(ft),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new o.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ct;await this._headersCapability.promise;const{value:ot,done:ut}=await this._reader.read();return ut?{value:ot,done:ut}:(this._loaded+=ot.byteLength,(ct=this.onProgress)==null||ct.call(this,{loaded:this._loaded,total:this._contentLength}),{value:nt(ot),done:!1})}cancel(ot){var ut;(ut=this._reader)==null||ut.cancel(ot),this._abortController.abort()}}class st{constructor(ot,ut,ct){this._stream=ot,this._reader=null,this._loaded=0;const dt=ot.source;this._withCredentials=dt.withCredentials||!1,this._readCapability=new o.PromiseCapability,this._isStreamingSupported=!dt.disableStream,this._abortController=new AbortController,this._headers=et(this._stream.httpHeaders),this._headers.append("Range",`bytes=${ut}-${ct-1}`);const ft=dt.url;fetch(ft,_e(this._headers,this._withCredentials,this._abortController)).then(lt=>{if(!(0,j.validateResponseStatus)(lt.status))throw(0,j.createResponseStatusError)(lt.status,ft);this._readCapability.resolve(),this._reader=lt.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ct;await this._readCapability.promise;const{value:ot,done:ut}=await this._reader.read();return ut?{value:ot,done:ut}:(this._loaded+=ot.byteLength,(ct=this.onProgress)==null||ct.call(this,{loaded:this._loaded}),{value:nt(ot),done:!1})}cancel(ot){var ut;(ut=this._reader)==null||ut.cancel(ot),this._abortController.abort()}}},(a,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createResponseStatusError=it,i.extractFilenameFromHeader=nt,i.validateRangeRequestCapabilities=et,i.validateResponseStatus=rt;var o=s(1),j=s(21),_e=s(6);function et({getResponseHeader:st,isHttp:at,rangeChunkSize:ot,disableRange:ut}){const ct={allowRangeRequests:!1,suggestedLength:void 0},dt=parseInt(st("Content-Length"),10);return!Number.isInteger(dt)||(ct.suggestedLength=dt,dt<=2*ot)||ut||!at||st("Accept-Ranges")!=="bytes"||(st("Content-Encoding")||"identity")!=="identity"||(ct.allowRangeRequests=!0),ct}function nt(st){const at=st("Content-Disposition");if(at){let ot=(0,j.getFilenameFromContentDispositionHeader)(at);if(ot.includes("%"))try{ot=decodeURIComponent(ot)}catch{}if((0,_e.isPdfFile)(ot))return ot}return null}function it(st,at){return st===404||st===0&&at.startsWith("file:")?new o.MissingPDFException('Missing PDF "'+at+'".'):new o.UnexpectedResponseException(`Unexpected server response (${st}) while retrieving PDF "${at}".`,st)}function rt(st){return st===200||st===206}},(a,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getFilenameFromContentDispositionHeader=j;var o=s(1);function j(_e){let et=!0,nt=it("filename\\*","i").exec(_e);if(nt){nt=nt[1];let dt=ot(nt);return dt=unescape(dt),dt=ut(dt),dt=ct(dt),st(dt)}if(nt=at(_e),nt){const dt=ct(nt);return st(dt)}if(nt=it("filename","i").exec(_e),nt){nt=nt[1];let dt=ot(nt);return dt=ct(dt),st(dt)}function it(dt,ft){return new RegExp("(?:^|;)\\s*"+dt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',ft)}function rt(dt,ft){if(dt){if(!/^[\x00-\xFF]+$/.test(ft))return ft;try{const lt=new TextDecoder(dt,{fatal:!0}),ht=(0,o.stringToBytes)(ft);ft=lt.decode(ht),et=!1}catch{}}return ft}function st(dt){return et&&/[\x80-\xff]/.test(dt)&&(dt=rt("utf-8",dt),et&&(dt=rt("iso-8859-1",dt))),dt}function at(dt){const ft=[];let lt;const ht=it("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(lt=ht.exec(dt))!==null;){let[,vt,gt,_t]=lt;if(vt=parseInt(vt,10),vt in ft){if(vt===0)break;continue}ft[vt]=[gt,_t]}const pt=[];for(let vt=0;vt<ft.length&&vt in ft;++vt){let[gt,_t]=ft[vt];_t=ot(_t),gt&&(_t=unescape(_t),vt===0&&(_t=ut(_t))),pt.push(_t)}return pt.join("")}function ot(dt){if(dt.startsWith('"')){const ft=dt.slice(1).split('\\"');for(let lt=0;lt<ft.length;++lt){const ht=ft[lt].indexOf('"');ht!==-1&&(ft[lt]=ft[lt].slice(0,ht),ft.length=lt+1),ft[lt]=ft[lt].replaceAll(/\\(.)/g,"$1")}dt=ft.join('"')}return dt}function ut(dt){const ft=dt.indexOf("'");if(ft===-1)return dt;const lt=dt.slice(0,ft),pt=dt.slice(ft+1).replace(/^[^']*'/,"");return rt(lt,pt)}function ct(dt){return!dt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(dt)?dt:dt.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(ft,lt,ht,pt){if(ht==="q"||ht==="Q")return pt=pt.replaceAll("_"," "),pt=pt.replaceAll(/=([0-9a-fA-F]{2})/g,function(vt,gt){return String.fromCharCode(parseInt(gt,16))}),rt(lt,pt);try{pt=atob(pt)}catch{}return rt(lt,pt)})}return""}},(a,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNetworkStream=void 0;var o=s(1),j=s(20);const _e=200,et=206;function nt(ot){const ut=ot.response;return typeof ut!="string"?ut:(0,o.stringToBytes)(ut).buffer}class it{constructor(ut,ct={}){this.url=ut,this.isHttp=/^https?:/i.test(ut),this.httpHeaders=this.isHttp&&ct.httpHeaders||Object.create(null),this.withCredentials=ct.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(ut,ct,dt){const ft={begin:ut,end:ct};for(const lt in dt)ft[lt]=dt[lt];return this.request(ft)}requestFull(ut){return this.request(ut)}request(ut){const ct=new XMLHttpRequest,dt=this.currXhrId++,ft=this.pendingRequests[dt]={xhr:ct};ct.open("GET",this.url),ct.withCredentials=this.withCredentials;for(const lt in this.httpHeaders){const ht=this.httpHeaders[lt];ht!==void 0&&ct.setRequestHeader(lt,ht)}return this.isHttp&&"begin"in ut&&"end"in ut?(ct.setRequestHeader("Range",`bytes=${ut.begin}-${ut.end-1}`),ft.expectedStatus=et):ft.expectedStatus=_e,ct.responseType="arraybuffer",ut.onError&&(ct.onerror=function(lt){ut.onError(ct.status)}),ct.onreadystatechange=this.onStateChange.bind(this,dt),ct.onprogress=this.onProgress.bind(this,dt),ft.onHeadersReceived=ut.onHeadersReceived,ft.onDone=ut.onDone,ft.onError=ut.onError,ft.onProgress=ut.onProgress,ct.send(null),dt}onProgress(ut,ct){var ft;const dt=this.pendingRequests[ut];dt&&((ft=dt.onProgress)==null||ft.call(dt,ct))}onStateChange(ut,ct){var vt,gt,_t;const dt=this.pendingRequests[ut];if(!dt)return;const ft=dt.xhr;if(ft.readyState>=2&&dt.onHeadersReceived&&(dt.onHeadersReceived(),delete dt.onHeadersReceived),ft.readyState!==4||!(ut in this.pendingRequests))return;if(delete this.pendingRequests[ut],ft.status===0&&this.isHttp){(vt=dt.onError)==null||vt.call(dt,ft.status);return}const lt=ft.status||_e;if(!(lt===_e&&dt.expectedStatus===et)&&lt!==dt.expectedStatus){(gt=dt.onError)==null||gt.call(dt,ft.status);return}const pt=nt(ft);if(lt===et){const mt=ft.getResponseHeader("Content-Range"),bt=/bytes (\d+)-(\d+)\/(\d+)/.exec(mt);dt.onDone({begin:parseInt(bt[1],10),chunk:pt})}else pt?dt.onDone({begin:0,chunk:pt}):(_t=dt.onError)==null||_t.call(dt,ft.status)}getRequestXhr(ut){return this.pendingRequests[ut].xhr}isPendingRequest(ut){return ut in this.pendingRequests}abortRequest(ut){const ct=this.pendingRequests[ut].xhr;delete this.pendingRequests[ut],ct.abort()}}class rt{constructor(ut){this._source=ut,this._manager=new it(ut.url,{httpHeaders:ut.httpHeaders,withCredentials:ut.withCredentials}),this._rangeChunkSize=ut.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(ut){const ct=this._rangeRequestReaders.indexOf(ut);ct>=0&&this._rangeRequestReaders.splice(ct,1)}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new st(this._manager,this._source),this._fullRequestReader}getRangeReader(ut,ct){const dt=new at(this._manager,ut,ct);return dt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(dt),dt}cancelAllRequests(ut){var ct;(ct=this._fullRequestReader)==null||ct.cancel(ut);for(const dt of this._rangeRequestReaders.slice(0))dt.cancel(ut)}}i.PDFNetworkStream=rt;class st{constructor(ut,ct){this._manager=ut;const dt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ct.url,this._fullRequestId=ut.requestFull(dt),this._headersReceivedCapability=new o.PromiseCapability,this._disableRange=ct.disableRange||!1,this._contentLength=ct.length,this._rangeChunkSize=ct.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const ut=this._fullRequestId,ct=this._manager.getRequestXhr(ut),dt=ht=>ct.getResponseHeader(ht),{allowRangeRequests:ft,suggestedLength:lt}=(0,j.validateRangeRequestCapabilities)({getResponseHeader:dt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});ft&&(this._isRangeSupported=!0),this._contentLength=lt||this._contentLength,this._filename=(0,j.extractFilenameFromHeader)(dt),this._isRangeSupported&&this._manager.abortRequest(ut),this._headersReceivedCapability.resolve()}_onDone(ut){if(ut&&(this._requests.length>0?this._requests.shift().resolve({value:ut.chunk,done:!1}):this._cachedChunks.push(ut.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const ct of this._requests)ct.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(ut){this._storedError=(0,j.createResponseStatusError)(ut,this._url),this._headersReceivedCapability.reject(this._storedError);for(const ct of this._requests)ct.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(ut){var ct;(ct=this.onProgress)==null||ct.call(this,{loaded:ut.loaded,total:ut.lengthComputable?ut.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const ut=new o.PromiseCapability;return this._requests.push(ut),ut.promise}cancel(ut){this._done=!0,this._headersReceivedCapability.reject(ut);for(const ct of this._requests)ct.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class at{constructor(ut,ct,dt){this._manager=ut;const ft={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ut.url,this._requestId=ut.requestRange(ct,dt,ft),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var ut;(ut=this.onClosed)==null||ut.call(this,this)}_onDone(ut){const ct=ut.chunk;this._requests.length>0?this._requests.shift().resolve({value:ct,done:!1}):this._queuedChunk=ct,this._done=!0;for(const dt of this._requests)dt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(ut){this._storedError=(0,j.createResponseStatusError)(ut,this._url);for(const ct of this._requests)ct.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(ut){var ct;this.isStreamingSupported||(ct=this.onProgress)==null||ct.call(this,{loaded:ut.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const ct=this._queuedChunk;return this._queuedChunk=null,{value:ct,done:!1}}if(this._done)return{value:void 0,done:!0};const ut=new o.PromiseCapability;return this._requests.push(ut),ut.promise}cancel(ut){this._done=!0;for(const ct of this._requests)ct.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(a,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNodeStream=void 0;var o=s(1),j=s(20);const _e=/^file:\/\/\/[a-zA-Z]:\//;function et(dt){const ft=require$$5,lt=ft.parse(dt);return lt.protocol==="file:"||lt.host?lt:/^[a-z]:[/\\]/i.test(dt)?ft.parse(`file:///${dt}`):(lt.host||(lt.protocol="file:"),lt)}class nt{constructor(ft){this.source=ft,this.url=et(ft.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&ft.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var ft;return((ft=this._fullRequestReader)==null?void 0:ft._loaded)??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new ut(this):new at(this),this._fullRequestReader}getRangeReader(ft,lt){if(lt<=this._progressiveDataLength)return null;const ht=this.isFsUrl?new ct(this,ft,lt):new ot(this,ft,lt);return this._rangeRequestReaders.push(ht),ht}cancelAllRequests(ft){var lt;(lt=this._fullRequestReader)==null||lt.cancel(ft);for(const ht of this._rangeRequestReaders.slice(0))ht.cancel(ft)}}i.PDFNodeStream=nt;class it{constructor(ft){this._url=ft.url,this._done=!1,this._storedError=null,this.onProgress=null;const lt=ft.source;this._contentLength=lt.length,this._loaded=0,this._filename=null,this._disableRange=lt.disableRange||!1,this._rangeChunkSize=lt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!lt.disableStream,this._isRangeSupported=!lt.disableRange,this._readableStream=null,this._readCapability=new o.PromiseCapability,this._headersCapability=new o.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ht;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const ft=this._readableStream.read();return ft===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=ft.length,(ht=this.onProgress)==null||ht.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(ft).buffer,done:!1})}cancel(ft){if(!this._readableStream){this._error(ft);return}this._readableStream.destroy(ft)}_error(ft){this._storedError=ft,this._readCapability.resolve()}_setReadableStream(ft){this._readableStream=ft,ft.on("readable",()=>{this._readCapability.resolve()}),ft.on("end",()=>{ft.destroy(),this._done=!0,this._readCapability.resolve()}),ft.on("error",lt=>{this._error(lt)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new o.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class rt{constructor(ft){this._url=ft.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new o.PromiseCapability;const lt=ft.source;this._isStreamingSupported=!lt.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ht;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const ft=this._readableStream.read();return ft===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=ft.length,(ht=this.onProgress)==null||ht.call(this,{loaded:this._loaded}),{value:new Uint8Array(ft).buffer,done:!1})}cancel(ft){if(!this._readableStream){this._error(ft);return}this._readableStream.destroy(ft)}_error(ft){this._storedError=ft,this._readCapability.resolve()}_setReadableStream(ft){this._readableStream=ft,ft.on("readable",()=>{this._readCapability.resolve()}),ft.on("end",()=>{ft.destroy(),this._done=!0,this._readCapability.resolve()}),ft.on("error",lt=>{this._error(lt)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function st(dt,ft){return{protocol:dt.protocol,auth:dt.auth,host:dt.hostname,port:dt.port,path:dt.path,method:"GET",headers:ft}}class at extends it{constructor(ft){super(ft);const lt=ht=>{if(ht.statusCode===404){const _t=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=_t,this._headersCapability.reject(_t);return}this._headersCapability.resolve(),this._setReadableStream(ht);const pt=_t=>this._readableStream.headers[_t.toLowerCase()],{allowRangeRequests:vt,suggestedLength:gt}=(0,j.validateRangeRequestCapabilities)({getResponseHeader:pt,isHttp:ft.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=vt,this._contentLength=gt||this._contentLength,this._filename=(0,j.extractFilenameFromHeader)(pt)};if(this._request=null,this._url.protocol==="http:"){const ht=require$$5;this._request=ht.request(st(this._url,ft.httpHeaders),lt)}else{const ht=require$$5;this._request=ht.request(st(this._url,ft.httpHeaders),lt)}this._request.on("error",ht=>{this._storedError=ht,this._headersCapability.reject(ht)}),this._request.end()}}class ot extends rt{constructor(ft,lt,ht){super(ft),this._httpHeaders={};for(const vt in ft.httpHeaders){const gt=ft.httpHeaders[vt];gt!==void 0&&(this._httpHeaders[vt]=gt)}this._httpHeaders.Range=`bytes=${lt}-${ht-1}`;const pt=vt=>{if(vt.statusCode===404){const gt=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=gt;return}this._setReadableStream(vt)};if(this._request=null,this._url.protocol==="http:"){const vt=require$$5;this._request=vt.request(st(this._url,this._httpHeaders),pt)}else{const vt=require$$5;this._request=vt.request(st(this._url,this._httpHeaders),pt)}this._request.on("error",vt=>{this._storedError=vt}),this._request.end()}}class ut extends it{constructor(ft){super(ft);let lt=decodeURIComponent(this._url.path);_e.test(this._url.href)&&(lt=lt.replace(/^\//,""));const ht=require$$5;ht.lstat(lt,(pt,vt)=>{if(pt){pt.code==="ENOENT"&&(pt=new o.MissingPDFException(`Missing PDF "${lt}".`)),this._storedError=pt,this._headersCapability.reject(pt);return}this._contentLength=vt.size,this._setReadableStream(ht.createReadStream(lt)),this._headersCapability.resolve()})}}class ct extends rt{constructor(ft,lt,ht){super(ft);let pt=decodeURIComponent(this._url.path);_e.test(this._url.href)&&(pt=pt.replace(/^\//,""));const vt=require$$5;this._setReadableStream(vt.createReadStream(pt,{start:lt,end:ht-1}))}}},(a,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SVGGraphics=void 0;var o=s(6),j=s(1);const _e={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},et="http://www.w3.org/XML/1998/namespace",nt="http://www.w3.org/1999/xlink",it=["butt","round","square"],rt=["miter","round","bevel"],st=function(vt,gt="",_t=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!_t)return URL.createObjectURL(new Blob([vt],{type:gt}));const mt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let bt=`data:${gt};base64,`;for(let Ct=0,Pt=vt.length;Ct<Pt;Ct+=3){const St=vt[Ct]&255,Mt=vt[Ct+1]&255,Dt=vt[Ct+2]&255,Qt=St>>2,Xt=(St&3)<<4|Mt>>4,Yt=Ct+1<Pt?(Mt&15)<<2|Dt>>6:64,Ht=Ct+2<Pt?Dt&63:64;bt+=mt[Qt]+mt[Xt]+mt[Yt]+mt[Ht]}return bt},at=function(){const vt=new Uint8Array([137,80,78,71,13,10,26,10]),gt=12,_t=new Int32Array(256);for(let Dt=0;Dt<256;Dt++){let Qt=Dt;for(let Xt=0;Xt<8;Xt++)Qt=Qt&1?3988292384^Qt>>1&2147483647:Qt>>1&2147483647;_t[Dt]=Qt}function mt(Dt,Qt,Xt){let Yt=-1;for(let Ht=Qt;Ht<Xt;Ht++){const Ut=(Yt^Dt[Ht])&255,Lt=_t[Ut];Yt=Yt>>>8^Lt}return Yt^-1}function bt(Dt,Qt,Xt,Yt){let Ht=Yt;const Ut=Qt.length;Xt[Ht]=Ut>>24&255,Xt[Ht+1]=Ut>>16&255,Xt[Ht+2]=Ut>>8&255,Xt[Ht+3]=Ut&255,Ht+=4,Xt[Ht]=Dt.charCodeAt(0)&255,Xt[Ht+1]=Dt.charCodeAt(1)&255,Xt[Ht+2]=Dt.charCodeAt(2)&255,Xt[Ht+3]=Dt.charCodeAt(3)&255,Ht+=4,Xt.set(Qt,Ht),Ht+=Qt.length;const Lt=mt(Xt,Yt+4,Ht);Xt[Ht]=Lt>>24&255,Xt[Ht+1]=Lt>>16&255,Xt[Ht+2]=Lt>>8&255,Xt[Ht+3]=Lt&255}function Ct(Dt,Qt,Xt){let Yt=1,Ht=0;for(let Ut=Qt;Ut<Xt;++Ut)Yt=(Yt+(Dt[Ut]&255))%65521,Ht=(Ht+Yt)%65521;return Ht<<16|Yt}function Pt(Dt){if(!j.isNodeJS)return St(Dt);try{const Qt=parseInt(process.versions.node)>=8?Dt:Buffer.from(Dt),Xt=require$$5.deflateSync(Qt,{level:9});return Xt instanceof Uint8Array?Xt:new Uint8Array(Xt)}catch(Qt){(0,j.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Qt)}return St(Dt)}function St(Dt){let Qt=Dt.length;const Xt=65535,Yt=Math.ceil(Qt/Xt),Ht=new Uint8Array(2+Qt+Yt*5+4);let Ut=0;Ht[Ut++]=120,Ht[Ut++]=156;let Lt=0;for(;Qt>Xt;)Ht[Ut++]=0,Ht[Ut++]=255,Ht[Ut++]=255,Ht[Ut++]=0,Ht[Ut++]=0,Ht.set(Dt.subarray(Lt,Lt+Xt),Ut),Ut+=Xt,Lt+=Xt,Qt-=Xt;Ht[Ut++]=1,Ht[Ut++]=Qt&255,Ht[Ut++]=Qt>>8&255,Ht[Ut++]=~Qt&65535&255,Ht[Ut++]=(~Qt&65535)>>8&255,Ht.set(Dt.subarray(Lt),Ut),Ut+=Dt.length-Lt;const zt=Ct(Dt,0,Dt.length);return Ht[Ut++]=zt>>24&255,Ht[Ut++]=zt>>16&255,Ht[Ut++]=zt>>8&255,Ht[Ut++]=zt&255,Ht}function Mt(Dt,Qt,Xt,Yt){const Ht=Dt.width,Ut=Dt.height;let Lt,zt,Zt;const Ft=Dt.data;switch(Qt){case j.ImageKind.GRAYSCALE_1BPP:zt=0,Lt=1,Zt=Ht+7>>3;break;case j.ImageKind.RGB_24BPP:zt=2,Lt=8,Zt=Ht*3;break;case j.ImageKind.RGBA_32BPP:zt=6,Lt=8,Zt=Ht*4;break;default:throw new Error("invalid format")}const Et=new Uint8Array((1+Zt)*Ut);let Tt=0,kt=0;for(let vn=0;vn<Ut;++vn)Et[Tt++]=0,Et.set(Ft.subarray(kt,kt+Zt),Tt),kt+=Zt,Tt+=Zt;if(Qt===j.ImageKind.GRAYSCALE_1BPP&&Yt){Tt=0;for(let vn=0;vn<Ut;vn++){Tt++;for(let bn=0;bn<Zt;bn++)Et[Tt++]^=255}}const jt=new Uint8Array([Ht>>24&255,Ht>>16&255,Ht>>8&255,Ht&255,Ut>>24&255,Ut>>16&255,Ut>>8&255,Ut&255,Lt,zt,0,0,0]),Nt=Pt(Et),$t=vt.length+gt*3+jt.length+Nt.length,tn=new Uint8Array($t);let gn=0;return tn.set(vt,gn),gn+=vt.length,bt("IHDR",jt,tn,gn),gn+=gt+jt.length,bt("IDATA",Nt,tn,gn),gn+=gt+Nt.length,bt("IEND",new Uint8Array(0),tn,gn),st(tn,"image/png",Xt)}return function(Qt,Xt,Yt){const Ht=Qt.kind===void 0?j.ImageKind.GRAYSCALE_1BPP:Qt.kind;return Mt(Qt,Ht,Xt,Yt)}}();class ot{constructor(){this.fontSizeScale=1,this.fontWeight=_e.fontWeight,this.fontSize=0,this.textMatrix=j.IDENTITY_MATRIX,this.fontMatrix=j.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=j.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=_e.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(gt,_t){this.x=gt,this.y=_t}}function ut(vt){let gt=[];const _t=[];for(const mt of vt){if(mt.fn==="save"){gt.push({fnId:92,fn:"group",items:[]}),_t.push(gt),gt=gt.at(-1).items;continue}mt.fn==="restore"?gt=_t.pop():gt.push(mt)}return gt}function ct(vt){if(Number.isInteger(vt))return vt.toString();const gt=vt.toFixed(10);let _t=gt.length-1;if(gt[_t]!=="0")return gt;do _t--;while(gt[_t]==="0");return gt.substring(0,gt[_t]==="."?_t:_t+1)}function dt(vt){if(vt[4]===0&&vt[5]===0){if(vt[1]===0&&vt[2]===0)return vt[0]===1&&vt[3]===1?"":`scale(${ct(vt[0])} ${ct(vt[3])})`;if(vt[0]===vt[3]&&vt[1]===-vt[2]){const gt=Math.acos(vt[0])*180/Math.PI;return`rotate(${ct(gt)})`}}else if(vt[0]===1&&vt[1]===0&&vt[2]===0&&vt[3]===1)return`translate(${ct(vt[4])} ${ct(vt[5])})`;return`matrix(${ct(vt[0])} ${ct(vt[1])} ${ct(vt[2])} ${ct(vt[3])} ${ct(vt[4])} ${ct(vt[5])})`}let ft=0,lt=0,ht=0;class pt{constructor(gt,_t,mt=!1){(0,o.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new o.DOMSVGFactory,this.current=new ot,this.transformMatrix=j.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=gt,this.objs=_t,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!mt,this._operatorIdMapping=[];for(const bt in j.OPS)this._operatorIdMapping[j.OPS[bt]]=bt}getObject(gt,_t=null){return typeof gt=="string"?gt.startsWith("g_")?this.commonObjs.get(gt):this.objs.get(gt):_t}save(){this.transformStack.push(this.transformMatrix);const gt=this.current;this.extraStack.push(gt),this.current=gt.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(gt){this.save(),this.executeOpTree(gt),this.restore()}loadDependencies(gt){const _t=gt.fnArray,mt=gt.argsArray;for(let bt=0,Ct=_t.length;bt<Ct;bt++)if(_t[bt]===j.OPS.dependency)for(const Pt of mt[bt]){const St=Pt.startsWith("g_")?this.commonObjs:this.objs,Mt=new Promise(Dt=>{St.get(Pt,Dt)});this.current.dependencies.push(Mt)}return Promise.all(this.current.dependencies)}transform(gt,_t,mt,bt,Ct,Pt){const St=[gt,_t,mt,bt,Ct,Pt];this.transformMatrix=j.Util.transform(this.transformMatrix,St),this.tgrp=null}getSVG(gt,_t){this.viewport=_t;const mt=this._initialize(_t);return this.loadDependencies(gt).then(()=>(this.transformMatrix=j.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(gt)),mt))}convertOpList(gt){const _t=this._operatorIdMapping,mt=gt.argsArray,bt=gt.fnArray,Ct=[];for(let Pt=0,St=bt.length;Pt<St;Pt++){const Mt=bt[Pt];Ct.push({fnId:Mt,fn:_t[Mt],args:mt[Pt]})}return ut(Ct)}executeOpTree(gt){for(const _t of gt){const mt=_t.fn,bt=_t.fnId,Ct=_t.args;switch(bt|0){case j.OPS.beginText:this.beginText();break;case j.OPS.dependency:break;case j.OPS.setLeading:this.setLeading(Ct);break;case j.OPS.setLeadingMoveText:this.setLeadingMoveText(Ct[0],Ct[1]);break;case j.OPS.setFont:this.setFont(Ct);break;case j.OPS.showText:this.showText(Ct[0]);break;case j.OPS.showSpacedText:this.showText(Ct[0]);break;case j.OPS.endText:this.endText();break;case j.OPS.moveText:this.moveText(Ct[0],Ct[1]);break;case j.OPS.setCharSpacing:this.setCharSpacing(Ct[0]);break;case j.OPS.setWordSpacing:this.setWordSpacing(Ct[0]);break;case j.OPS.setHScale:this.setHScale(Ct[0]);break;case j.OPS.setTextMatrix:this.setTextMatrix(Ct[0],Ct[1],Ct[2],Ct[3],Ct[4],Ct[5]);break;case j.OPS.setTextRise:this.setTextRise(Ct[0]);break;case j.OPS.setTextRenderingMode:this.setTextRenderingMode(Ct[0]);break;case j.OPS.setLineWidth:this.setLineWidth(Ct[0]);break;case j.OPS.setLineJoin:this.setLineJoin(Ct[0]);break;case j.OPS.setLineCap:this.setLineCap(Ct[0]);break;case j.OPS.setMiterLimit:this.setMiterLimit(Ct[0]);break;case j.OPS.setFillRGBColor:this.setFillRGBColor(Ct[0],Ct[1],Ct[2]);break;case j.OPS.setStrokeRGBColor:this.setStrokeRGBColor(Ct[0],Ct[1],Ct[2]);break;case j.OPS.setStrokeColorN:this.setStrokeColorN(Ct);break;case j.OPS.setFillColorN:this.setFillColorN(Ct);break;case j.OPS.shadingFill:this.shadingFill(Ct[0]);break;case j.OPS.setDash:this.setDash(Ct[0],Ct[1]);break;case j.OPS.setRenderingIntent:this.setRenderingIntent(Ct[0]);break;case j.OPS.setFlatness:this.setFlatness(Ct[0]);break;case j.OPS.setGState:this.setGState(Ct[0]);break;case j.OPS.fill:this.fill();break;case j.OPS.eoFill:this.eoFill();break;case j.OPS.stroke:this.stroke();break;case j.OPS.fillStroke:this.fillStroke();break;case j.OPS.eoFillStroke:this.eoFillStroke();break;case j.OPS.clip:this.clip("nonzero");break;case j.OPS.eoClip:this.clip("evenodd");break;case j.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case j.OPS.paintImageXObject:this.paintImageXObject(Ct[0]);break;case j.OPS.paintInlineImageXObject:this.paintInlineImageXObject(Ct[0]);break;case j.OPS.paintImageMaskXObject:this.paintImageMaskXObject(Ct[0]);break;case j.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(Ct[0],Ct[1]);break;case j.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case j.OPS.closePath:this.closePath();break;case j.OPS.closeStroke:this.closeStroke();break;case j.OPS.closeFillStroke:this.closeFillStroke();break;case j.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case j.OPS.nextLine:this.nextLine();break;case j.OPS.transform:this.transform(Ct[0],Ct[1],Ct[2],Ct[3],Ct[4],Ct[5]);break;case j.OPS.constructPath:this.constructPath(Ct[0],Ct[1]);break;case j.OPS.endPath:this.endPath();break;case 92:this.group(_t.items);break;default:(0,j.warn)(`Unimplemented operator ${mt}`);break}}}setWordSpacing(gt){this.current.wordSpacing=gt}setCharSpacing(gt){this.current.charSpacing=gt}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(gt,_t,mt,bt,Ct,Pt){const St=this.current;St.textMatrix=St.lineMatrix=[gt,_t,mt,bt,Ct,Pt],St.textMatrixScale=Math.hypot(gt,_t),St.x=St.lineX=0,St.y=St.lineY=0,St.xcoords=[],St.ycoords=[],St.tspan=this.svgFactory.createElement("svg:tspan"),St.tspan.setAttributeNS(null,"font-family",St.fontFamily),St.tspan.setAttributeNS(null,"font-size",`${ct(St.fontSize)}px`),St.tspan.setAttributeNS(null,"y",ct(-St.y)),St.txtElement=this.svgFactory.createElement("svg:text"),St.txtElement.append(St.tspan)}beginText(){const gt=this.current;gt.x=gt.lineX=0,gt.y=gt.lineY=0,gt.textMatrix=j.IDENTITY_MATRIX,gt.lineMatrix=j.IDENTITY_MATRIX,gt.textMatrixScale=1,gt.tspan=this.svgFactory.createElement("svg:tspan"),gt.txtElement=this.svgFactory.createElement("svg:text"),gt.txtgrp=this.svgFactory.createElement("svg:g"),gt.xcoords=[],gt.ycoords=[]}moveText(gt,_t){const mt=this.current;mt.x=mt.lineX+=gt,mt.y=mt.lineY+=_t,mt.xcoords=[],mt.ycoords=[],mt.tspan=this.svgFactory.createElement("svg:tspan"),mt.tspan.setAttributeNS(null,"font-family",mt.fontFamily),mt.tspan.setAttributeNS(null,"font-size",`${ct(mt.fontSize)}px`),mt.tspan.setAttributeNS(null,"y",ct(-mt.y))}showText(gt){const _t=this.current,mt=_t.font,bt=_t.fontSize;if(bt===0)return;const Ct=_t.fontSizeScale,Pt=_t.charSpacing,St=_t.wordSpacing,Mt=_t.fontDirection,Dt=_t.textHScale*Mt,Qt=mt.vertical,Xt=Qt?1:-1,Yt=mt.defaultVMetrics,Ht=bt*_t.fontMatrix[0];let Ut=0;for(const Zt of gt){if(Zt===null){Ut+=Mt*St;continue}else if(typeof Zt=="number"){Ut+=Xt*Zt*bt/1e3;continue}const Ft=(Zt.isSpace?St:0)+Pt,Et=Zt.fontChar;let Tt,kt,jt=Zt.width;if(Qt){let $t;const tn=Zt.vmetric||Yt;$t=Zt.vmetric?tn[1]:jt*.5,$t=-$t*Ht;const gn=tn[2]*Ht;jt=tn?-tn[0]:jt,Tt=$t/Ct,kt=(Ut+gn)/Ct}else Tt=Ut/Ct,kt=0;(Zt.isInFont||mt.missingFile)&&(_t.xcoords.push(_t.x+Tt),Qt&&_t.ycoords.push(-_t.y+kt),_t.tspan.textContent+=Et);const Nt=Qt?jt*Ht-Ft*Mt:jt*Ht+Ft*Mt;Ut+=Nt}_t.tspan.setAttributeNS(null,"x",_t.xcoords.map(ct).join(" ")),Qt?_t.tspan.setAttributeNS(null,"y",_t.ycoords.map(ct).join(" ")):_t.tspan.setAttributeNS(null,"y",ct(-_t.y)),Qt?_t.y-=Ut:_t.x+=Ut*Dt,_t.tspan.setAttributeNS(null,"font-family",_t.fontFamily),_t.tspan.setAttributeNS(null,"font-size",`${ct(_t.fontSize)}px`),_t.fontStyle!==_e.fontStyle&&_t.tspan.setAttributeNS(null,"font-style",_t.fontStyle),_t.fontWeight!==_e.fontWeight&&_t.tspan.setAttributeNS(null,"font-weight",_t.fontWeight);const Lt=_t.textRenderingMode&j.TextRenderingMode.FILL_STROKE_MASK;if(Lt===j.TextRenderingMode.FILL||Lt===j.TextRenderingMode.FILL_STROKE?(_t.fillColor!==_e.fillColor&&_t.tspan.setAttributeNS(null,"fill",_t.fillColor),_t.fillAlpha<1&&_t.tspan.setAttributeNS(null,"fill-opacity",_t.fillAlpha)):_t.textRenderingMode===j.TextRenderingMode.ADD_TO_PATH?_t.tspan.setAttributeNS(null,"fill","transparent"):_t.tspan.setAttributeNS(null,"fill","none"),Lt===j.TextRenderingMode.STROKE||Lt===j.TextRenderingMode.FILL_STROKE){const Zt=1/(_t.textMatrixScale||1);this._setStrokeAttributes(_t.tspan,Zt)}let zt=_t.textMatrix;_t.textRise!==0&&(zt=zt.slice(),zt[5]+=_t.textRise),_t.txtElement.setAttributeNS(null,"transform",`${dt(zt)} scale(${ct(Dt)}, -1)`),_t.txtElement.setAttributeNS(et,"xml:space","preserve"),_t.txtElement.append(_t.tspan),_t.txtgrp.append(_t.txtElement),this._ensureTransformGroup().append(_t.txtElement)}setLeadingMoveText(gt,_t){this.setLeading(-_t),this.moveText(gt,_t)}addFontStyle(gt){if(!gt.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const _t=st(gt.data,gt.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${gt.loadedName}"; src: url(${_t}); }
`}setFont(gt){const _t=this.current,mt=this.commonObjs.get(gt[0]);let bt=gt[1];_t.font=mt,this.embedFonts&&!mt.missingFile&&!this.embeddedFonts[mt.loadedName]&&(this.addFontStyle(mt),this.embeddedFonts[mt.loadedName]=mt),_t.fontMatrix=mt.fontMatrix||j.FONT_IDENTITY_MATRIX;let Ct="normal";mt.black?Ct="900":mt.bold&&(Ct="bold");const Pt=mt.italic?"italic":"normal";bt<0?(bt=-bt,_t.fontDirection=-1):_t.fontDirection=1,_t.fontSize=bt,_t.fontFamily=mt.loadedName,_t.fontWeight=Ct,_t.fontStyle=Pt,_t.tspan=this.svgFactory.createElement("svg:tspan"),_t.tspan.setAttributeNS(null,"y",ct(-_t.y)),_t.xcoords=[],_t.ycoords=[]}endText(){var _t;const gt=this.current;gt.textRenderingMode&j.TextRenderingMode.ADD_TO_PATH_FLAG&&((_t=gt.txtElement)!=null&&_t.hasChildNodes())&&(gt.element=gt.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(gt){gt>0&&(this.current.lineWidth=gt)}setLineCap(gt){this.current.lineCap=it[gt]}setLineJoin(gt){this.current.lineJoin=rt[gt]}setMiterLimit(gt){this.current.miterLimit=gt}setStrokeAlpha(gt){this.current.strokeAlpha=gt}setStrokeRGBColor(gt,_t,mt){this.current.strokeColor=j.Util.makeHexColor(gt,_t,mt)}setFillAlpha(gt){this.current.fillAlpha=gt}setFillRGBColor(gt,_t,mt){this.current.fillColor=j.Util.makeHexColor(gt,_t,mt),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(gt){this.current.strokeColor=this._makeColorN_Pattern(gt)}setFillColorN(gt){this.current.fillColor=this._makeColorN_Pattern(gt)}shadingFill(gt){const{width:_t,height:mt}=this.viewport,bt=j.Util.inverseTransform(this.transformMatrix),[Ct,Pt,St,Mt]=j.Util.getAxialAlignedBoundingBox([0,0,_t,mt],bt),Dt=this.svgFactory.createElement("svg:rect");Dt.setAttributeNS(null,"x",Ct),Dt.setAttributeNS(null,"y",Pt),Dt.setAttributeNS(null,"width",St-Ct),Dt.setAttributeNS(null,"height",Mt-Pt),Dt.setAttributeNS(null,"fill",this._makeShadingPattern(gt)),this.current.fillAlpha<1&&Dt.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Dt)}_makeColorN_Pattern(gt){return gt[0]==="TilingPattern"?this._makeTilingPattern(gt):this._makeShadingPattern(gt)}_makeTilingPattern(gt){const _t=gt[1],mt=gt[2],bt=gt[3]||j.IDENTITY_MATRIX,[Ct,Pt,St,Mt]=gt[4],Dt=gt[5],Qt=gt[6],Xt=gt[7],Yt=`shading${ht++}`,[Ht,Ut,Lt,zt]=j.Util.normalizeRect([...j.Util.applyTransform([Ct,Pt],bt),...j.Util.applyTransform([St,Mt],bt)]),[Zt,Ft]=j.Util.singularValueDecompose2dScale(bt),Et=Dt*Zt,Tt=Qt*Ft,kt=this.svgFactory.createElement("svg:pattern");kt.setAttributeNS(null,"id",Yt),kt.setAttributeNS(null,"patternUnits","userSpaceOnUse"),kt.setAttributeNS(null,"width",Et),kt.setAttributeNS(null,"height",Tt),kt.setAttributeNS(null,"x",`${Ht}`),kt.setAttributeNS(null,"y",`${Ut}`);const jt=this.svg,Nt=this.transformMatrix,$t=this.current.fillColor,tn=this.current.strokeColor,gn=this.svgFactory.create(Lt-Ht,zt-Ut);if(this.svg=gn,this.transformMatrix=bt,Xt===2){const vn=j.Util.makeHexColor(..._t);this.current.fillColor=vn,this.current.strokeColor=vn}return this.executeOpTree(this.convertOpList(mt)),this.svg=jt,this.transformMatrix=Nt,this.current.fillColor=$t,this.current.strokeColor=tn,kt.append(gn.childNodes[0]),this.defs.append(kt),`url(#${Yt})`}_makeShadingPattern(gt){switch(typeof gt=="string"&&(gt=this.objs.get(gt)),gt[0]){case"RadialAxial":const _t=`shading${ht++}`,mt=gt[3];let bt;switch(gt[1]){case"axial":const Ct=gt[4],Pt=gt[5];bt=this.svgFactory.createElement("svg:linearGradient"),bt.setAttributeNS(null,"id",_t),bt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),bt.setAttributeNS(null,"x1",Ct[0]),bt.setAttributeNS(null,"y1",Ct[1]),bt.setAttributeNS(null,"x2",Pt[0]),bt.setAttributeNS(null,"y2",Pt[1]);break;case"radial":const St=gt[4],Mt=gt[5],Dt=gt[6],Qt=gt[7];bt=this.svgFactory.createElement("svg:radialGradient"),bt.setAttributeNS(null,"id",_t),bt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),bt.setAttributeNS(null,"cx",Mt[0]),bt.setAttributeNS(null,"cy",Mt[1]),bt.setAttributeNS(null,"r",Qt),bt.setAttributeNS(null,"fx",St[0]),bt.setAttributeNS(null,"fy",St[1]),bt.setAttributeNS(null,"fr",Dt);break;default:throw new Error(`Unknown RadialAxial type: ${gt[1]}`)}for(const Ct of mt){const Pt=this.svgFactory.createElement("svg:stop");Pt.setAttributeNS(null,"offset",Ct[0]),Pt.setAttributeNS(null,"stop-color",Ct[1]),bt.append(Pt)}return this.defs.append(bt),`url(#${_t})`;case"Mesh":return(0,j.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${gt[0]}`)}}setDash(gt,_t){this.current.dashArray=gt,this.current.dashPhase=_t}constructPath(gt,_t){const mt=this.current;let bt=mt.x,Ct=mt.y,Pt=[],St=0;for(const Mt of gt)switch(Mt|0){case j.OPS.rectangle:bt=_t[St++],Ct=_t[St++];const Dt=_t[St++],Qt=_t[St++],Xt=bt+Dt,Yt=Ct+Qt;Pt.push("M",ct(bt),ct(Ct),"L",ct(Xt),ct(Ct),"L",ct(Xt),ct(Yt),"L",ct(bt),ct(Yt),"Z");break;case j.OPS.moveTo:bt=_t[St++],Ct=_t[St++],Pt.push("M",ct(bt),ct(Ct));break;case j.OPS.lineTo:bt=_t[St++],Ct=_t[St++],Pt.push("L",ct(bt),ct(Ct));break;case j.OPS.curveTo:bt=_t[St+4],Ct=_t[St+5],Pt.push("C",ct(_t[St]),ct(_t[St+1]),ct(_t[St+2]),ct(_t[St+3]),ct(bt),ct(Ct)),St+=6;break;case j.OPS.curveTo2:Pt.push("C",ct(bt),ct(Ct),ct(_t[St]),ct(_t[St+1]),ct(_t[St+2]),ct(_t[St+3])),bt=_t[St+2],Ct=_t[St+3],St+=4;break;case j.OPS.curveTo3:bt=_t[St+2],Ct=_t[St+3],Pt.push("C",ct(_t[St]),ct(_t[St+1]),ct(bt),ct(Ct),ct(bt),ct(Ct)),St+=4;break;case j.OPS.closePath:Pt.push("Z");break}Pt=Pt.join(" "),mt.path&&gt.length>0&&gt[0]!==j.OPS.rectangle&&gt[0]!==j.OPS.moveTo?Pt=mt.path.getAttributeNS(null,"d")+Pt:(mt.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(mt.path)),mt.path.setAttributeNS(null,"d",Pt),mt.path.setAttributeNS(null,"fill","none"),mt.element=mt.path,mt.setCurrentPoint(bt,Ct)}endPath(){const gt=this.current;if(gt.path=null,!this.pendingClip)return;if(!gt.element){this.pendingClip=null;return}const _t=`clippath${ft++}`,mt=this.svgFactory.createElement("svg:clipPath");mt.setAttributeNS(null,"id",_t),mt.setAttributeNS(null,"transform",dt(this.transformMatrix));const bt=gt.element.cloneNode(!0);if(this.pendingClip==="evenodd"?bt.setAttributeNS(null,"clip-rule","evenodd"):bt.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,mt.append(bt),this.defs.append(mt),gt.activeClipUrl){gt.clipGroup=null;for(const Ct of this.extraStack)Ct.clipGroup=null;mt.setAttributeNS(null,"clip-path",gt.activeClipUrl)}gt.activeClipUrl=`url(#${_t})`,this.tgrp=null}clip(gt){this.pendingClip=gt}closePath(){const gt=this.current;if(gt.path){const _t=`${gt.path.getAttributeNS(null,"d")}Z`;gt.path.setAttributeNS(null,"d",_t)}}setLeading(gt){this.current.leading=-gt}setTextRise(gt){this.current.textRise=gt}setTextRenderingMode(gt){this.current.textRenderingMode=gt}setHScale(gt){this.current.textHScale=gt/100}setRenderingIntent(gt){}setFlatness(gt){}setGState(gt){for(const[_t,mt]of gt)switch(_t){case"LW":this.setLineWidth(mt);break;case"LC":this.setLineCap(mt);break;case"LJ":this.setLineJoin(mt);break;case"ML":this.setMiterLimit(mt);break;case"D":this.setDash(mt[0],mt[1]);break;case"RI":this.setRenderingIntent(mt);break;case"FL":this.setFlatness(mt);break;case"Font":this.setFont(mt);break;case"CA":this.setStrokeAlpha(mt);break;case"ca":this.setFillAlpha(mt);break;default:(0,j.warn)(`Unimplemented graphic state operator ${_t}`);break}}fill(){const gt=this.current;gt.element&&(gt.element.setAttributeNS(null,"fill",gt.fillColor),gt.element.setAttributeNS(null,"fill-opacity",gt.fillAlpha),this.endPath())}stroke(){const gt=this.current;gt.element&&(this._setStrokeAttributes(gt.element),gt.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(gt,_t=1){const mt=this.current;let bt=mt.dashArray;_t!==1&&bt.length>0&&(bt=bt.map(function(Ct){return _t*Ct})),gt.setAttributeNS(null,"stroke",mt.strokeColor),gt.setAttributeNS(null,"stroke-opacity",mt.strokeAlpha),gt.setAttributeNS(null,"stroke-miterlimit",ct(mt.miterLimit)),gt.setAttributeNS(null,"stroke-linecap",mt.lineCap),gt.setAttributeNS(null,"stroke-linejoin",mt.lineJoin),gt.setAttributeNS(null,"stroke-width",ct(_t*mt.lineWidth)+"px"),gt.setAttributeNS(null,"stroke-dasharray",bt.map(ct).join(" ")),gt.setAttributeNS(null,"stroke-dashoffset",ct(_t*mt.dashPhase)+"px")}eoFill(){var gt;(gt=this.current.element)==null||gt.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var gt;(gt=this.current.element)==null||gt.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const gt=this.svgFactory.createElement("svg:rect");gt.setAttributeNS(null,"x","0"),gt.setAttributeNS(null,"y","0"),gt.setAttributeNS(null,"width","1px"),gt.setAttributeNS(null,"height","1px"),gt.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(gt)}paintImageXObject(gt){const _t=this.getObject(gt);if(!_t){(0,j.warn)(`Dependent image with object ID ${gt} is not ready yet`);return}this.paintInlineImageXObject(_t)}paintInlineImageXObject(gt,_t){const mt=gt.width,bt=gt.height,Ct=at(gt,this.forceDataSchema,!!_t),Pt=this.svgFactory.createElement("svg:rect");Pt.setAttributeNS(null,"x","0"),Pt.setAttributeNS(null,"y","0"),Pt.setAttributeNS(null,"width",ct(mt)),Pt.setAttributeNS(null,"height",ct(bt)),this.current.element=Pt,this.clip("nonzero");const St=this.svgFactory.createElement("svg:image");St.setAttributeNS(nt,"xlink:href",Ct),St.setAttributeNS(null,"x","0"),St.setAttributeNS(null,"y",ct(-bt)),St.setAttributeNS(null,"width",ct(mt)+"px"),St.setAttributeNS(null,"height",ct(bt)+"px"),St.setAttributeNS(null,"transform",`scale(${ct(1/mt)} ${ct(-1/bt)})`),_t?_t.append(St):this._ensureTransformGroup().append(St)}paintImageMaskXObject(gt){const _t=this.getObject(gt.data,gt);if(_t.bitmap){(0,j.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const mt=this.current,bt=_t.width,Ct=_t.height,Pt=mt.fillColor;mt.maskId=`mask${lt++}`;const St=this.svgFactory.createElement("svg:mask");St.setAttributeNS(null,"id",mt.maskId);const Mt=this.svgFactory.createElement("svg:rect");Mt.setAttributeNS(null,"x","0"),Mt.setAttributeNS(null,"y","0"),Mt.setAttributeNS(null,"width",ct(bt)),Mt.setAttributeNS(null,"height",ct(Ct)),Mt.setAttributeNS(null,"fill",Pt),Mt.setAttributeNS(null,"mask",`url(#${mt.maskId})`),this.defs.append(St),this._ensureTransformGroup().append(Mt),this.paintInlineImageXObject(_t,St)}paintFormXObjectBegin(gt,_t){if(Array.isArray(gt)&&gt.length===6&&this.transform(gt[0],gt[1],gt[2],gt[3],gt[4],gt[5]),_t){const mt=_t[2]-_t[0],bt=_t[3]-_t[1],Ct=this.svgFactory.createElement("svg:rect");Ct.setAttributeNS(null,"x",_t[0]),Ct.setAttributeNS(null,"y",_t[1]),Ct.setAttributeNS(null,"width",ct(mt)),Ct.setAttributeNS(null,"height",ct(bt)),this.current.element=Ct,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(gt){const _t=this.svgFactory.create(gt.width,gt.height),mt=this.svgFactory.createElement("svg:defs");_t.append(mt),this.defs=mt;const bt=this.svgFactory.createElement("svg:g");return bt.setAttributeNS(null,"transform",dt(gt.transform)),_t.append(bt),this.svg=bt,_t}_ensureClipGroup(){if(!this.current.clipGroup){const gt=this.svgFactory.createElement("svg:g");gt.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(gt),this.current.clipGroup=gt}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",dt(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}i.SVGGraphics=pt},(a,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaText=void 0;class s{static textContent(j){const _e=[],et={items:_e,styles:Object.create(null)};function nt(it){var at;if(!it)return;let rt=null;const st=it.name;if(st==="#text")rt=it.value;else if(s.shouldBuildText(st))(at=it==null?void 0:it.attributes)!=null&&at.textContent?rt=it.attributes.textContent:it.value&&(rt=it.value);else return;if(rt!==null&&_e.push({str:rt}),!!it.children)for(const ot of it.children)nt(ot)}return nt(j),et}static shouldBuildText(j){return!(j==="textarea"||j==="input"||j==="option"||j==="select")}}i.XfaText=s},(a,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TextLayerRenderTask=void 0,i.renderTextLayer=dt,i.updateTextLayer=ft;var o=s(1),j=s(6);const _e=1e5,et=30,nt=.8,it=new Map;function rt(lt,ht){let pt;if(ht&&o.FeatureTest.isOffscreenCanvasSupported)pt=new OffscreenCanvas(lt,lt).getContext("2d",{alpha:!1});else{const vt=document.createElement("canvas");vt.width=vt.height=lt,pt=vt.getContext("2d",{alpha:!1})}return pt}function st(lt,ht){const pt=it.get(lt);if(pt)return pt;const vt=rt(et,ht);vt.font=`${et}px ${lt}`;const gt=vt.measureText("");let _t=gt.fontBoundingBoxAscent,mt=Math.abs(gt.fontBoundingBoxDescent);if(_t){const Ct=_t/(_t+mt);return it.set(lt,Ct),vt.canvas.width=vt.canvas.height=0,Ct}vt.strokeStyle="red",vt.clearRect(0,0,et,et),vt.strokeText("g",0,0);let bt=vt.getImageData(0,0,et,et).data;mt=0;for(let Ct=bt.length-1-3;Ct>=0;Ct-=4)if(bt[Ct]>0){mt=Math.ceil(Ct/4/et);break}vt.clearRect(0,0,et,et),vt.strokeText("A",0,et),bt=vt.getImageData(0,0,et,et).data,_t=0;for(let Ct=0,Pt=bt.length;Ct<Pt;Ct+=4)if(bt[Ct]>0){_t=et-Math.floor(Ct/4/et);break}if(vt.canvas.width=vt.canvas.height=0,_t){const Ct=_t/(_t+mt);return it.set(lt,Ct),Ct}return it.set(lt,nt),nt}function at(lt,ht,pt){const vt=document.createElement("span"),gt={angle:0,canvasWidth:0,hasText:ht.str!=="",hasEOL:ht.hasEOL,fontSize:0};lt._textDivs.push(vt);const _t=o.Util.transform(lt._transform,ht.transform);let mt=Math.atan2(_t[1],_t[0]);const bt=pt[ht.fontName];bt.vertical&&(mt+=Math.PI/2);const Ct=Math.hypot(_t[2],_t[3]),Pt=Ct*st(bt.fontFamily,lt._isOffscreenCanvasSupported);let St,Mt;mt===0?(St=_t[4],Mt=_t[5]-Pt):(St=_t[4]+Pt*Math.sin(mt),Mt=_t[5]-Pt*Math.cos(mt));const Dt="calc(var(--scale-factor)*",Qt=vt.style;lt._container===lt._rootContainer?(Qt.left=`${(100*St/lt._pageWidth).toFixed(2)}%`,Qt.top=`${(100*Mt/lt._pageHeight).toFixed(2)}%`):(Qt.left=`${Dt}${St.toFixed(2)}px)`,Qt.top=`${Dt}${Mt.toFixed(2)}px)`),Qt.fontSize=`${Dt}${Ct.toFixed(2)}px)`,Qt.fontFamily=bt.fontFamily,gt.fontSize=Ct,vt.setAttribute("role","presentation"),vt.textContent=ht.str,vt.dir=ht.dir,lt._fontInspectorEnabled&&(vt.dataset.fontName=ht.fontName),mt!==0&&(gt.angle=mt*(180/Math.PI));let Xt=!1;if(ht.str.length>1)Xt=!0;else if(ht.str!==" "&&ht.transform[0]!==ht.transform[3]){const Yt=Math.abs(ht.transform[0]),Ht=Math.abs(ht.transform[3]);Yt!==Ht&&Math.max(Yt,Ht)/Math.min(Yt,Ht)>1.5&&(Xt=!0)}Xt&&(gt.canvasWidth=bt.vertical?ht.height:ht.width),lt._textDivProperties.set(vt,gt),lt._isReadableStream&&lt._layoutText(vt)}function ot(lt){const{div:ht,scale:pt,properties:vt,ctx:gt,prevFontSize:_t,prevFontFamily:mt}=lt,{style:bt}=ht;let Ct="";if(vt.canvasWidth!==0&&vt.hasText){const{fontFamily:Pt}=bt,{canvasWidth:St,fontSize:Mt}=vt;(_t!==Mt||mt!==Pt)&&(gt.font=`${Mt*pt}px ${Pt}`,lt.prevFontSize=Mt,lt.prevFontFamily=Pt);const{width:Dt}=gt.measureText(ht.textContent);Dt>0&&(Ct=`scaleX(${St*pt/Dt})`)}vt.angle!==0&&(Ct=`rotate(${vt.angle}deg) ${Ct}`),Ct.length>0&&(bt.transform=Ct)}function ut(lt){if(lt._canceled)return;const ht=lt._textDivs,pt=lt._capability;if(ht.length>_e){pt.resolve();return}if(!lt._isReadableStream)for(const gt of ht)lt._layoutText(gt);pt.resolve()}class ct{constructor({textContentSource:ht,container:pt,viewport:vt,textDivs:gt,textDivProperties:_t,textContentItemsStr:mt,isOffscreenCanvasSupported:bt}){var Dt;this._textContentSource=ht,this._isReadableStream=ht instanceof ReadableStream,this._container=this._rootContainer=pt,this._textDivs=gt||[],this._textContentItemsStr=mt||[],this._isOffscreenCanvasSupported=bt,this._fontInspectorEnabled=!!((Dt=globalThis.FontInspector)!=null&&Dt.enabled),this._reader=null,this._textDivProperties=_t||new WeakMap,this._canceled=!1,this._capability=new o.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:vt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:rt(0,bt)};const{pageWidth:Ct,pageHeight:Pt,pageX:St,pageY:Mt}=vt.rawDims;this._transform=[1,0,0,-1,-St,Mt+Pt],this._pageWidth=Ct,this._pageHeight=Pt,(0,j.setLayerDimensions)(pt,vt),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new o.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new o.AbortException("TextLayer task cancelled."))}_processItems(ht,pt){for(const vt of ht){if(vt.str===void 0){if(vt.type==="beginMarkedContentProps"||vt.type==="beginMarkedContent"){const gt=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),vt.id!==null&&this._container.setAttribute("id",`${vt.id}`),gt.append(this._container)}else vt.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(vt.str),at(this,vt,pt)}}_layoutText(ht){const pt=this._layoutTextParams.properties=this._textDivProperties.get(ht);if(this._layoutTextParams.div=ht,ot(this._layoutTextParams),pt.hasText&&this._container.append(ht),pt.hasEOL){const vt=document.createElement("br");vt.setAttribute("role","presentation"),this._container.append(vt)}}_render(){const ht=new o.PromiseCapability;let pt=Object.create(null);if(this._isReadableStream){const vt=()=>{this._reader.read().then(({value:gt,done:_t})=>{if(_t){ht.resolve();return}Object.assign(pt,gt.styles),this._processItems(gt.items,pt),vt()},ht.reject)};this._reader=this._textContentSource.getReader(),vt()}else if(this._textContentSource){const{items:vt,styles:gt}=this._textContentSource;this._processItems(vt,gt),ht.resolve()}else throw new Error('No "textContentSource" parameter specified.');ht.promise.then(()=>{pt=null,ut(this)},this._capability.reject)}}i.TextLayerRenderTask=ct;function dt(lt){!lt.textContentSource&&(lt.textContent||lt.textContentStream)&&((0,j.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),lt.textContentSource=lt.textContent||lt.textContentStream);const{container:ht,viewport:pt}=lt,vt=getComputedStyle(ht),gt=vt.getPropertyValue("visibility"),_t=parseFloat(vt.getPropertyValue("--scale-factor"));gt==="visible"&&(!_t||Math.abs(_t-pt.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const mt=new ct(lt);return mt._render(),mt}function ft({container:lt,viewport:ht,textDivs:pt,textDivProperties:vt,isOffscreenCanvasSupported:gt,mustRotate:_t=!0,mustRescale:mt=!0}){if(_t&&(0,j.setLayerDimensions)(lt,{rotation:ht.rotation}),mt){const bt=rt(0,gt),Pt={prevFontSize:null,prevFontFamily:null,div:null,scale:ht.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:bt};for(const St of pt)Pt.properties=vt.get(St),Pt.div=St,ot(Pt)}}},(a,i,s)=>{var st,at,ot,ut,ct,dt,ft,lt,ht,pt,vt,S_,Q0,C_,T_;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditorLayer=void 0;var o=s(1),j=s(4),_e=s(28),et=s(33),nt=s(6),it=s(34);const Ct=class Ct{constructor({uiManager:St,pageIndex:Mt,div:Dt,accessibilityManager:Qt,annotationLayer:Xt,viewport:Yt,l10n:Ht}){At(this,vt);At(this,st);At(this,at,!1);At(this,ot,null);At(this,ut,this.pointerup.bind(this));At(this,ct,this.pointerdown.bind(this));At(this,dt,new Map);At(this,ft,!1);At(this,lt,!1);At(this,ht,!1);At(this,pt);const Ut=[_e.FreeTextEditor,et.InkEditor,it.StampEditor];if(!Ct._initialized){Ct._initialized=!0;for(const Lt of Ut)Lt.initialize(Ht)}St.registerEditorTypes(Ut),xt(this,pt,St),this.pageIndex=Mt,this.div=Dt,xt(this,st,Qt),xt(this,ot,Xt),this.viewport=Yt,tt(this,pt).addLayer(this)}get isEmpty(){return tt(this,dt).size===0}updateToolbar(St){tt(this,pt).updateToolbar(St)}updateMode(St=tt(this,pt).getMode()){yt(this,vt,T_).call(this),St===o.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),St!==o.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",St===o.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",St===o.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",St===o.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(St){if(!St&&tt(this,pt).getMode()!==o.AnnotationEditorType.INK)return;if(!St){for(const Dt of tt(this,dt).values())if(Dt.isEmpty()){Dt.setInBackground();return}}yt(this,vt,Q0).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(St){tt(this,pt).setEditingState(St)}addCommands(St){tt(this,pt).addCommands(St)}enable(){this.div.style.pointerEvents="auto";const St=new Set;for(const Dt of tt(this,dt).values())Dt.enableEditing(),Dt.annotationElementId&&St.add(Dt.annotationElementId);if(!tt(this,ot))return;const Mt=tt(this,ot).getEditableAnnotations();for(const Dt of Mt){if(Dt.hide(),tt(this,pt).isDeletedAnnotationElement(Dt.data.id)||St.has(Dt.data.id))continue;const Qt=this.deserialize(Dt);Qt&&(this.addOrRebuild(Qt),Qt.enableEditing())}}disable(){var Mt;xt(this,ht,!0),this.div.style.pointerEvents="none";const St=new Set;for(const Dt of tt(this,dt).values()){if(Dt.disableEditing(),!Dt.annotationElementId||Dt.serialize()!==null){St.add(Dt.annotationElementId);continue}(Mt=this.getEditableAnnotation(Dt.annotationElementId))==null||Mt.show(),Dt.remove()}if(tt(this,ot)){const Dt=tt(this,ot).getEditableAnnotations();for(const Qt of Dt){const{id:Xt}=Qt.data;St.has(Xt)||tt(this,pt).isDeletedAnnotationElement(Xt)||Qt.show()}}yt(this,vt,T_).call(this),this.isEmpty&&(this.div.hidden=!0),xt(this,ht,!1)}getEditableAnnotation(St){var Mt;return((Mt=tt(this,ot))==null?void 0:Mt.getEditableAnnotation(St))||null}setActiveEditor(St){tt(this,pt).getActive()!==St&&tt(this,pt).setActiveEditor(St)}enableClick(){this.div.addEventListener("pointerdown",tt(this,ct)),this.div.addEventListener("pointerup",tt(this,ut))}disableClick(){this.div.removeEventListener("pointerdown",tt(this,ct)),this.div.removeEventListener("pointerup",tt(this,ut))}attach(St){tt(this,dt).set(St.id,St);const{annotationElementId:Mt}=St;Mt&&tt(this,pt).isDeletedAnnotationElement(Mt)&&tt(this,pt).removeDeletedAnnotationElement(St)}detach(St){var Mt;tt(this,dt).delete(St.id),(Mt=tt(this,st))==null||Mt.removePointerInTextLayer(St.contentDiv),!tt(this,ht)&&St.annotationElementId&&tt(this,pt).addDeletedAnnotationElement(St)}remove(St){this.detach(St),tt(this,pt).removeEditor(St),St.div.contains(document.activeElement)&&setTimeout(()=>{tt(this,pt).focusMainContainer()},0),St.div.remove(),St.isAttachedToDOM=!1,tt(this,lt)||this.addInkEditorIfNeeded(!1)}changeParent(St){var Mt;St.parent!==this&&(St.annotationElementId&&(tt(this,pt).addDeletedAnnotationElement(St.annotationElementId),j.AnnotationEditor.deleteAnnotationElement(St),St.annotationElementId=null),this.attach(St),(Mt=St.parent)==null||Mt.detach(St),St.setParent(this),St.div&&St.isAttachedToDOM&&(St.div.remove(),this.div.append(St.div)))}add(St){if(this.changeParent(St),tt(this,pt).addEditor(St),this.attach(St),!St.isAttachedToDOM){const Mt=St.render();this.div.append(Mt),St.isAttachedToDOM=!0}St.fixAndSetPosition(),St.onceAdded(),tt(this,pt).addToAnnotationStorage(St)}moveEditorInDOM(St){var Dt;if(!St.isAttachedToDOM)return;const{activeElement:Mt}=document;St.div.contains(Mt)&&(St._focusEventsAllowed=!1,setTimeout(()=>{St.div.contains(document.activeElement)?St._focusEventsAllowed=!0:(St.div.addEventListener("focusin",()=>{St._focusEventsAllowed=!0},{once:!0}),Mt.focus())},0)),St._structTreeParentId=(Dt=tt(this,st))==null?void 0:Dt.moveElementInDOM(this.div,St.div,St.contentDiv,!0)}addOrRebuild(St){St.needsToBeRebuilt()?St.rebuild():this.add(St)}addUndoableEditor(St){const Mt=()=>St._uiManager.rebuild(St),Dt=()=>{St.remove()};this.addCommands({cmd:Mt,undo:Dt,mustExec:!1})}getNextId(){return tt(this,pt).getId()}pasteEditor(St,Mt){tt(this,pt).updateToolbar(St),tt(this,pt).updateMode(St);const{offsetX:Dt,offsetY:Qt}=yt(this,vt,C_).call(this),Xt=this.getNextId(),Yt=yt(this,vt,S_).call(this,{parent:this,id:Xt,x:Dt,y:Qt,uiManager:tt(this,pt),isCentered:!0,...Mt});Yt&&this.add(Yt)}deserialize(St){switch(St.annotationType??St.annotationEditorType){case o.AnnotationEditorType.FREETEXT:return _e.FreeTextEditor.deserialize(St,this,tt(this,pt));case o.AnnotationEditorType.INK:return et.InkEditor.deserialize(St,this,tt(this,pt));case o.AnnotationEditorType.STAMP:return it.StampEditor.deserialize(St,this,tt(this,pt))}return null}addNewEditor(){yt(this,vt,Q0).call(this,yt(this,vt,C_).call(this),!0)}setSelected(St){tt(this,pt).setSelected(St)}toggleSelected(St){tt(this,pt).toggleSelected(St)}isSelected(St){return tt(this,pt).isSelected(St)}unselect(St){tt(this,pt).unselect(St)}pointerup(St){const{isMac:Mt}=o.FeatureTest.platform;if(!(St.button!==0||St.ctrlKey&&Mt)&&St.target===this.div&&tt(this,ft)){if(xt(this,ft,!1),!tt(this,at)){xt(this,at,!0);return}if(tt(this,pt).getMode()===o.AnnotationEditorType.STAMP){tt(this,pt).unselectAll();return}yt(this,vt,Q0).call(this,St,!1)}}pointerdown(St){if(tt(this,ft)){xt(this,ft,!1);return}const{isMac:Mt}=o.FeatureTest.platform;if(St.button!==0||St.ctrlKey&&Mt||St.target!==this.div)return;xt(this,ft,!0);const Dt=tt(this,pt).getActive();xt(this,at,!Dt||Dt.isEmpty())}findNewParent(St,Mt,Dt){const Qt=tt(this,pt).findParent(Mt,Dt);return Qt===null||Qt===this?!1:(Qt.changeParent(St),!0)}destroy(){var St,Mt;((St=tt(this,pt).getActive())==null?void 0:St.parent)===this&&(tt(this,pt).commitOrRemove(),tt(this,pt).setActiveEditor(null));for(const Dt of tt(this,dt).values())(Mt=tt(this,st))==null||Mt.removePointerInTextLayer(Dt.contentDiv),Dt.setParent(null),Dt.isAttachedToDOM=!1,Dt.div.remove();this.div=null,tt(this,dt).clear(),tt(this,pt).removeLayer(this)}render({viewport:St}){this.viewport=St,(0,nt.setLayerDimensions)(this.div,St);for(const Mt of tt(this,pt).getEditors(this.pageIndex))this.add(Mt);this.updateMode()}update({viewport:St}){tt(this,pt).commitOrRemove(),this.viewport=St,(0,nt.setLayerDimensions)(this.div,{rotation:St.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:St,pageHeight:Mt}=this.viewport.rawDims;return[St,Mt]}};st=new WeakMap,at=new WeakMap,ot=new WeakMap,ut=new WeakMap,ct=new WeakMap,dt=new WeakMap,ft=new WeakMap,lt=new WeakMap,ht=new WeakMap,pt=new WeakMap,vt=new WeakSet,S_=function(St){switch(tt(this,pt).getMode()){case o.AnnotationEditorType.FREETEXT:return new _e.FreeTextEditor(St);case o.AnnotationEditorType.INK:return new et.InkEditor(St);case o.AnnotationEditorType.STAMP:return new it.StampEditor(St)}return null},Q0=function(St,Mt){const Dt=this.getNextId(),Qt=yt(this,vt,S_).call(this,{parent:this,id:Dt,x:St.offsetX,y:St.offsetY,uiManager:tt(this,pt),isCentered:Mt});return Qt&&this.add(Qt),Qt},C_=function(){const{x:St,y:Mt,width:Dt,height:Qt}=this.div.getBoundingClientRect(),Xt=Math.max(0,St),Yt=Math.max(0,Mt),Ht=Math.min(window.innerWidth,St+Dt),Ut=Math.min(window.innerHeight,Mt+Qt),Lt=(Xt+Ht)/2-St,zt=(Yt+Ut)/2-Mt,[Zt,Ft]=this.viewport.rotation%180===0?[Lt,zt]:[zt,Lt];return{offsetX:Zt,offsetY:Ft}},T_=function(){xt(this,lt,!0);for(const St of tt(this,dt).values())St.isEmpty()&&St.remove();xt(this,lt,!1)},es(Ct,"_initialized",!1);let rt=Ct;i.AnnotationEditorLayer=rt},(a,i,s)=>{var it,rt,st,at,ot,ut,ct,dt,ft,lt,vE,yE,_E,Um,k_,bE,R_;Object.defineProperty(i,"__esModule",{value:!0}),i.FreeTextEditor=void 0;var o=s(1),j=s(5),_e=s(4),et=s(29);const Ct=class Ct extends _e.AnnotationEditor{constructor(Mt){super({...Mt,name:"freeTextEditor"});At(this,lt);At(this,it,this.editorDivBlur.bind(this));At(this,rt,this.editorDivFocus.bind(this));At(this,st,this.editorDivInput.bind(this));At(this,at,this.editorDivKeydown.bind(this));At(this,ot);At(this,ut,"");At(this,ct,`${this.id}-editor`);At(this,dt);At(this,ft,null);xt(this,ot,Mt.color||Ct._defaultColor||_e.AnnotationEditor._defaultLineColor),xt(this,dt,Mt.fontSize||Ct._defaultFontSize)}static get _keyboardManager(){const Mt=Ct.prototype,Dt=Yt=>Yt.isEmpty(),Qt=j.AnnotationEditorUIManager.TRANSLATE_SMALL,Xt=j.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new j.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],Mt.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],Mt.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],Mt._translateEmpty,{args:[-Qt,0],checker:Dt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Mt._translateEmpty,{args:[-Xt,0],checker:Dt}],[["ArrowRight","mac+ArrowRight"],Mt._translateEmpty,{args:[Qt,0],checker:Dt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Mt._translateEmpty,{args:[Xt,0],checker:Dt}],[["ArrowUp","mac+ArrowUp"],Mt._translateEmpty,{args:[0,-Qt],checker:Dt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Mt._translateEmpty,{args:[0,-Xt],checker:Dt}],[["ArrowDown","mac+ArrowDown"],Mt._translateEmpty,{args:[0,Qt],checker:Dt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Mt._translateEmpty,{args:[0,Xt],checker:Dt}]]))}static initialize(Mt){_e.AnnotationEditor.initialize(Mt,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const Dt=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Dt.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Mt,Dt){switch(Mt){case o.AnnotationEditorParamsType.FREETEXT_SIZE:Ct._defaultFontSize=Dt;break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:Ct._defaultColor=Dt;break}}updateParams(Mt,Dt){switch(Mt){case o.AnnotationEditorParamsType.FREETEXT_SIZE:yt(this,lt,vE).call(this,Dt);break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:yt(this,lt,yE).call(this,Dt);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,Ct._defaultFontSize],[o.AnnotationEditorParamsType.FREETEXT_COLOR,Ct._defaultColor||_e.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,tt(this,dt)],[o.AnnotationEditorParamsType.FREETEXT_COLOR,tt(this,ot)]]}_translateEmpty(Mt,Dt){this._uiManager.translateSelectedEditors(Mt,Dt,!0)}getInitialTranslation(){const Mt=this.parentScale;return[-Ct._internalPadding*Mt,-(Ct._internalPadding+tt(this,dt))*Mt]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(o.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",tt(this,at)),this.editorDiv.addEventListener("focus",tt(this,rt)),this.editorDiv.addEventListener("blur",tt(this,it)),this.editorDiv.addEventListener("input",tt(this,st)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",tt(this,ct)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",tt(this,at)),this.editorDiv.removeEventListener("focus",tt(this,rt)),this.editorDiv.removeEventListener("blur",tt(this,it)),this.editorDiv.removeEventListener("input",tt(this,st)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(Mt){this._focusEventsAllowed&&(super.focusin(Mt),Mt.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var Mt;if(this.width){yt(this,lt,R_).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(Mt=this._initialOptions)!=null&&Mt.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const Mt=tt(this,ut),Dt=xt(this,ut,yt(this,lt,_E).call(this).trimEnd());if(Mt===Dt)return;const Qt=Xt=>{if(xt(this,ut,Xt),!Xt){this.remove();return}yt(this,lt,k_).call(this),this._uiManager.rebuild(this),yt(this,lt,Um).call(this)};this.addCommands({cmd:()=>{Qt(Dt)},undo:()=>{Qt(Mt)},mustExec:!1}),yt(this,lt,Um).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(Mt){this.enterInEditMode()}keydown(Mt){Mt.target===this.div&&Mt.key==="Enter"&&(this.enterInEditMode(),Mt.preventDefault())}editorDivKeydown(Mt){Ct._keyboardManager.exec(this,Mt)}editorDivFocus(Mt){this.isEditing=!0}editorDivBlur(Mt){this.isEditing=!1}editorDivInput(Mt){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Mt,Dt;this.width&&(Mt=this.x,Dt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",tt(this,ct)),this.enableEditing(),_e.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(Xt=>{var Yt;return(Yt=this.editorDiv)==null?void 0:Yt.setAttribute("aria-label",Xt)}),_e.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(Xt=>{var Yt;return(Yt=this.editorDiv)==null?void 0:Yt.setAttribute("default-content",Xt)}),this.editorDiv.contentEditable=!0;const{style:Qt}=this.editorDiv;if(Qt.fontSize=`calc(${tt(this,dt)}px * var(--scale-factor))`,Qt.color=tt(this,ot),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,j.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Xt,Yt]=this.parentDimensions;if(this.annotationElementId){const{position:Ht}=tt(this,ft);let[Ut,Lt]=this.getInitialTranslation();[Ut,Lt]=this.pageTranslationToScreen(Ut,Lt);const[zt,Zt]=this.pageDimensions,[Ft,Et]=this.pageTranslation;let Tt,kt;switch(this.rotation){case 0:Tt=Mt+(Ht[0]-Ft)/zt,kt=Dt+this.height-(Ht[1]-Et)/Zt;break;case 90:Tt=Mt+(Ht[0]-Ft)/zt,kt=Dt-(Ht[1]-Et)/Zt,[Ut,Lt]=[Lt,-Ut];break;case 180:Tt=Mt-this.width+(Ht[0]-Ft)/zt,kt=Dt-(Ht[1]-Et)/Zt,[Ut,Lt]=[-Ut,-Lt];break;case 270:Tt=Mt+(Ht[0]-Ft-this.height*Zt)/zt,kt=Dt+(Ht[1]-Et-this.width*zt)/Zt,[Ut,Lt]=[-Lt,Ut];break}this.setAt(Tt*Xt,kt*Yt,Ut,Lt)}else this.setAt(Mt*Xt,Dt*Yt,this.width*Xt,this.height*Yt);yt(this,lt,k_).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Mt,Dt,Qt){let Xt=null;if(Mt instanceof et.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Ht,fontColor:Ut},rect:Lt,rotation:zt,id:Zt},textContent:Ft,textPosition:Et,parent:{page:{pageNumber:Tt}}}=Mt;if(!Ft||Ft.length===0)return null;Xt=Mt={annotationType:o.AnnotationEditorType.FREETEXT,color:Array.from(Ut),fontSize:Ht,value:Ft.join(`
`),position:Et,pageIndex:Tt-1,rect:Lt,rotation:zt,id:Zt,deleted:!1}}const Yt=super.deserialize(Mt,Dt,Qt);return xt(Yt,dt,Mt.fontSize),xt(Yt,ot,o.Util.makeHexColor(...Mt.color)),xt(Yt,ut,Mt.value),Yt.annotationElementId=Mt.id||null,xt(Yt,ft,Xt),Yt}serialize(Mt=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const Dt=Ct._internalPadding*this.parentScale,Qt=this.getRect(Dt,Dt),Xt=_e.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:tt(this,ot)),Yt={annotationType:o.AnnotationEditorType.FREETEXT,color:Xt,fontSize:tt(this,dt),value:tt(this,ut),pageIndex:this.pageIndex,rect:Qt,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return Mt?Yt:this.annotationElementId&&!yt(this,lt,bE).call(this,Yt)?null:(Yt.id=this.annotationElementId,Yt)}};it=new WeakMap,rt=new WeakMap,st=new WeakMap,at=new WeakMap,ot=new WeakMap,ut=new WeakMap,ct=new WeakMap,dt=new WeakMap,ft=new WeakMap,lt=new WeakSet,vE=function(Mt){const Dt=Xt=>{this.editorDiv.style.fontSize=`calc(${Xt}px * var(--scale-factor))`,this.translate(0,-(Xt-tt(this,dt))*this.parentScale),xt(this,dt,Xt),yt(this,lt,Um).call(this)},Qt=tt(this,dt);this.addCommands({cmd:()=>{Dt(Mt)},undo:()=>{Dt(Qt)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},yE=function(Mt){const Dt=tt(this,ot);this.addCommands({cmd:()=>{xt(this,ot,this.editorDiv.style.color=Mt)},undo:()=>{xt(this,ot,this.editorDiv.style.color=Dt)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},_E=function(){const Mt=this.editorDiv.getElementsByTagName("div");if(Mt.length===0)return this.editorDiv.innerText;const Dt=[];for(const Qt of Mt)Dt.push(Qt.innerText.replace(/\r\n?|\n/,""));return Dt.join(`
`)},Um=function(){const[Mt,Dt]=this.parentDimensions;let Qt;if(this.isAttachedToDOM)Qt=this.div.getBoundingClientRect();else{const{currentLayer:Xt,div:Yt}=this,Ht=Yt.style.display;Yt.style.display="hidden",Xt.div.append(this.div),Qt=Yt.getBoundingClientRect(),Yt.remove(),Yt.style.display=Ht}this.rotation%180===this.parentRotation%180?(this.width=Qt.width/Mt,this.height=Qt.height/Dt):(this.width=Qt.height/Mt,this.height=Qt.width/Dt),this.fixAndSetPosition()},k_=function(){if(this.editorDiv.replaceChildren(),!!tt(this,ut))for(const Mt of tt(this,ut).split(`
`)){const Dt=document.createElement("div");Dt.append(Mt?document.createTextNode(Mt):document.createElement("br")),this.editorDiv.append(Dt)}},bE=function(Mt){const{value:Dt,fontSize:Qt,color:Xt,rect:Yt,pageIndex:Ht}=tt(this,ft);return Mt.value!==Dt||Mt.fontSize!==Qt||Mt.rect.some((Ut,Lt)=>Math.abs(Ut-Yt[Lt])>=1)||Mt.color.some((Ut,Lt)=>Ut!==Xt[Lt])||Mt.pageIndex!==Ht},R_=function(Mt=!1){if(!this.annotationElementId)return;if(yt(this,lt,Um).call(this),!Mt&&(this.width===0||this.height===0)){setTimeout(()=>yt(this,lt,R_).call(this,!0),0);return}const Dt=Ct._internalPadding*this.parentScale;tt(this,ft).rect=this.getRect(Dt,Dt)},es(Ct,"_freeTextDefaultContent",""),es(Ct,"_internalPadding",0),es(Ct,"_defaultColor",null),es(Ct,"_defaultFontSize",10),es(Ct,"_type","freetext");let nt=Ct;i.FreeTextEditor=nt},(a,i,s)=>{var kt,Nt,Tu,xE,gn,vn,bn,_n,An,wn,on,hn,It,Vt,rn,fn,xn,kn,Cn,sn,On,Ln,EE,Z0,P_,M_,_i,ys,Ls,Sn,an,cn,Un,F_,ss,Wt,En,Nn,AE,L_;Object.defineProperty(i,"__esModule",{value:!0}),i.StampAnnotationElement=i.InkAnnotationElement=i.FreeTextAnnotationElement=i.AnnotationLayer=void 0;var o=s(1),j=s(6),_e=s(3),et=s(30),nt=s(31),it=s(32);const rt=1e3,st=9,at=new WeakSet;function ot(Hn){return{width:Hn[2]-Hn[0],height:Hn[3]-Hn[1]}}class ut{static create(Bt){switch(Bt.data.annotationType){case o.AnnotationType.LINK:return new dt(Bt);case o.AnnotationType.TEXT:return new ft(Bt);case o.AnnotationType.WIDGET:switch(Bt.data.fieldType){case"Tx":return new ht(Bt);case"Btn":return Bt.data.radioButton?new gt(Bt):Bt.data.checkBox?new vt(Bt):new _t(Bt);case"Ch":return new mt(Bt);case"Sig":return new pt(Bt)}return new lt(Bt);case o.AnnotationType.POPUP:return new bt(Bt);case o.AnnotationType.FREETEXT:return new Pt(Bt);case o.AnnotationType.LINE:return new St(Bt);case o.AnnotationType.SQUARE:return new Mt(Bt);case o.AnnotationType.CIRCLE:return new Dt(Bt);case o.AnnotationType.POLYLINE:return new Qt(Bt);case o.AnnotationType.CARET:return new Yt(Bt);case o.AnnotationType.INK:return new Ht(Bt);case o.AnnotationType.POLYGON:return new Xt(Bt);case o.AnnotationType.HIGHLIGHT:return new Ut(Bt);case o.AnnotationType.UNDERLINE:return new Lt(Bt);case o.AnnotationType.SQUIGGLY:return new zt(Bt);case o.AnnotationType.STRIKEOUT:return new Zt(Bt);case o.AnnotationType.STAMP:return new Ft(Bt);case o.AnnotationType.FILEATTACHMENT:return new Et(Bt);default:return new ct(Bt)}}}const jt=class jt{constructor(Bt,{isRenderable:Ot=!1,ignoreBorder:en=!1,createQuadrilaterals:mn=!1}={}){At(this,kt,!1);this.isRenderable=Ot,this.data=Bt.data,this.layer=Bt.layer,this.linkService=Bt.linkService,this.downloadManager=Bt.downloadManager,this.imageResourcesPath=Bt.imageResourcesPath,this.renderForms=Bt.renderForms,this.svgFactory=Bt.svgFactory,this.annotationStorage=Bt.annotationStorage,this.enableScripting=Bt.enableScripting,this.hasJSActions=Bt.hasJSActions,this._fieldObjects=Bt.fieldObjects,this.parent=Bt.parent,Ot&&(this.container=this._createContainer(en)),mn&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Bt,contentsObj:Ot,richText:en}){return!!(Bt!=null&&Bt.str||Ot!=null&&Ot.str||en!=null&&en.str)}get hasPopupData(){return jt._hasPopupData(this.data)}_createContainer(Bt){const{data:Ot,parent:{page:en,viewport:mn}}=this,yn=document.createElement("section");yn.setAttribute("data-annotation-id",Ot.id),this instanceof lt||(yn.tabIndex=rt),yn.style.zIndex=this.parent.zIndex++,this.data.popupRef&&yn.setAttribute("aria-haspopup","dialog"),Ot.noRotate&&yn.classList.add("norotate");const{pageWidth:Tn,pageHeight:Fn,pageX:qn,pageY:Vn}=mn.rawDims;if(!Ot.rect||this instanceof bt){const{rotation:us}=Ot;return!Ot.hasOwnCanvas&&us!==0&&this.setRotation(us,yn),yn}const{width:$n,height:ms}=ot(Ot.rect),Wn=o.Util.normalizeRect([Ot.rect[0],en.view[3]-Ot.rect[1]+en.view[1],Ot.rect[2],en.view[3]-Ot.rect[3]+en.view[1]]);if(!Bt&&Ot.borderStyle.width>0){yn.style.borderWidth=`${Ot.borderStyle.width}px`;const us=Ot.borderStyle.horizontalCornerRadius,Es=Ot.borderStyle.verticalCornerRadius;if(us>0||Es>0){const Us=`calc(${us}px * var(--scale-factor)) / calc(${Es}px * var(--scale-factor))`;yn.style.borderRadius=Us}else if(this instanceof gt){const Us=`calc(${$n}px * var(--scale-factor)) / calc(${ms}px * var(--scale-factor))`;yn.style.borderRadius=Us}switch(Ot.borderStyle.style){case o.AnnotationBorderStyleType.SOLID:yn.style.borderStyle="solid";break;case o.AnnotationBorderStyleType.DASHED:yn.style.borderStyle="dashed";break;case o.AnnotationBorderStyleType.BEVELED:(0,o.warn)("Unimplemented border style: beveled");break;case o.AnnotationBorderStyleType.INSET:(0,o.warn)("Unimplemented border style: inset");break;case o.AnnotationBorderStyleType.UNDERLINE:yn.style.borderBottomStyle="solid";break}const Ps=Ot.borderColor||null;Ps?(xt(this,kt,!0),yn.style.borderColor=o.Util.makeHexColor(Ps[0]|0,Ps[1]|0,Ps[2]|0)):yn.style.borderWidth=0}yn.style.left=`${100*(Wn[0]-qn)/Tn}%`,yn.style.top=`${100*(Wn[1]-Vn)/Fn}%`;const{rotation:Qn}=Ot;return Ot.hasOwnCanvas||Qn===0?(yn.style.width=`${100*$n/Tn}%`,yn.style.height=`${100*ms/Fn}%`):this.setRotation(Qn,yn),yn}setRotation(Bt,Ot=this.container){if(!this.data.rect)return;const{pageWidth:en,pageHeight:mn}=this.parent.viewport.rawDims,{width:yn,height:Tn}=ot(this.data.rect);let Fn,qn;Bt%180===0?(Fn=100*yn/en,qn=100*Tn/mn):(Fn=100*Tn/en,qn=100*yn/mn),Ot.style.width=`${Fn}%`,Ot.style.height=`${qn}%`,Ot.setAttribute("data-main-rotation",(360-Bt)%360)}get _commonActions(){const Bt=(Ot,en,mn)=>{const yn=mn.detail[Ot],Tn=yn[0],Fn=yn.slice(1);mn.target.style[en]=et.ColorConverters[`${Tn}_HTML`](Fn),this.annotationStorage.setValue(this.data.id,{[en]:et.ColorConverters[`${Tn}_rgb`](Fn)})};return(0,o.shadow)(this,"_commonActions",{display:Ot=>{const{display:en}=Ot.detail,mn=en%2===1;this.container.style.visibility=mn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:mn,noPrint:en===1||en===2})},print:Ot=>{this.annotationStorage.setValue(this.data.id,{noPrint:!Ot.detail.print})},hidden:Ot=>{const{hidden:en}=Ot.detail;this.container.style.visibility=en?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:en,noView:en})},focus:Ot=>{setTimeout(()=>Ot.target.focus({preventScroll:!1}),0)},userName:Ot=>{Ot.target.title=Ot.detail.userName},readonly:Ot=>{Ot.target.disabled=Ot.detail.readonly},required:Ot=>{this._setRequired(Ot.target,Ot.detail.required)},bgColor:Ot=>{Bt("bgColor","backgroundColor",Ot)},fillColor:Ot=>{Bt("fillColor","backgroundColor",Ot)},fgColor:Ot=>{Bt("fgColor","color",Ot)},textColor:Ot=>{Bt("textColor","color",Ot)},borderColor:Ot=>{Bt("borderColor","borderColor",Ot)},strokeColor:Ot=>{Bt("strokeColor","borderColor",Ot)},rotation:Ot=>{const en=Ot.detail.rotation;this.setRotation(en),this.annotationStorage.setValue(this.data.id,{rotation:en})}})}_dispatchEventFromSandbox(Bt,Ot){const en=this._commonActions;for(const mn of Object.keys(Ot.detail)){const yn=Bt[mn]||en[mn];yn==null||yn(Ot)}}_setDefaultPropertiesFromJS(Bt){if(!this.enableScripting)return;const Ot=this.annotationStorage.getRawValue(this.data.id);if(!Ot)return;const en=this._commonActions;for(const[mn,yn]of Object.entries(Ot)){const Tn=en[mn];if(Tn){const Fn={detail:{[mn]:yn},target:Bt};Tn(Fn),delete Ot[mn]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Bt}=this.data;if(!Bt)return;const[Ot,en,mn,yn]=this.data.rect;if(Bt.length===1){const[,{x:Es,y:Ps},{x:Us,y:mr}]=Bt[0];if(mn===Es&&yn===Ps&&Ot===Us&&en===mr)return}const{style:Tn}=this.container;let Fn;if(tt(this,kt)){const{borderColor:Es,borderWidth:Ps}=Tn;Tn.borderWidth=0,Fn=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Es}" stroke-width="${Ps}">`],this.container.classList.add("hasBorder")}const qn=mn-Ot,Vn=yn-en,{svgFactory:$n}=this,ms=$n.createElement("svg");ms.classList.add("quadrilateralsContainer"),ms.setAttribute("width",0),ms.setAttribute("height",0);const Wn=$n.createElement("defs");ms.append(Wn);const Qn=$n.createElement("clipPath"),us=`clippath_${this.data.id}`;Qn.setAttribute("id",us),Qn.setAttribute("clipPathUnits","objectBoundingBox"),Wn.append(Qn);for(const[,{x:Es,y:Ps},{x:Us,y:mr}]of Bt){const ar=$n.createElement("rect"),ho=(Us-Ot)/qn,ko=(yn-Ps)/Vn,Ro=(Es-Us)/qn,O0=(Ps-mr)/Vn;ar.setAttribute("x",ho),ar.setAttribute("y",ko),ar.setAttribute("width",Ro),ar.setAttribute("height",O0),Qn.append(ar),Fn==null||Fn.push(`<rect vector-effect="non-scaling-stroke" x="${ho}" y="${ko}" width="${Ro}" height="${O0}"/>`)}tt(this,kt)&&(Fn.push("</g></svg>')"),Tn.backgroundImage=Fn.join("")),this.container.append(ms),this.container.style.clipPath=`url(#${us})`}_createPopup(){const{container:Bt,data:Ot}=this;Bt.setAttribute("aria-haspopup","dialog");const en=new bt({data:{color:Ot.color,titleObj:Ot.titleObj,modificationDate:Ot.modificationDate,contentsObj:Ot.contentsObj,richText:Ot.richText,parentRect:Ot.rect,borderStyle:0,id:`popup_${Ot.id}`,rotation:Ot.rotation},parent:this.parent,elements:[this]});this.parent.div.append(en.render())}render(){(0,o.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Bt,Ot=null){const en=[];if(this._fieldObjects){const mn=this._fieldObjects[Bt];if(mn)for(const{page:yn,id:Tn,exportValues:Fn}of mn){if(yn===-1||Tn===Ot)continue;const qn=typeof Fn=="string"?Fn:null,Vn=document.querySelector(`[data-element-id="${Tn}"]`);if(Vn&&!at.has(Vn)){(0,o.warn)(`_getElementsByName - element not allowed: ${Tn}`);continue}en.push({id:Tn,exportValue:qn,domElement:Vn})}return en}for(const mn of document.getElementsByName(Bt)){const{exportValue:yn}=mn,Tn=mn.getAttribute("data-element-id");Tn!==Ot&&at.has(mn)&&en.push({id:Tn,exportValue:yn,domElement:mn})}return en}show(){var Bt;this.container&&(this.container.hidden=!1),(Bt=this.popup)==null||Bt.maybeShow()}hide(){var Bt;this.container&&(this.container.hidden=!0),(Bt=this.popup)==null||Bt.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Bt=this.getElementsToTriggerPopup();if(Array.isArray(Bt))for(const Ot of Bt)Ot.classList.add("highlightArea");else Bt.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Bt,data:{id:Ot}}=this;this.container.addEventListener("dblclick",()=>{var en;(en=this.linkService.eventBus)==null||en.dispatch("switchannotationeditormode",{source:this,mode:Bt,editId:Ot})})}};kt=new WeakMap;let ct=jt;class dt extends ct{constructor(Ot,en=null){super(Ot,{isRenderable:!0,ignoreBorder:!!(en!=null&&en.ignoreBorder),createQuadrilaterals:!0});At(this,Nt);this.isTooltipOnly=Ot.data.isTooltipOnly}render(){const{data:Ot,linkService:en}=this,mn=document.createElement("a");mn.setAttribute("data-element-id",Ot.id);let yn=!1;return Ot.url?(en.addLinkAttributes(mn,Ot.url,Ot.newWindow),yn=!0):Ot.action?(this._bindNamedAction(mn,Ot.action),yn=!0):Ot.attachment?(this._bindAttachment(mn,Ot.attachment),yn=!0):Ot.setOCGState?(yt(this,Nt,xE).call(this,mn,Ot.setOCGState),yn=!0):Ot.dest?(this._bindLink(mn,Ot.dest),yn=!0):(Ot.actions&&(Ot.actions.Action||Ot.actions["Mouse Up"]||Ot.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(mn,Ot),yn=!0),Ot.resetForm?(this._bindResetFormAction(mn,Ot.resetForm),yn=!0):this.isTooltipOnly&&!yn&&(this._bindLink(mn,""),yn=!0)),this.container.classList.add("linkAnnotation"),yn&&this.container.append(mn),this.container}_bindLink(Ot,en){Ot.href=this.linkService.getDestinationHash(en),Ot.onclick=()=>(en&&this.linkService.goToDestination(en),!1),(en||en==="")&&yt(this,Nt,Tu).call(this)}_bindNamedAction(Ot,en){Ot.href=this.linkService.getAnchorUrl(""),Ot.onclick=()=>(this.linkService.executeNamedAction(en),!1),yt(this,Nt,Tu).call(this)}_bindAttachment(Ot,en){Ot.href=this.linkService.getAnchorUrl(""),Ot.onclick=()=>{var mn;return(mn=this.downloadManager)==null||mn.openOrDownloadData(this.container,en.content,en.filename),!1},yt(this,Nt,Tu).call(this)}_bindJSAction(Ot,en){Ot.href=this.linkService.getAnchorUrl("");const mn=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const yn of Object.keys(en.actions)){const Tn=mn.get(yn);Tn&&(Ot[Tn]=()=>{var Fn;return(Fn=this.linkService.eventBus)==null||Fn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:en.id,name:yn}}),!1})}Ot.onclick||(Ot.onclick=()=>!1),yt(this,Nt,Tu).call(this)}_bindResetFormAction(Ot,en){const mn=Ot.onclick;if(mn||(Ot.href=this.linkService.getAnchorUrl("")),yt(this,Nt,Tu).call(this),!this._fieldObjects){(0,o.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),mn||(Ot.onclick=()=>!1);return}Ot.onclick=()=>{var ms;mn==null||mn();const{fields:yn,refs:Tn,include:Fn}=en,qn=[];if(yn.length!==0||Tn.length!==0){const Wn=new Set(Tn);for(const Qn of yn){const us=this._fieldObjects[Qn]||[];for(const{id:Es}of us)Wn.add(Es)}for(const Qn of Object.values(this._fieldObjects))for(const us of Qn)Wn.has(us.id)===Fn&&qn.push(us)}else for(const Wn of Object.values(this._fieldObjects))qn.push(...Wn);const Vn=this.annotationStorage,$n=[];for(const Wn of qn){const{id:Qn}=Wn;switch($n.push(Qn),Wn.type){case"text":{const Es=Wn.defaultValue||"";Vn.setValue(Qn,{value:Es});break}case"checkbox":case"radiobutton":{const Es=Wn.defaultValue===Wn.exportValues;Vn.setValue(Qn,{value:Es});break}case"combobox":case"listbox":{const Es=Wn.defaultValue||"";Vn.setValue(Qn,{value:Es});break}default:continue}const us=document.querySelector(`[data-element-id="${Qn}"]`);if(us){if(!at.has(us)){(0,o.warn)(`_bindResetFormAction - element not allowed: ${Qn}`);continue}}else continue;us.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((ms=this.linkService.eventBus)==null||ms.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:$n,name:"ResetForm"}})),!1}}}Nt=new WeakSet,Tu=function(){this.container.setAttribute("data-internal-link","")},xE=function(Ot,en){Ot.href=this.linkService.getAnchorUrl(""),Ot.onclick=()=>(this.linkService.executeSetOCGState(en),!1),yt(this,Nt,Tu).call(this)};class ft extends ct{constructor(Bt){super(Bt,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Bt=document.createElement("img");return Bt.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Bt.alt="[{{type}} Annotation]",Bt.dataset.l10nId="text_annotation_type",Bt.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Bt),this.container}}class lt extends ct{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Bt){var Ot;this.data.hasOwnCanvas&&(((Ot=Bt.previousSibling)==null?void 0:Ot.nodeName)==="CANVAS"&&(Bt.previousSibling.hidden=!0),Bt.hidden=!1)}_getKeyModifier(Bt){const{isWin:Ot,isMac:en}=o.FeatureTest.platform;return Ot&&Bt.ctrlKey||en&&Bt.metaKey}_setEventListener(Bt,Ot,en,mn,yn){en.includes("mouse")?Bt.addEventListener(en,Tn=>{var Fn;(Fn=this.linkService.eventBus)==null||Fn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:mn,value:yn(Tn),shift:Tn.shiftKey,modifier:this._getKeyModifier(Tn)}})}):Bt.addEventListener(en,Tn=>{var Fn;if(en==="blur"){if(!Ot.focused||!Tn.relatedTarget)return;Ot.focused=!1}else if(en==="focus"){if(Ot.focused)return;Ot.focused=!0}yn&&((Fn=this.linkService.eventBus)==null||Fn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:mn,value:yn(Tn)}}))})}_setEventListeners(Bt,Ot,en,mn){var yn,Tn,Fn;for(const[qn,Vn]of en)(Vn==="Action"||(yn=this.data.actions)!=null&&yn[Vn])&&((Vn==="Focus"||Vn==="Blur")&&(Ot||(Ot={focused:!1})),this._setEventListener(Bt,Ot,qn,Vn,mn),Vn==="Focus"&&!((Tn=this.data.actions)!=null&&Tn.Blur)?this._setEventListener(Bt,Ot,"blur","Blur",null):Vn==="Blur"&&!((Fn=this.data.actions)!=null&&Fn.Focus)&&this._setEventListener(Bt,Ot,"focus","Focus",null))}_setBackgroundColor(Bt){const Ot=this.data.backgroundColor||null;Bt.style.backgroundColor=Ot===null?"transparent":o.Util.makeHexColor(Ot[0],Ot[1],Ot[2])}_setTextStyle(Bt){const Ot=["left","center","right"],{fontColor:en}=this.data.defaultAppearanceData,mn=this.data.defaultAppearanceData.fontSize||st,yn=Bt.style;let Tn;const Fn=2,qn=Vn=>Math.round(10*Vn)/10;if(this.data.multiLine){const Vn=Math.abs(this.data.rect[3]-this.data.rect[1]-Fn),$n=Math.round(Vn/(o.LINE_FACTOR*mn))||1,ms=Vn/$n;Tn=Math.min(mn,qn(ms/o.LINE_FACTOR))}else{const Vn=Math.abs(this.data.rect[3]-this.data.rect[1]-Fn);Tn=Math.min(mn,qn(Vn/o.LINE_FACTOR))}yn.fontSize=`calc(${Tn}px * var(--scale-factor))`,yn.color=o.Util.makeHexColor(en[0],en[1],en[2]),this.data.textAlignment!==null&&(yn.textAlign=Ot[this.data.textAlignment])}_setRequired(Bt,Ot){Ot?Bt.setAttribute("required",!0):Bt.removeAttribute("required"),Bt.setAttribute("aria-required",Ot)}}class ht extends lt{constructor(Bt){const Ot=Bt.renderForms||!Bt.data.hasAppearance&&!!Bt.data.fieldValue;super(Bt,{isRenderable:Ot})}setPropertyOnSiblings(Bt,Ot,en,mn){const yn=this.annotationStorage;for(const Tn of this._getElementsByName(Bt.name,Bt.id))Tn.domElement&&(Tn.domElement[Ot]=en),yn.setValue(Tn.id,{[mn]:en})}render(){var mn,yn;const Bt=this.annotationStorage,Ot=this.data.id;this.container.classList.add("textWidgetAnnotation");let en=null;if(this.renderForms){const Tn=Bt.getValue(Ot,{value:this.data.fieldValue});let Fn=Tn.value||"";const qn=Bt.getValue(Ot,{charLimit:this.data.maxLen}).charLimit;qn&&Fn.length>qn&&(Fn=Fn.slice(0,qn));let Vn=Tn.formattedValue||((mn=this.data.textContent)==null?void 0:mn.join(`
`))||null;Vn&&this.data.comb&&(Vn=Vn.replaceAll(/\s+/g,""));const $n={userValue:Fn,formattedValue:Vn,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(en=document.createElement("textarea"),en.textContent=Vn??Fn,this.data.doNotScroll&&(en.style.overflowY="hidden")):(en=document.createElement("input"),en.type="text",en.setAttribute("value",Vn??Fn),this.data.doNotScroll&&(en.style.overflowX="hidden")),this.data.hasOwnCanvas&&(en.hidden=!0),at.add(en),en.setAttribute("data-element-id",Ot),en.disabled=this.data.readOnly,en.name=this.data.fieldName,en.tabIndex=rt,this._setRequired(en,this.data.required),qn&&(en.maxLength=qn),en.addEventListener("input",Wn=>{Bt.setValue(Ot,{value:Wn.target.value}),this.setPropertyOnSiblings(en,"value",Wn.target.value,"value"),$n.formattedValue=null}),en.addEventListener("resetform",Wn=>{const Qn=this.data.defaultFieldValue??"";en.value=$n.userValue=Qn,$n.formattedValue=null});let ms=Wn=>{const{formattedValue:Qn}=$n;Qn!=null&&(Wn.target.value=Qn),Wn.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){en.addEventListener("focus",Qn=>{if($n.focused)return;const{target:us}=Qn;$n.userValue&&(us.value=$n.userValue),$n.lastCommittedValue=us.value,$n.commitKey=1,$n.focused=!0}),en.addEventListener("updatefromsandbox",Qn=>{this.showElementAndHideCanvas(Qn.target);const us={value(Es){$n.userValue=Es.detail.value??"",Bt.setValue(Ot,{value:$n.userValue.toString()}),Es.target.value=$n.userValue},formattedValue(Es){const{formattedValue:Ps}=Es.detail;$n.formattedValue=Ps,Ps!=null&&Es.target!==document.activeElement&&(Es.target.value=Ps),Bt.setValue(Ot,{formattedValue:Ps})},selRange(Es){Es.target.setSelectionRange(...Es.detail.selRange)},charLimit:Es=>{var ar;const{charLimit:Ps}=Es.detail,{target:Us}=Es;if(Ps===0){Us.removeAttribute("maxLength");return}Us.setAttribute("maxLength",Ps);let mr=$n.userValue;!mr||mr.length<=Ps||(mr=mr.slice(0,Ps),Us.value=$n.userValue=mr,Bt.setValue(Ot,{value:mr}),(ar=this.linkService.eventBus)==null||ar.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ot,name:"Keystroke",value:mr,willCommit:!0,commitKey:1,selStart:Us.selectionStart,selEnd:Us.selectionEnd}}))}};this._dispatchEventFromSandbox(us,Qn)}),en.addEventListener("keydown",Qn=>{var Ps;$n.commitKey=1;let us=-1;if(Qn.key==="Escape"?us=0:Qn.key==="Enter"&&!this.data.multiLine?us=2:Qn.key==="Tab"&&($n.commitKey=3),us===-1)return;const{value:Es}=Qn.target;$n.lastCommittedValue!==Es&&($n.lastCommittedValue=Es,$n.userValue=Es,(Ps=this.linkService.eventBus)==null||Ps.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ot,name:"Keystroke",value:Es,willCommit:!0,commitKey:us,selStart:Qn.target.selectionStart,selEnd:Qn.target.selectionEnd}}))});const Wn=ms;ms=null,en.addEventListener("blur",Qn=>{var Es;if(!$n.focused||!Qn.relatedTarget)return;$n.focused=!1;const{value:us}=Qn.target;$n.userValue=us,$n.lastCommittedValue!==us&&((Es=this.linkService.eventBus)==null||Es.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ot,name:"Keystroke",value:us,willCommit:!0,commitKey:$n.commitKey,selStart:Qn.target.selectionStart,selEnd:Qn.target.selectionEnd}})),Wn(Qn)}),(yn=this.data.actions)!=null&&yn.Keystroke&&en.addEventListener("beforeinput",Qn=>{var ko;$n.lastCommittedValue=null;const{data:us,target:Es}=Qn,{value:Ps,selectionStart:Us,selectionEnd:mr}=Es;let ar=Us,ho=mr;switch(Qn.inputType){case"deleteWordBackward":{const Ro=Ps.substring(0,Us).match(/\w*[^\w]*$/);Ro&&(ar-=Ro[0].length);break}case"deleteWordForward":{const Ro=Ps.substring(Us).match(/^[^\w]*\w*/);Ro&&(ho+=Ro[0].length);break}case"deleteContentBackward":Us===mr&&(ar-=1);break;case"deleteContentForward":Us===mr&&(ho+=1);break}Qn.preventDefault(),(ko=this.linkService.eventBus)==null||ko.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ot,name:"Keystroke",value:Ps,change:us||"",willCommit:!1,selStart:ar,selEnd:ho}})}),this._setEventListeners(en,$n,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Qn=>Qn.target.value)}if(ms&&en.addEventListener("blur",ms),this.data.comb){const Qn=(this.data.rect[2]-this.data.rect[0])/qn;en.classList.add("comb"),en.style.letterSpacing=`calc(${Qn}px * var(--scale-factor) - 1ch)`}}else en=document.createElement("div"),en.textContent=this.data.fieldValue,en.style.verticalAlign="middle",en.style.display="table-cell";return this._setTextStyle(en),this._setBackgroundColor(en),this._setDefaultPropertiesFromJS(en),this.container.append(en),this.container}}class pt extends lt{constructor(Bt){super(Bt,{isRenderable:!!Bt.data.hasOwnCanvas})}}class vt extends lt{constructor(Bt){super(Bt,{isRenderable:Bt.renderForms})}render(){const Bt=this.annotationStorage,Ot=this.data,en=Ot.id;let mn=Bt.getValue(en,{value:Ot.exportValue===Ot.fieldValue}).value;typeof mn=="string"&&(mn=mn!=="Off",Bt.setValue(en,{value:mn})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const yn=document.createElement("input");return at.add(yn),yn.setAttribute("data-element-id",en),yn.disabled=Ot.readOnly,this._setRequired(yn,this.data.required),yn.type="checkbox",yn.name=Ot.fieldName,mn&&yn.setAttribute("checked",!0),yn.setAttribute("exportValue",Ot.exportValue),yn.tabIndex=rt,yn.addEventListener("change",Tn=>{const{name:Fn,checked:qn}=Tn.target;for(const Vn of this._getElementsByName(Fn,en)){const $n=qn&&Vn.exportValue===Ot.exportValue;Vn.domElement&&(Vn.domElement.checked=$n),Bt.setValue(Vn.id,{value:$n})}Bt.setValue(en,{value:qn})}),yn.addEventListener("resetform",Tn=>{const Fn=Ot.defaultFieldValue||"Off";Tn.target.checked=Fn===Ot.exportValue}),this.enableScripting&&this.hasJSActions&&(yn.addEventListener("updatefromsandbox",Tn=>{const Fn={value(qn){qn.target.checked=qn.detail.value!=="Off",Bt.setValue(en,{value:qn.target.checked})}};this._dispatchEventFromSandbox(Fn,Tn)}),this._setEventListeners(yn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Tn=>Tn.target.checked)),this._setBackgroundColor(yn),this._setDefaultPropertiesFromJS(yn),this.container.append(yn),this.container}}class gt extends lt{constructor(Bt){super(Bt,{isRenderable:Bt.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Bt=this.annotationStorage,Ot=this.data,en=Ot.id;let mn=Bt.getValue(en,{value:Ot.fieldValue===Ot.buttonValue}).value;typeof mn=="string"&&(mn=mn!==Ot.buttonValue,Bt.setValue(en,{value:mn}));const yn=document.createElement("input");if(at.add(yn),yn.setAttribute("data-element-id",en),yn.disabled=Ot.readOnly,this._setRequired(yn,this.data.required),yn.type="radio",yn.name=Ot.fieldName,mn&&yn.setAttribute("checked",!0),yn.tabIndex=rt,yn.addEventListener("change",Tn=>{const{name:Fn,checked:qn}=Tn.target;for(const Vn of this._getElementsByName(Fn,en))Bt.setValue(Vn.id,{value:!1});Bt.setValue(en,{value:qn})}),yn.addEventListener("resetform",Tn=>{const Fn=Ot.defaultFieldValue;Tn.target.checked=Fn!=null&&Fn===Ot.buttonValue}),this.enableScripting&&this.hasJSActions){const Tn=Ot.buttonValue;yn.addEventListener("updatefromsandbox",Fn=>{const qn={value:Vn=>{const $n=Tn===Vn.detail.value;for(const ms of this._getElementsByName(Vn.target.name)){const Wn=$n&&ms.id===en;ms.domElement&&(ms.domElement.checked=Wn),Bt.setValue(ms.id,{value:Wn})}}};this._dispatchEventFromSandbox(qn,Fn)}),this._setEventListeners(yn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Fn=>Fn.target.checked)}return this._setBackgroundColor(yn),this._setDefaultPropertiesFromJS(yn),this.container.append(yn),this.container}}class _t extends dt{constructor(Bt){super(Bt,{ignoreBorder:Bt.data.hasAppearance})}render(){const Bt=super.render();Bt.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Bt.title=this.data.alternativeText);const Ot=Bt.lastChild;return this.enableScripting&&this.hasJSActions&&Ot&&(this._setDefaultPropertiesFromJS(Ot),Ot.addEventListener("updatefromsandbox",en=>{this._dispatchEventFromSandbox({},en)})),Bt}}class mt extends lt{constructor(Bt){super(Bt,{isRenderable:Bt.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Bt=this.annotationStorage,Ot=this.data.id,en=Bt.getValue(Ot,{value:this.data.fieldValue}),mn=document.createElement("select");at.add(mn),mn.setAttribute("data-element-id",Ot),mn.disabled=this.data.readOnly,this._setRequired(mn,this.data.required),mn.name=this.data.fieldName,mn.tabIndex=rt;let yn=this.data.combo&&this.data.options.length>0;this.data.combo||(mn.size=this.data.options.length,this.data.multiSelect&&(mn.multiple=!0)),mn.addEventListener("resetform",$n=>{const ms=this.data.defaultFieldValue;for(const Wn of mn.options)Wn.selected=Wn.value===ms});for(const $n of this.data.options){const ms=document.createElement("option");ms.textContent=$n.displayValue,ms.value=$n.exportValue,en.value.includes($n.exportValue)&&(ms.setAttribute("selected",!0),yn=!1),mn.append(ms)}let Tn=null;if(yn){const $n=document.createElement("option");$n.value=" ",$n.setAttribute("hidden",!0),$n.setAttribute("selected",!0),mn.prepend($n),Tn=()=>{$n.remove(),mn.removeEventListener("input",Tn),Tn=null},mn.addEventListener("input",Tn)}const Fn=$n=>{const ms=$n?"value":"textContent",{options:Wn,multiple:Qn}=mn;return Qn?Array.prototype.filter.call(Wn,us=>us.selected).map(us=>us[ms]):Wn.selectedIndex===-1?null:Wn[Wn.selectedIndex][ms]};let qn=Fn(!1);const Vn=$n=>{const ms=$n.target.options;return Array.prototype.map.call(ms,Wn=>({displayValue:Wn.textContent,exportValue:Wn.value}))};return this.enableScripting&&this.hasJSActions?(mn.addEventListener("updatefromsandbox",$n=>{const ms={value(Wn){Tn==null||Tn();const Qn=Wn.detail.value,us=new Set(Array.isArray(Qn)?Qn:[Qn]);for(const Es of mn.options)Es.selected=us.has(Es.value);Bt.setValue(Ot,{value:Fn(!0)}),qn=Fn(!1)},multipleSelection(Wn){mn.multiple=!0},remove(Wn){const Qn=mn.options,us=Wn.detail.remove;Qn[us].selected=!1,mn.remove(us),Qn.length>0&&Array.prototype.findIndex.call(Qn,Ps=>Ps.selected)===-1&&(Qn[0].selected=!0),Bt.setValue(Ot,{value:Fn(!0),items:Vn(Wn)}),qn=Fn(!1)},clear(Wn){for(;mn.length!==0;)mn.remove(0);Bt.setValue(Ot,{value:null,items:[]}),qn=Fn(!1)},insert(Wn){const{index:Qn,displayValue:us,exportValue:Es}=Wn.detail.insert,Ps=mn.children[Qn],Us=document.createElement("option");Us.textContent=us,Us.value=Es,Ps?Ps.before(Us):mn.append(Us),Bt.setValue(Ot,{value:Fn(!0),items:Vn(Wn)}),qn=Fn(!1)},items(Wn){const{items:Qn}=Wn.detail;for(;mn.length!==0;)mn.remove(0);for(const us of Qn){const{displayValue:Es,exportValue:Ps}=us,Us=document.createElement("option");Us.textContent=Es,Us.value=Ps,mn.append(Us)}mn.options.length>0&&(mn.options[0].selected=!0),Bt.setValue(Ot,{value:Fn(!0),items:Vn(Wn)}),qn=Fn(!1)},indices(Wn){const Qn=new Set(Wn.detail.indices);for(const us of Wn.target.options)us.selected=Qn.has(us.index);Bt.setValue(Ot,{value:Fn(!0)}),qn=Fn(!1)},editable(Wn){Wn.target.disabled=!Wn.detail.editable}};this._dispatchEventFromSandbox(ms,$n)}),mn.addEventListener("input",$n=>{var Wn;const ms=Fn(!0);Bt.setValue(Ot,{value:ms}),$n.preventDefault(),(Wn=this.linkService.eventBus)==null||Wn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ot,name:"Keystroke",value:qn,changeEx:ms,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(mn,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],$n=>$n.target.value)):mn.addEventListener("input",function($n){Bt.setValue(Ot,{value:Fn(!0)})}),this.data.combo&&this._setTextStyle(mn),this._setBackgroundColor(mn),this._setDefaultPropertiesFromJS(mn),this.container.append(mn),this.container}}class bt extends ct{constructor(Bt){const{data:Ot,elements:en}=Bt;super(Bt,{isRenderable:ct._hasPopupData(Ot)}),this.elements=en}render(){this.container.classList.add("popupAnnotation");const Bt=new Ct({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),Ot=[];for(const en of this.elements)en.popup=Bt,Ot.push(en.data.id),en.addHighlightArea();return this.container.setAttribute("aria-controls",Ot.map(en=>`${o.AnnotationPrefix}${en}`).join(",")),this.container}}class Ct{constructor({container:Bt,color:Ot,elements:en,titleObj:mn,modificationDate:yn,contentsObj:Tn,richText:Fn,parent:qn,rect:Vn,parentRect:$n,open:ms}){At(this,Ln);At(this,gn,null);At(this,vn,yt(this,Ln,EE).bind(this));At(this,bn,yt(this,Ln,M_).bind(this));At(this,_n,yt(this,Ln,P_).bind(this));At(this,An,yt(this,Ln,Z0).bind(this));At(this,wn,null);At(this,on,null);At(this,hn,null);At(this,It,null);At(this,Vt,null);At(this,rn,null);At(this,fn,!1);At(this,xn,null);At(this,kn,null);At(this,Cn,null);At(this,sn,null);At(this,On,!1);var Qn;xt(this,on,Bt),xt(this,sn,mn),xt(this,hn,Tn),xt(this,Cn,Fn),xt(this,Vt,qn),xt(this,wn,Ot),xt(this,kn,Vn),xt(this,rn,$n),xt(this,It,en);const Wn=j.PDFDateString.toDateObject(yn);Wn&&xt(this,gn,qn.l10n.get("annotation_date_string",{date:Wn.toLocaleDateString(),time:Wn.toLocaleTimeString()})),this.trigger=en.flatMap(us=>us.getElementsToTriggerPopup());for(const us of this.trigger)us.addEventListener("click",tt(this,An)),us.addEventListener("mouseenter",tt(this,_n)),us.addEventListener("mouseleave",tt(this,bn)),us.classList.add("popupTriggerArea");for(const us of en)(Qn=us.container)==null||Qn.addEventListener("keydown",tt(this,vn));tt(this,on).hidden=!0,ms&&yt(this,Ln,Z0).call(this)}render(){if(tt(this,xn))return;const{page:{view:Bt},viewport:{rawDims:{pageWidth:Ot,pageHeight:en,pageX:mn,pageY:yn}}}=tt(this,Vt),Tn=xt(this,xn,document.createElement("div"));if(Tn.className="popup",tt(this,wn)){const ar=Tn.style.outlineColor=o.Util.makeHexColor(...tt(this,wn));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?Tn.style.backgroundColor=`color-mix(in srgb, ${ar} 30%, white)`:Tn.style.backgroundColor=o.Util.makeHexColor(...tt(this,wn).map(ko=>Math.floor(.7*(255-ko)+ko)))}const Fn=document.createElement("span");Fn.className="header";const qn=document.createElement("h1");if(Fn.append(qn),{dir:qn.dir,str:qn.textContent}=tt(this,sn),Tn.append(Fn),tt(this,gn)){const ar=document.createElement("span");ar.classList.add("popupDate"),tt(this,gn).then(ho=>{ar.textContent=ho}),Fn.append(ar)}const Vn=tt(this,hn),$n=tt(this,Cn);if($n!=null&&$n.str&&(!(Vn!=null&&Vn.str)||Vn.str===$n.str))it.XfaLayer.render({xfaHtml:$n.html,intent:"richText",div:Tn}),Tn.lastChild.classList.add("richText","popupContent");else{const ar=this._formatContents(Vn);Tn.append(ar)}let ms=!!tt(this,rn),Wn=ms?tt(this,rn):tt(this,kn);for(const ar of tt(this,It))if(!Wn||o.Util.intersect(ar.data.rect,Wn)!==null){Wn=ar.data.rect,ms=!0;break}const Qn=o.Util.normalizeRect([Wn[0],Bt[3]-Wn[1]+Bt[1],Wn[2],Bt[3]-Wn[3]+Bt[1]]),Es=ms?Wn[2]-Wn[0]+5:0,Ps=Qn[0]+Es,Us=Qn[1],{style:mr}=tt(this,on);mr.left=`${100*(Ps-mn)/Ot}%`,mr.top=`${100*(Us-yn)/en}%`,tt(this,on).append(Tn)}_formatContents({str:Bt,dir:Ot}){const en=document.createElement("p");en.classList.add("popupContent"),en.dir=Ot;const mn=Bt.split(/(?:\r\n?|\n)/);for(let yn=0,Tn=mn.length;yn<Tn;++yn){const Fn=mn[yn];en.append(document.createTextNode(Fn)),yn<Tn-1&&en.append(document.createElement("br"))}return en}forceHide(){xt(this,On,this.isVisible),tt(this,On)&&(tt(this,on).hidden=!0)}maybeShow(){tt(this,On)&&(xt(this,On,!1),tt(this,on).hidden=!1)}get isVisible(){return tt(this,on).hidden===!1}}gn=new WeakMap,vn=new WeakMap,bn=new WeakMap,_n=new WeakMap,An=new WeakMap,wn=new WeakMap,on=new WeakMap,hn=new WeakMap,It=new WeakMap,Vt=new WeakMap,rn=new WeakMap,fn=new WeakMap,xn=new WeakMap,kn=new WeakMap,Cn=new WeakMap,sn=new WeakMap,On=new WeakMap,Ln=new WeakSet,EE=function(Bt){Bt.altKey||Bt.shiftKey||Bt.ctrlKey||Bt.metaKey||(Bt.key==="Enter"||Bt.key==="Escape"&&tt(this,fn))&&yt(this,Ln,Z0).call(this)},Z0=function(){xt(this,fn,!tt(this,fn)),tt(this,fn)?(yt(this,Ln,P_).call(this),tt(this,on).addEventListener("click",tt(this,An)),tt(this,on).addEventListener("keydown",tt(this,vn))):(yt(this,Ln,M_).call(this),tt(this,on).removeEventListener("click",tt(this,An)),tt(this,on).removeEventListener("keydown",tt(this,vn)))},P_=function(){tt(this,xn)||this.render(),this.isVisible?tt(this,fn)&&tt(this,on).classList.add("focused"):(tt(this,on).hidden=!1,tt(this,on).style.zIndex=parseInt(tt(this,on).style.zIndex)+1e3)},M_=function(){tt(this,on).classList.remove("focused"),!(tt(this,fn)||!this.isVisible)&&(tt(this,on).hidden=!0,tt(this,on).style.zIndex=parseInt(tt(this,on).style.zIndex)-1e3)};class Pt extends ct{constructor(Bt){super(Bt,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Bt.data.textContent,this.textPosition=Bt.data.textPosition,this.annotationEditorType=o.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Bt=document.createElement("div");Bt.classList.add("annotationTextContent"),Bt.setAttribute("role","comment");for(const Ot of this.textContent){const en=document.createElement("span");en.textContent=Ot,Bt.append(en)}this.container.append(Bt)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}i.FreeTextAnnotationElement=Pt;class St extends ct{constructor(Ot){super(Ot,{isRenderable:!0,ignoreBorder:!0});At(this,_i,null)}render(){this.container.classList.add("lineAnnotation");const Ot=this.data,{width:en,height:mn}=ot(Ot.rect),yn=this.svgFactory.create(en,mn,!0),Tn=xt(this,_i,this.svgFactory.createElement("svg:line"));return Tn.setAttribute("x1",Ot.rect[2]-Ot.lineCoordinates[0]),Tn.setAttribute("y1",Ot.rect[3]-Ot.lineCoordinates[1]),Tn.setAttribute("x2",Ot.rect[2]-Ot.lineCoordinates[2]),Tn.setAttribute("y2",Ot.rect[3]-Ot.lineCoordinates[3]),Tn.setAttribute("stroke-width",Ot.borderStyle.width||1),Tn.setAttribute("stroke","transparent"),Tn.setAttribute("fill","transparent"),yn.append(Tn),this.container.append(yn),!Ot.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return tt(this,_i)}addHighlightArea(){this.container.classList.add("highlightArea")}}_i=new WeakMap;class Mt extends ct{constructor(Ot){super(Ot,{isRenderable:!0,ignoreBorder:!0});At(this,ys,null)}render(){this.container.classList.add("squareAnnotation");const Ot=this.data,{width:en,height:mn}=ot(Ot.rect),yn=this.svgFactory.create(en,mn,!0),Tn=Ot.borderStyle.width,Fn=xt(this,ys,this.svgFactory.createElement("svg:rect"));return Fn.setAttribute("x",Tn/2),Fn.setAttribute("y",Tn/2),Fn.setAttribute("width",en-Tn),Fn.setAttribute("height",mn-Tn),Fn.setAttribute("stroke-width",Tn||1),Fn.setAttribute("stroke","transparent"),Fn.setAttribute("fill","transparent"),yn.append(Fn),this.container.append(yn),!Ot.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return tt(this,ys)}addHighlightArea(){this.container.classList.add("highlightArea")}}ys=new WeakMap;class Dt extends ct{constructor(Ot){super(Ot,{isRenderable:!0,ignoreBorder:!0});At(this,Ls,null)}render(){this.container.classList.add("circleAnnotation");const Ot=this.data,{width:en,height:mn}=ot(Ot.rect),yn=this.svgFactory.create(en,mn,!0),Tn=Ot.borderStyle.width,Fn=xt(this,Ls,this.svgFactory.createElement("svg:ellipse"));return Fn.setAttribute("cx",en/2),Fn.setAttribute("cy",mn/2),Fn.setAttribute("rx",en/2-Tn/2),Fn.setAttribute("ry",mn/2-Tn/2),Fn.setAttribute("stroke-width",Tn||1),Fn.setAttribute("stroke","transparent"),Fn.setAttribute("fill","transparent"),yn.append(Fn),this.container.append(yn),!Ot.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return tt(this,Ls)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ls=new WeakMap;class Qt extends ct{constructor(Ot){super(Ot,{isRenderable:!0,ignoreBorder:!0});At(this,Sn,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const Ot=this.data,{width:en,height:mn}=ot(Ot.rect),yn=this.svgFactory.create(en,mn,!0);let Tn=[];for(const qn of Ot.vertices){const Vn=qn.x-Ot.rect[0],$n=Ot.rect[3]-qn.y;Tn.push(Vn+","+$n)}Tn=Tn.join(" ");const Fn=xt(this,Sn,this.svgFactory.createElement(this.svgElementName));return Fn.setAttribute("points",Tn),Fn.setAttribute("stroke-width",Ot.borderStyle.width||1),Fn.setAttribute("stroke","transparent"),Fn.setAttribute("fill","transparent"),yn.append(Fn),this.container.append(yn),!Ot.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return tt(this,Sn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Sn=new WeakMap;class Xt extends Qt{constructor(Bt){super(Bt),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Yt extends ct{constructor(Bt){super(Bt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Ht extends ct{constructor(Ot){super(Ot,{isRenderable:!0,ignoreBorder:!0});At(this,an,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=o.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const Ot=this.data,{width:en,height:mn}=ot(Ot.rect),yn=this.svgFactory.create(en,mn,!0);for(const Tn of Ot.inkLists){let Fn=[];for(const Vn of Tn){const $n=Vn.x-Ot.rect[0],ms=Ot.rect[3]-Vn.y;Fn.push(`${$n},${ms}`)}Fn=Fn.join(" ");const qn=this.svgFactory.createElement(this.svgElementName);tt(this,an).push(qn),qn.setAttribute("points",Fn),qn.setAttribute("stroke-width",Ot.borderStyle.width||1),qn.setAttribute("stroke","transparent"),qn.setAttribute("fill","transparent"),!Ot.popupRef&&this.hasPopupData&&this._createPopup(),yn.append(qn)}return this.container.append(yn),this.container}getElementsToTriggerPopup(){return tt(this,an)}addHighlightArea(){this.container.classList.add("highlightArea")}}an=new WeakMap,i.InkAnnotationElement=Ht;class Ut extends ct{constructor(Bt){super(Bt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Lt extends ct{constructor(Bt){super(Bt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class zt extends ct{constructor(Bt){super(Bt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Zt extends ct{constructor(Bt){super(Bt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Ft extends ct{constructor(Bt){super(Bt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}i.StampAnnotationElement=Ft;class Et extends ct{constructor(Ot){var yn;super(Ot,{isRenderable:!0});At(this,Un);At(this,cn,null);const{filename:en,content:mn}=this.data.file;this.filename=(0,j.getFilenameFromUrl)(en,!0),this.content=mn,(yn=this.linkService.eventBus)==null||yn.dispatch("fileattachmentannotation",{source:this,filename:en,content:mn})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:Ot,data:en}=this;let mn;en.hasAppearance||en.fillAlpha===0?mn=document.createElement("div"):(mn=document.createElement("img"),mn.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(en.name)?"paperclip":"pushpin"}.svg`,en.fillAlpha&&en.fillAlpha<1&&(mn.style=`filter: opacity(${Math.round(en.fillAlpha*100)}%);`)),mn.addEventListener("dblclick",yt(this,Un,F_).bind(this)),xt(this,cn,mn);const{isMac:yn}=o.FeatureTest.platform;return Ot.addEventListener("keydown",Tn=>{Tn.key==="Enter"&&(yn?Tn.metaKey:Tn.ctrlKey)&&yt(this,Un,F_).call(this)}),!en.popupRef&&this.hasPopupData?this._createPopup():mn.classList.add("popupTriggerArea"),Ot.append(mn),Ot}getElementsToTriggerPopup(){return tt(this,cn)}addHighlightArea(){this.container.classList.add("highlightArea")}}cn=new WeakMap,Un=new WeakSet,F_=function(){var Ot;(Ot=this.downloadManager)==null||Ot.openOrDownloadData(this.container,this.content,this.filename)};class Tt{constructor({div:Bt,accessibilityManager:Ot,annotationCanvasMap:en,l10n:mn,page:yn,viewport:Tn}){At(this,Nn);At(this,ss,null);At(this,Wt,null);At(this,En,new Map);this.div=Bt,xt(this,ss,Ot),xt(this,Wt,en),this.l10n=mn,this.page=yn,this.viewport=Tn,this.zIndex=0,this.l10n||(this.l10n=nt.NullL10n)}async render(Bt){const{annotations:Ot}=Bt,en=this.div;(0,j.setLayerDimensions)(en,this.viewport);const mn=new Map,yn={data:null,layer:en,linkService:Bt.linkService,downloadManager:Bt.downloadManager,imageResourcesPath:Bt.imageResourcesPath||"",renderForms:Bt.renderForms!==!1,svgFactory:new j.DOMSVGFactory,annotationStorage:Bt.annotationStorage||new _e.AnnotationStorage,enableScripting:Bt.enableScripting===!0,hasJSActions:Bt.hasJSActions,fieldObjects:Bt.fieldObjects,parent:this,elements:null};for(const Tn of Ot){if(Tn.noHTML)continue;const Fn=Tn.annotationType===o.AnnotationType.POPUP;if(Fn){const $n=mn.get(Tn.id);if(!$n)continue;yn.elements=$n}else{const{width:$n,height:ms}=ot(Tn.rect);if($n<=0||ms<=0)continue}yn.data=Tn;const qn=ut.create(yn);if(!qn.isRenderable)continue;if(!Fn&&Tn.popupRef){const $n=mn.get(Tn.popupRef);$n?$n.push(qn):mn.set(Tn.popupRef,[qn])}qn.annotationEditorType>0&&tt(this,En).set(qn.data.id,qn);const Vn=qn.render();Tn.hidden&&(Vn.style.visibility="hidden"),yt(this,Nn,AE).call(this,Vn,Tn.id)}yt(this,Nn,L_).call(this),await this.l10n.translate(en)}update({viewport:Bt}){const Ot=this.div;this.viewport=Bt,(0,j.setLayerDimensions)(Ot,{rotation:Bt.rotation}),yt(this,Nn,L_).call(this),Ot.hidden=!1}getEditableAnnotations(){return Array.from(tt(this,En).values())}getEditableAnnotation(Bt){return tt(this,En).get(Bt)}}ss=new WeakMap,Wt=new WeakMap,En=new WeakMap,Nn=new WeakSet,AE=function(Bt,Ot){var mn;const en=Bt.firstChild||Bt;en.id=`${o.AnnotationPrefix}${Ot}`,this.div.append(Bt),(mn=tt(this,ss))==null||mn.moveElementInDOM(this.div,Bt,en,!1)},L_=function(){if(!tt(this,Wt))return;const Bt=this.div;for(const[Ot,en]of tt(this,Wt)){const mn=Bt.querySelector(`[data-annotation-id="${Ot}"]`);if(!mn)continue;const{firstChild:yn}=mn;yn?yn.nodeName==="CANVAS"?yn.replaceWith(en):yn.before(en):mn.append(en)}tt(this,Wt).clear()},i.AnnotationLayer=Tt},(a,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ColorConverters=void 0;function s(_e){return Math.floor(Math.max(0,Math.min(1,_e))*255).toString(16).padStart(2,"0")}function o(_e){return Math.max(0,Math.min(255,255*_e))}class j{static CMYK_G([et,nt,it,rt]){return["G",1-Math.min(1,.3*et+.59*it+.11*nt+rt)]}static G_CMYK([et]){return["CMYK",0,0,0,1-et]}static G_RGB([et]){return["RGB",et,et,et]}static G_rgb([et]){return et=o(et),[et,et,et]}static G_HTML([et]){const nt=s(et);return`#${nt}${nt}${nt}`}static RGB_G([et,nt,it]){return["G",.3*et+.59*nt+.11*it]}static RGB_rgb(et){return et.map(o)}static RGB_HTML(et){return`#${et.map(s).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([et,nt,it,rt]){return["RGB",1-Math.min(1,et+rt),1-Math.min(1,it+rt),1-Math.min(1,nt+rt)]}static CMYK_rgb([et,nt,it,rt]){return[o(1-Math.min(1,et+rt)),o(1-Math.min(1,it+rt)),o(1-Math.min(1,nt+rt))]}static CMYK_HTML(et){const nt=this.CMYK_RGB(et).slice(1);return this.RGB_HTML(nt)}static RGB_CMYK([et,nt,it]){const rt=1-et,st=1-nt,at=1-it,ot=Math.min(rt,st,at);return["CMYK",rt,st,at,ot]}}i.ColorConverters=j},(a,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.NullL10n=void 0,i.getL10nFallback=o;const s={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};s.print_progress_percent="{{progress}}%";function o(et,nt){switch(et){case"find_match_count":et=`find_match_count[${nt.total===1?"one":"other"}]`;break;case"find_match_count_limit":et=`find_match_count_limit[${nt.limit===1?"one":"other"}]`;break}return s[et]||""}function j(et,nt){return nt?et.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(it,rt)=>rt in nt?nt[rt]:"{{"+rt+"}}"):et}const _e={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(et,nt=null,it=o(et,nt)){return j(it,nt)},async translate(et){}};i.NullL10n=_e},(a,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaLayer=void 0;var o=s(25);class j{static setupStorage(et,nt,it,rt,st){const at=rt.getValue(nt,{value:null});switch(it.name){case"textarea":if(at.value!==null&&(et.textContent=at.value),st==="print")break;et.addEventListener("input",ot=>{rt.setValue(nt,{value:ot.target.value})});break;case"input":if(it.attributes.type==="radio"||it.attributes.type==="checkbox"){if(at.value===it.attributes.xfaOn?et.setAttribute("checked",!0):at.value===it.attributes.xfaOff&&et.removeAttribute("checked"),st==="print")break;et.addEventListener("change",ot=>{rt.setValue(nt,{value:ot.target.checked?ot.target.getAttribute("xfaOn"):ot.target.getAttribute("xfaOff")})})}else{if(at.value!==null&&et.setAttribute("value",at.value),st==="print")break;et.addEventListener("input",ot=>{rt.setValue(nt,{value:ot.target.value})})}break;case"select":if(at.value!==null){et.setAttribute("value",at.value);for(const ot of it.children)ot.attributes.value===at.value?ot.attributes.selected=!0:ot.attributes.hasOwnProperty("selected")&&delete ot.attributes.selected}et.addEventListener("input",ot=>{const ut=ot.target.options,ct=ut.selectedIndex===-1?"":ut[ut.selectedIndex].value;rt.setValue(nt,{value:ct})});break}}static setAttributes({html:et,element:nt,storage:it=null,intent:rt,linkService:st}){const{attributes:at}=nt,ot=et instanceof HTMLAnchorElement;at.type==="radio"&&(at.name=`${at.name}-${rt}`);for(const[ut,ct]of Object.entries(at))if(ct!=null)switch(ut){case"class":ct.length&&et.setAttribute(ut,ct.join(" "));break;case"dataId":break;case"id":et.setAttribute("data-element-id",ct);break;case"style":Object.assign(et.style,ct);break;case"textContent":et.textContent=ct;break;default:(!ot||ut!=="href"&&ut!=="newWindow")&&et.setAttribute(ut,ct)}ot&&st.addLinkAttributes(et,at.href,at.newWindow),it&&at.dataId&&this.setupStorage(et,at.dataId,nt,it)}static render(et){var dt;const nt=et.annotationStorage,it=et.linkService,rt=et.xfaHtml,st=et.intent||"display",at=document.createElement(rt.name);rt.attributes&&this.setAttributes({html:at,element:rt,intent:st,linkService:it});const ot=[[rt,-1,at]],ut=et.div;if(ut.append(at),et.viewport){const ft=`matrix(${et.viewport.transform.join(",")})`;ut.style.transform=ft}st!=="richText"&&ut.setAttribute("class","xfaLayer xfaFont");const ct=[];for(;ot.length>0;){const[ft,lt,ht]=ot.at(-1);if(lt+1===ft.children.length){ot.pop();continue}const pt=ft.children[++ot.at(-1)[1]];if(pt===null)continue;const{name:vt}=pt;if(vt==="#text"){const _t=document.createTextNode(pt.value);ct.push(_t),ht.append(_t);continue}const gt=(dt=pt==null?void 0:pt.attributes)!=null&&dt.xmlns?document.createElementNS(pt.attributes.xmlns,vt):document.createElement(vt);if(ht.append(gt),pt.attributes&&this.setAttributes({html:gt,element:pt,storage:nt,intent:st,linkService:it}),pt.children&&pt.children.length>0)ot.push([pt,-1,gt]);else if(pt.value){const _t=document.createTextNode(pt.value);o.XfaText.shouldBuildText(vt)&&ct.push(_t),gt.append(_t)}}for(const ft of ut.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))ft.setAttribute("readOnly",!0);return{textDivs:ct}}static update(et){const nt=`matrix(${et.viewport.transform.join(",")})`;et.div.style.transform=nt,et.div.hidden=!1}}i.XfaLayer=j},(a,i,s)=>{var rt,st,at,ot,ut,ct,dt,ft,lt,ht,pt,vt,gt,_t,mt,wE,SE,CE,TE,I_,kE,D_,RE,PE,ME,FE,LE,Yo,N_,J0,ey,Lp,O_,ty,Nt,IE,j_,DE,NE,$_,ny,Ip;Object.defineProperty(i,"__esModule",{value:!0}),i.InkEditor=void 0;var o=s(1),j=s(4),_e=s(29),et=s(6),nt=s(5);const wn=class wn extends j.AnnotationEditor{constructor(It){super({...It,name:"inkEditor"});At(this,mt);At(this,rt,0);At(this,st,0);At(this,at,this.canvasPointermove.bind(this));At(this,ot,this.canvasPointerleave.bind(this));At(this,ut,this.canvasPointerup.bind(this));At(this,ct,this.canvasPointerdown.bind(this));At(this,dt,new Path2D);At(this,ft,!1);At(this,lt,!1);At(this,ht,!1);At(this,pt,null);At(this,vt,0);At(this,gt,0);At(this,_t,null);this.color=It.color||null,this.thickness=It.thickness||null,this.opacity=It.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(It){j.AnnotationEditor.initialize(It,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(It,Vt){switch(It){case o.AnnotationEditorParamsType.INK_THICKNESS:wn._defaultThickness=Vt;break;case o.AnnotationEditorParamsType.INK_COLOR:wn._defaultColor=Vt;break;case o.AnnotationEditorParamsType.INK_OPACITY:wn._defaultOpacity=Vt/100;break}}updateParams(It,Vt){switch(It){case o.AnnotationEditorParamsType.INK_THICKNESS:yt(this,mt,wE).call(this,Vt);break;case o.AnnotationEditorParamsType.INK_COLOR:yt(this,mt,SE).call(this,Vt);break;case o.AnnotationEditorParamsType.INK_OPACITY:yt(this,mt,CE).call(this,Vt);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,wn._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,wn._defaultColor||j.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(wn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||wn._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,this.color||wn._defaultColor||j.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??wn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(yt(this,mt,J0).call(this),yt(this,mt,ey).call(this)),this.isAttachedToDOM||(this.parent.add(this),yt(this,mt,Lp).call(this)),yt(this,mt,Ip).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,tt(this,pt).disconnect(),xt(this,pt,null),super.remove())}setParent(It){!this.parent&&It?this._uiManager.removeShouldRescale(this):this.parent&&It===null&&this._uiManager.addShouldRescale(this),super.setParent(It)}onScaleChanging(){const[It,Vt]=this.parentDimensions,rn=this.width*It,fn=this.height*Vt;this.setDimensions(rn,fn)}enableEditMode(){tt(this,ft)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",tt(this,ct)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",tt(this,ct)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){tt(this,ft)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),xt(this,ft,!0),this.div.classList.add("disabled"),yt(this,mt,Ip).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(It){this._focusEventsAllowed&&(super.focusin(It),this.enableEditMode())}canvasPointerdown(It){It.button!==0||!this.isInEditMode()||tt(this,ft)||(this.setInForeground(),It.preventDefault(),It.type!=="mouse"&&this.div.focus(),yt(this,mt,kE).call(this,It.offsetX,It.offsetY))}canvasPointermove(It){It.preventDefault(),yt(this,mt,D_).call(this,It.offsetX,It.offsetY)}canvasPointerup(It){It.preventDefault(),yt(this,mt,N_).call(this,It)}canvasPointerleave(It){yt(this,mt,N_).call(this,It)}get isResizable(){return!this.isEmpty()&&tt(this,ft)}render(){if(this.div)return this.div;let It,Vt;this.width&&(It=this.x,Vt=this.y),super.render(),j.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(Cn=>{var sn;return(sn=this.div)==null?void 0:sn.setAttribute("aria-label",Cn)});const[rn,fn,xn,kn]=yt(this,mt,TE).call(this);if(this.setAt(rn,fn,0,0),this.setDims(xn,kn),yt(this,mt,J0).call(this),this.width){const[Cn,sn]=this.parentDimensions;this.setAspectRatio(this.width*Cn,this.height*sn),this.setAt(It*Cn,Vt*sn,this.width*Cn,this.height*sn),xt(this,ht,!0),yt(this,mt,Lp).call(this),this.setDims(this.width*Cn,this.height*sn),yt(this,mt,Yo).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return yt(this,mt,ey).call(this),this.div}setDimensions(It,Vt){const rn=Math.round(It),fn=Math.round(Vt);if(tt(this,vt)===rn&&tt(this,gt)===fn)return;xt(this,vt,rn),xt(this,gt,fn),this.canvas.style.visibility="hidden";const[xn,kn]=this.parentDimensions;this.width=It/xn,this.height=Vt/kn,this.fixAndSetPosition(),tt(this,ft)&&yt(this,mt,O_).call(this,It,Vt),yt(this,mt,Lp).call(this),yt(this,mt,Yo).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(It,Vt,rn){var _i,ys,Ls;if(It instanceof _e.InkAnnotationElement)return null;const fn=super.deserialize(It,Vt,rn);fn.thickness=It.thickness,fn.color=o.Util.makeHexColor(...It.color),fn.opacity=It.opacity;const[xn,kn]=fn.pageDimensions,Cn=fn.width*xn,sn=fn.height*kn,On=fn.parentScale,Ln=It.thickness/2;xt(fn,ft,!0),xt(fn,vt,Math.round(Cn)),xt(fn,gt,Math.round(sn));const{paths:fs,rect:rs,rotation:Ss}=It;for(let{bezier:Sn}of fs){Sn=yt(_i=wn,Nt,DE).call(_i,Sn,rs,Ss);const an=[];fn.paths.push(an);let cn=On*(Sn[0]-Ln),Un=On*(Sn[1]-Ln);for(let ss=2,Wt=Sn.length;ss<Wt;ss+=6){const En=On*(Sn[ss]-Ln),Nn=On*(Sn[ss+1]-Ln),Xn=On*(Sn[ss+2]-Ln),Yn=On*(Sn[ss+3]-Ln),Hn=On*(Sn[ss+4]-Ln),Bt=On*(Sn[ss+5]-Ln);an.push([[cn,Un],[En,Nn],[Xn,Yn],[Hn,Bt]]),cn=Hn,Un=Bt}const Gn=yt(this,Nt,IE).call(this,an);fn.bezierPath2D.push(Gn)}const zn=yt(ys=fn,mt,$_).call(ys);return xt(fn,st,Math.max(j.AnnotationEditor.MIN_SIZE,zn[2]-zn[0])),xt(fn,rt,Math.max(j.AnnotationEditor.MIN_SIZE,zn[3]-zn[1])),yt(Ls=fn,mt,O_).call(Ls,Cn,sn),fn}serialize(){if(this.isEmpty())return null;const It=this.getRect(0,0),Vt=j.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:o.AnnotationEditorType.INK,color:Vt,thickness:this.thickness,opacity:this.opacity,paths:yt(this,mt,NE).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,It),pageIndex:this.pageIndex,rect:It,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};rt=new WeakMap,st=new WeakMap,at=new WeakMap,ot=new WeakMap,ut=new WeakMap,ct=new WeakMap,dt=new WeakMap,ft=new WeakMap,lt=new WeakMap,ht=new WeakMap,pt=new WeakMap,vt=new WeakMap,gt=new WeakMap,_t=new WeakMap,mt=new WeakSet,wE=function(It){const Vt=this.thickness;this.addCommands({cmd:()=>{this.thickness=It,yt(this,mt,Ip).call(this)},undo:()=>{this.thickness=Vt,yt(this,mt,Ip).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},SE=function(It){const Vt=this.color;this.addCommands({cmd:()=>{this.color=It,yt(this,mt,Yo).call(this)},undo:()=>{this.color=Vt,yt(this,mt,Yo).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},CE=function(It){It/=100;const Vt=this.opacity;this.addCommands({cmd:()=>{this.opacity=It,yt(this,mt,Yo).call(this)},undo:()=>{this.opacity=Vt,yt(this,mt,Yo).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},TE=function(){const{parentRotation:It,parentDimensions:[Vt,rn]}=this;switch(It){case 90:return[0,rn,rn,Vt];case 180:return[Vt,rn,Vt,rn];case 270:return[Vt,0,rn,Vt];default:return[0,0,Vt,rn]}},I_=function(){const{ctx:It,color:Vt,opacity:rn,thickness:fn,parentScale:xn,scaleFactor:kn}=this;It.lineWidth=fn*xn/kn,It.lineCap="round",It.lineJoin="round",It.miterLimit=10,It.strokeStyle=`${Vt}${(0,nt.opacityToHex)(rn)}`},kE=function(It,Vt){this.canvas.addEventListener("contextmenu",et.noContextMenu),this.canvas.addEventListener("pointerleave",tt(this,ot)),this.canvas.addEventListener("pointermove",tt(this,at)),this.canvas.addEventListener("pointerup",tt(this,ut)),this.canvas.removeEventListener("pointerdown",tt(this,ct)),this.isEditing=!0,tt(this,ht)||(xt(this,ht,!0),yt(this,mt,Lp).call(this),this.thickness||(this.thickness=wn._defaultThickness),this.color||(this.color=wn._defaultColor||j.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=wn._defaultOpacity)),this.currentPath.push([It,Vt]),xt(this,lt,!1),yt(this,mt,I_).call(this),xt(this,_t,()=>{yt(this,mt,ME).call(this),tt(this,_t)&&window.requestAnimationFrame(tt(this,_t))}),window.requestAnimationFrame(tt(this,_t))},D_=function(It,Vt){const[rn,fn]=this.currentPath.at(-1);if(this.currentPath.length>1&&It===rn&&Vt===fn)return;const xn=this.currentPath;let kn=tt(this,dt);if(xn.push([It,Vt]),xt(this,lt,!0),xn.length<=2){kn.moveTo(...xn[0]),kn.lineTo(It,Vt);return}xn.length===3&&(xt(this,dt,kn=new Path2D),kn.moveTo(...xn[0])),yt(this,mt,FE).call(this,kn,...xn.at(-3),...xn.at(-2),It,Vt)},RE=function(){if(this.currentPath.length===0)return;const It=this.currentPath.at(-1);tt(this,dt).lineTo(...It)},PE=function(It,Vt){xt(this,_t,null),It=Math.min(Math.max(It,0),this.canvas.width),Vt=Math.min(Math.max(Vt,0),this.canvas.height),yt(this,mt,D_).call(this,It,Vt),yt(this,mt,RE).call(this);let rn;if(this.currentPath.length!==1)rn=yt(this,mt,LE).call(this);else{const sn=[It,Vt];rn=[[sn,sn.slice(),sn.slice(),sn]]}const fn=tt(this,dt),xn=this.currentPath;this.currentPath=[],xt(this,dt,new Path2D);const kn=()=>{this.allRawPaths.push(xn),this.paths.push(rn),this.bezierPath2D.push(fn),this.rebuild()},Cn=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(yt(this,mt,J0).call(this),yt(this,mt,ey).call(this)),yt(this,mt,Ip).call(this))};this.addCommands({cmd:kn,undo:Cn,mustExec:!0})},ME=function(){if(!tt(this,lt))return;xt(this,lt,!1);const It=Math.ceil(this.thickness*this.parentScale),Vt=this.currentPath.slice(-3),rn=Vt.map(kn=>kn[0]),fn=Vt.map(kn=>kn[1]);Math.min(...rn)-It,Math.max(...rn)+It,Math.min(...fn)-It,Math.max(...fn)+It;const{ctx:xn}=this;xn.save(),xn.clearRect(0,0,this.canvas.width,this.canvas.height);for(const kn of this.bezierPath2D)xn.stroke(kn);xn.stroke(tt(this,dt)),xn.restore()},FE=function(It,Vt,rn,fn,xn,kn,Cn){const sn=(Vt+fn)/2,On=(rn+xn)/2,Ln=(fn+kn)/2,fs=(xn+Cn)/2;It.bezierCurveTo(sn+2*(fn-sn)/3,On+2*(xn-On)/3,Ln+2*(fn-Ln)/3,fs+2*(xn-fs)/3,Ln,fs)},LE=function(){const It=this.currentPath;if(It.length<=2)return[[It[0],It[0],It.at(-1),It.at(-1)]];const Vt=[];let rn,[fn,xn]=It[0];for(rn=1;rn<It.length-2;rn++){const[rs,Ss]=It[rn],[zn,_i]=It[rn+1],ys=(rs+zn)/2,Ls=(Ss+_i)/2,Sn=[fn+2*(rs-fn)/3,xn+2*(Ss-xn)/3],an=[ys+2*(rs-ys)/3,Ls+2*(Ss-Ls)/3];Vt.push([[fn,xn],Sn,an,[ys,Ls]]),[fn,xn]=[ys,Ls]}const[kn,Cn]=It[rn],[sn,On]=It[rn+1],Ln=[fn+2*(kn-fn)/3,xn+2*(Cn-xn)/3],fs=[sn+2*(kn-sn)/3,On+2*(Cn-On)/3];return Vt.push([[fn,xn],Ln,fs,[sn,On]]),Vt},Yo=function(){if(this.isEmpty()){yt(this,mt,ty).call(this);return}yt(this,mt,I_).call(this);const{canvas:It,ctx:Vt}=this;Vt.setTransform(1,0,0,1,0,0),Vt.clearRect(0,0,It.width,It.height),yt(this,mt,ty).call(this);for(const rn of this.bezierPath2D)Vt.stroke(rn)},N_=function(It){this.canvas.removeEventListener("pointerleave",tt(this,ot)),this.canvas.removeEventListener("pointermove",tt(this,at)),this.canvas.removeEventListener("pointerup",tt(this,ut)),this.canvas.addEventListener("pointerdown",tt(this,ct)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",et.noContextMenu)},10),yt(this,mt,PE).call(this,It.offsetX,It.offsetY),this.addToAnnotationStorage(),this.setInBackground()},J0=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",j.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(It=>{var Vt;return(Vt=this.canvas)==null?void 0:Vt.setAttribute("aria-label",It)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},ey=function(){xt(this,pt,new ResizeObserver(It=>{const Vt=It[0].contentRect;Vt.width&&Vt.height&&this.setDimensions(Vt.width,Vt.height)})),tt(this,pt).observe(this.div)},Lp=function(){if(!tt(this,ht))return;const[It,Vt]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*It),this.canvas.height=Math.ceil(this.height*Vt),yt(this,mt,ty).call(this)},O_=function(It,Vt){const rn=yt(this,mt,ny).call(this),fn=(It-rn)/tt(this,st),xn=(Vt-rn)/tt(this,rt);this.scaleFactor=Math.min(fn,xn)},ty=function(){const It=yt(this,mt,ny).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+It,this.translationY*this.scaleFactor+It)},Nt=new WeakSet,IE=function(It){const Vt=new Path2D;for(let rn=0,fn=It.length;rn<fn;rn++){const[xn,kn,Cn,sn]=It[rn];rn===0&&Vt.moveTo(...xn),Vt.bezierCurveTo(kn[0],kn[1],Cn[0],Cn[1],sn[0],sn[1])}return Vt},j_=function(It,Vt,rn){const[fn,xn,kn,Cn]=Vt;switch(rn){case 0:for(let sn=0,On=It.length;sn<On;sn+=2)It[sn]+=fn,It[sn+1]=Cn-It[sn+1];break;case 90:for(let sn=0,On=It.length;sn<On;sn+=2){const Ln=It[sn];It[sn]=It[sn+1]+fn,It[sn+1]=Ln+xn}break;case 180:for(let sn=0,On=It.length;sn<On;sn+=2)It[sn]=kn-It[sn],It[sn+1]+=xn;break;case 270:for(let sn=0,On=It.length;sn<On;sn+=2){const Ln=It[sn];It[sn]=kn-It[sn+1],It[sn+1]=Cn-Ln}break;default:throw new Error("Invalid rotation")}return It},DE=function(It,Vt,rn){const[fn,xn,kn,Cn]=Vt;switch(rn){case 0:for(let sn=0,On=It.length;sn<On;sn+=2)It[sn]-=fn,It[sn+1]=Cn-It[sn+1];break;case 90:for(let sn=0,On=It.length;sn<On;sn+=2){const Ln=It[sn];It[sn]=It[sn+1]-xn,It[sn+1]=Ln-fn}break;case 180:for(let sn=0,On=It.length;sn<On;sn+=2)It[sn]=kn-It[sn],It[sn+1]-=xn;break;case 270:for(let sn=0,On=It.length;sn<On;sn+=2){const Ln=It[sn];It[sn]=Cn-It[sn+1],It[sn+1]=kn-Ln}break;default:throw new Error("Invalid rotation")}return It},NE=function(It,Vt,rn,fn){var On,Ln;const xn=[],kn=this.thickness/2,Cn=It*Vt+kn,sn=It*rn+kn;for(const fs of this.paths){const rs=[],Ss=[];for(let zn=0,_i=fs.length;zn<_i;zn++){const[ys,Ls,Sn,an]=fs[zn],cn=It*ys[0]+Cn,Un=It*ys[1]+sn,Gn=It*Ls[0]+Cn,ss=It*Ls[1]+sn,Wt=It*Sn[0]+Cn,En=It*Sn[1]+sn,Nn=It*an[0]+Cn,Xn=It*an[1]+sn;zn===0&&(rs.push(cn,Un),Ss.push(cn,Un)),rs.push(Gn,ss,Wt,En,Nn,Xn),Ss.push(Gn,ss),zn===_i-1&&Ss.push(Nn,Xn)}xn.push({bezier:yt(On=wn,Nt,j_).call(On,rs,fn,this.rotation),points:yt(Ln=wn,Nt,j_).call(Ln,Ss,fn,this.rotation)})}return xn},$_=function(){let It=1/0,Vt=-1/0,rn=1/0,fn=-1/0;for(const xn of this.paths)for(const[kn,Cn,sn,On]of xn){const Ln=o.Util.bezierBoundingBox(...kn,...Cn,...sn,...On);It=Math.min(It,Ln[0]),rn=Math.min(rn,Ln[1]),Vt=Math.max(Vt,Ln[2]),fn=Math.max(fn,Ln[3])}return[It,rn,Vt,fn]},ny=function(){return tt(this,ft)?Math.ceil(this.thickness*this.parentScale):0},Ip=function(It=!1){if(this.isEmpty())return;if(!tt(this,ft)){yt(this,mt,Yo).call(this);return}const Vt=yt(this,mt,$_).call(this),rn=yt(this,mt,ny).call(this);xt(this,st,Math.max(j.AnnotationEditor.MIN_SIZE,Vt[2]-Vt[0])),xt(this,rt,Math.max(j.AnnotationEditor.MIN_SIZE,Vt[3]-Vt[1]));const fn=Math.ceil(rn+tt(this,st)*this.scaleFactor),xn=Math.ceil(rn+tt(this,rt)*this.scaleFactor),[kn,Cn]=this.parentDimensions;this.width=fn/kn,this.height=xn/Cn,this.setAspectRatio(fn,xn);const sn=this.translationX,On=this.translationY;this.translationX=-Vt[0],this.translationY=-Vt[1],yt(this,mt,Lp).call(this),yt(this,mt,Yo).call(this),xt(this,vt,fn),xt(this,gt,xn),this.setDims(fn,xn);const Ln=It?rn/this.scaleFactor/2:0;this.translate(sn-this.translationX-Ln,On-this.translationY-Ln)},At(wn,Nt),es(wn,"_defaultColor",null),es(wn,"_defaultOpacity",1),es(wn,"_defaultThickness",1),es(wn,"_type","ink");let it=wn;i.InkEditor=it},(a,i,s)=>{var it,rt,st,at,ot,ut,ct,dt,ft,lt,ht,zm,Vm,iy,B_,OE,jE,H_,sy,$E;Object.defineProperty(i,"__esModule",{value:!0}),i.StampEditor=void 0;var o=s(1),j=s(4),_e=s(6),et=s(29);const Mt=class Mt extends j.AnnotationEditor{constructor(Xt){super({...Xt,name:"stampEditor"});At(this,ht);At(this,it,null);At(this,rt,null);At(this,st,null);At(this,at,null);At(this,ot,null);At(this,ut,null);At(this,ct,null);At(this,dt,null);At(this,ft,!1);At(this,lt,!1);xt(this,at,Xt.bitmapUrl),xt(this,ot,Xt.bitmapFile)}static initialize(Xt){j.AnnotationEditor.initialize(Xt)}static get supportedTypes(){const Xt=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,o.shadow)(this,"supportedTypes",Xt.map(Yt=>`image/${Yt}`))}static get supportedTypesStr(){return(0,o.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(Xt){return this.supportedTypes.includes(Xt)}static paste(Xt,Yt){Yt.pasteEditor(o.AnnotationEditorType.STAMP,{bitmapFile:Xt.getAsFile()})}remove(){var Xt,Yt;tt(this,rt)&&(xt(this,it,null),this._uiManager.imageManager.deleteId(tt(this,rt)),(Xt=tt(this,ut))==null||Xt.remove(),xt(this,ut,null),(Yt=tt(this,ct))==null||Yt.disconnect(),xt(this,ct,null)),super.remove()}rebuild(){if(!this.parent){tt(this,rt)&&yt(this,ht,iy).call(this);return}super.rebuild(),this.div!==null&&(tt(this,rt)&&yt(this,ht,iy).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(tt(this,st)||tt(this,it)||tt(this,at)||tt(this,ot))}get isResizable(){return!0}render(){if(this.div)return this.div;let Xt,Yt;if(this.width&&(Xt=this.x,Yt=this.y),super.render(),this.div.hidden=!0,tt(this,it)?yt(this,ht,B_).call(this):yt(this,ht,iy).call(this),this.width){const[Ht,Ut]=this.parentDimensions;this.setAt(Xt*Ht,Yt*Ut,this.width*Ht,this.height*Ut)}return this.div}static deserialize(Xt,Yt,Ht){if(Xt instanceof et.StampAnnotationElement)return null;const Ut=super.deserialize(Xt,Yt,Ht),{rect:Lt,bitmapUrl:zt,bitmapId:Zt,isSvg:Ft,accessibilityData:Et}=Xt;Zt&&Ht.imageManager.isValidId(Zt)?xt(Ut,rt,Zt):xt(Ut,at,zt),xt(Ut,ft,Ft);const[Tt,kt]=Ut.pageDimensions;return Ut.width=(Lt[2]-Lt[0])/Tt,Ut.height=(Lt[3]-Lt[1])/kt,Et&&(Ut.altTextData=Et),Ut}serialize(Xt=!1,Yt=null){if(this.isEmpty())return null;const Ht={annotationType:o.AnnotationEditorType.STAMP,bitmapId:tt(this,rt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:tt(this,ft),structTreeParentId:this._structTreeParentId};if(Xt)return Ht.bitmapUrl=yt(this,ht,sy).call(this,!0),Ht.accessibilityData=this.altTextData,Ht;const{decorative:Ut,altText:Lt}=this.altTextData;if(!Ut&&Lt&&(Ht.accessibilityData={type:"Figure",alt:Lt}),Yt===null)return Ht;Yt.stamps||(Yt.stamps=new Map);const zt=tt(this,ft)?(Ht.rect[2]-Ht.rect[0])*(Ht.rect[3]-Ht.rect[1]):null;if(!Yt.stamps.has(tt(this,rt)))Yt.stamps.set(tt(this,rt),{area:zt,serialized:Ht}),Ht.bitmap=yt(this,ht,sy).call(this,!1);else if(tt(this,ft)){const Zt=Yt.stamps.get(tt(this,rt));zt>Zt.area&&(Zt.area=zt,Zt.serialized.bitmap.close(),Zt.serialized.bitmap=yt(this,ht,sy).call(this,!1))}return Ht}};it=new WeakMap,rt=new WeakMap,st=new WeakMap,at=new WeakMap,ot=new WeakMap,ut=new WeakMap,ct=new WeakMap,dt=new WeakMap,ft=new WeakMap,lt=new WeakMap,ht=new WeakSet,zm=function(Xt,Yt=!1){if(!Xt){this.remove();return}xt(this,it,Xt.bitmap),Yt||(xt(this,rt,Xt.id),xt(this,ft,Xt.isSvg)),yt(this,ht,B_).call(this)},Vm=function(){xt(this,st,null),this._uiManager.enableWaiting(!1),tt(this,ut)&&this.div.focus()},iy=function(){if(tt(this,rt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(tt(this,rt)).then(Yt=>yt(this,ht,zm).call(this,Yt,!0)).finally(()=>yt(this,ht,Vm).call(this));return}if(tt(this,at)){const Yt=tt(this,at);xt(this,at,null),this._uiManager.enableWaiting(!0),xt(this,st,this._uiManager.imageManager.getFromUrl(Yt).then(Ht=>yt(this,ht,zm).call(this,Ht)).finally(()=>yt(this,ht,Vm).call(this)));return}if(tt(this,ot)){const Yt=tt(this,ot);xt(this,ot,null),this._uiManager.enableWaiting(!0),xt(this,st,this._uiManager.imageManager.getFromFile(Yt).then(Ht=>yt(this,ht,zm).call(this,Ht)).finally(()=>yt(this,ht,Vm).call(this)));return}const Xt=document.createElement("input");Xt.type="file",Xt.accept=Mt.supportedTypesStr,xt(this,st,new Promise(Yt=>{Xt.addEventListener("change",async()=>{if(!Xt.files||Xt.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const Ht=await this._uiManager.imageManager.getFromFile(Xt.files[0]);yt(this,ht,zm).call(this,Ht)}Yt()}),Xt.addEventListener("cancel",()=>{this.remove(),Yt()})}).finally(()=>yt(this,ht,Vm).call(this))),Xt.click()},B_=function(){const{div:Xt}=this;let{width:Yt,height:Ht}=tt(this,it);const[Ut,Lt]=this.pageDimensions,zt=.75;if(this.width)Yt=this.width*Ut,Ht=this.height*Lt;else if(Yt>zt*Ut||Ht>zt*Lt){const Tt=Math.min(zt*Ut/Yt,zt*Lt/Ht);Yt*=Tt,Ht*=Tt}const[Zt,Ft]=this.parentDimensions;this.setDims(Yt*Zt/Ut,Ht*Ft/Lt),this._uiManager.enableWaiting(!1);const Et=xt(this,ut,document.createElement("canvas"));Xt.append(Et),Xt.hidden=!1,yt(this,ht,H_).call(this,Yt,Ht),yt(this,ht,$E).call(this),tt(this,lt)||(this.parent.addUndoableEditor(this),xt(this,lt,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},OE=function(Xt,Yt){var zt;const[Ht,Ut]=this.parentDimensions;this.width=Xt/Ht,this.height=Yt/Ut,this.setDims(Xt,Yt),(zt=this._initialOptions)!=null&&zt.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,tt(this,dt)!==null&&clearTimeout(tt(this,dt)),xt(this,dt,setTimeout(()=>{xt(this,dt,null),yt(this,ht,H_).call(this,Xt,Yt)},200))},jE=function(Xt,Yt){const{width:Ht,height:Ut}=tt(this,it);let Lt=Ht,zt=Ut,Zt=tt(this,it);for(;Lt>2*Xt||zt>2*Yt;){const Ft=Lt,Et=zt;Lt>2*Xt&&(Lt=Lt>=16384?Math.floor(Lt/2)-1:Math.ceil(Lt/2)),zt>2*Yt&&(zt=zt>=16384?Math.floor(zt/2)-1:Math.ceil(zt/2));const Tt=new OffscreenCanvas(Lt,zt);Tt.getContext("2d").drawImage(Zt,0,0,Ft,Et,0,0,Lt,zt),Zt=Tt.transferToImageBitmap()}return Zt},H_=function(Xt,Yt){Xt=Math.ceil(Xt),Yt=Math.ceil(Yt);const Ht=tt(this,ut);if(!Ht||Ht.width===Xt&&Ht.height===Yt)return;Ht.width=Xt,Ht.height=Yt;const Ut=tt(this,ft)?tt(this,it):yt(this,ht,jE).call(this,Xt,Yt),Lt=Ht.getContext("2d");Lt.filter=this._uiManager.hcmFilter,Lt.drawImage(Ut,0,0,Ut.width,Ut.height,0,0,Xt,Yt)},sy=function(Xt){if(Xt){if(tt(this,ft)){const Ut=this._uiManager.imageManager.getSvgUrl(tt(this,rt));if(Ut)return Ut}const Yt=document.createElement("canvas");return{width:Yt.width,height:Yt.height}=tt(this,it),Yt.getContext("2d").drawImage(tt(this,it),0,0),Yt.toDataURL()}if(tt(this,ft)){const[Yt,Ht]=this.pageDimensions,Ut=Math.round(this.width*Yt*_e.PixelsPerInch.PDF_TO_CSS_UNITS),Lt=Math.round(this.height*Ht*_e.PixelsPerInch.PDF_TO_CSS_UNITS),zt=new OffscreenCanvas(Ut,Lt);return zt.getContext("2d").drawImage(tt(this,it),0,0,tt(this,it).width,tt(this,it).height,0,0,Ut,Lt),zt.transferToImageBitmap()}return structuredClone(tt(this,it))},$E=function(){xt(this,ct,new ResizeObserver(Xt=>{const Yt=Xt[0].contentRect;Yt.width&&Yt.height&&yt(this,ht,OE).call(this,Yt.width,Yt.height)})),tt(this,ct).observe(this.div)},es(Mt,"_type","stamp");let nt=Mt;i.StampEditor=nt}],__webpack_module_cache__={};function __w_pdfjs_require__(a){var i=__webpack_module_cache__[a];if(i!==void 0)return i.exports;var s=__webpack_module_cache__[a]={exports:{}};return __webpack_modules__[a](s,s.exports,__w_pdfjs_require__),s.exports}var __webpack_exports__={};return(()=>{var a=__webpack_exports__;Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"AbortException",{enumerable:!0,get:function(){return i.AbortException}}),Object.defineProperty(a,"AnnotationEditorLayer",{enumerable:!0,get:function(){return _e.AnnotationEditorLayer}}),Object.defineProperty(a,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return i.AnnotationEditorParamsType}}),Object.defineProperty(a,"AnnotationEditorType",{enumerable:!0,get:function(){return i.AnnotationEditorType}}),Object.defineProperty(a,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return et.AnnotationEditorUIManager}}),Object.defineProperty(a,"AnnotationLayer",{enumerable:!0,get:function(){return nt.AnnotationLayer}}),Object.defineProperty(a,"AnnotationMode",{enumerable:!0,get:function(){return i.AnnotationMode}}),Object.defineProperty(a,"CMapCompressionType",{enumerable:!0,get:function(){return i.CMapCompressionType}}),Object.defineProperty(a,"DOMSVGFactory",{enumerable:!0,get:function(){return o.DOMSVGFactory}}),Object.defineProperty(a,"FeatureTest",{enumerable:!0,get:function(){return i.FeatureTest}}),Object.defineProperty(a,"GlobalWorkerOptions",{enumerable:!0,get:function(){return it.GlobalWorkerOptions}}),Object.defineProperty(a,"ImageKind",{enumerable:!0,get:function(){return i.ImageKind}}),Object.defineProperty(a,"InvalidPDFException",{enumerable:!0,get:function(){return i.InvalidPDFException}}),Object.defineProperty(a,"MissingPDFException",{enumerable:!0,get:function(){return i.MissingPDFException}}),Object.defineProperty(a,"OPS",{enumerable:!0,get:function(){return i.OPS}}),Object.defineProperty(a,"PDFDataRangeTransport",{enumerable:!0,get:function(){return s.PDFDataRangeTransport}}),Object.defineProperty(a,"PDFDateString",{enumerable:!0,get:function(){return o.PDFDateString}}),Object.defineProperty(a,"PDFWorker",{enumerable:!0,get:function(){return s.PDFWorker}}),Object.defineProperty(a,"PasswordResponses",{enumerable:!0,get:function(){return i.PasswordResponses}}),Object.defineProperty(a,"PermissionFlag",{enumerable:!0,get:function(){return i.PermissionFlag}}),Object.defineProperty(a,"PixelsPerInch",{enumerable:!0,get:function(){return o.PixelsPerInch}}),Object.defineProperty(a,"PromiseCapability",{enumerable:!0,get:function(){return i.PromiseCapability}}),Object.defineProperty(a,"RenderingCancelledException",{enumerable:!0,get:function(){return o.RenderingCancelledException}}),Object.defineProperty(a,"SVGGraphics",{enumerable:!0,get:function(){return s.SVGGraphics}}),Object.defineProperty(a,"UnexpectedResponseException",{enumerable:!0,get:function(){return i.UnexpectedResponseException}}),Object.defineProperty(a,"Util",{enumerable:!0,get:function(){return i.Util}}),Object.defineProperty(a,"VerbosityLevel",{enumerable:!0,get:function(){return i.VerbosityLevel}}),Object.defineProperty(a,"XfaLayer",{enumerable:!0,get:function(){return rt.XfaLayer}}),Object.defineProperty(a,"build",{enumerable:!0,get:function(){return s.build}}),Object.defineProperty(a,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return i.createValidAbsoluteUrl}}),Object.defineProperty(a,"getDocument",{enumerable:!0,get:function(){return s.getDocument}}),Object.defineProperty(a,"getFilenameFromUrl",{enumerable:!0,get:function(){return o.getFilenameFromUrl}}),Object.defineProperty(a,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return o.getPdfFilenameFromUrl}}),Object.defineProperty(a,"getXfaPageViewport",{enumerable:!0,get:function(){return o.getXfaPageViewport}}),Object.defineProperty(a,"isDataScheme",{enumerable:!0,get:function(){return o.isDataScheme}}),Object.defineProperty(a,"isPdfFile",{enumerable:!0,get:function(){return o.isPdfFile}}),Object.defineProperty(a,"loadScript",{enumerable:!0,get:function(){return o.loadScript}}),Object.defineProperty(a,"noContextMenu",{enumerable:!0,get:function(){return o.noContextMenu}}),Object.defineProperty(a,"normalizeUnicode",{enumerable:!0,get:function(){return i.normalizeUnicode}}),Object.defineProperty(a,"renderTextLayer",{enumerable:!0,get:function(){return j.renderTextLayer}}),Object.defineProperty(a,"setLayerDimensions",{enumerable:!0,get:function(){return o.setLayerDimensions}}),Object.defineProperty(a,"shadow",{enumerable:!0,get:function(){return i.shadow}}),Object.defineProperty(a,"updateTextLayer",{enumerable:!0,get:function(){return j.updateTextLayer}}),Object.defineProperty(a,"version",{enumerable:!0,get:function(){return s.version}});var i=__w_pdfjs_require__(1),s=__w_pdfjs_require__(2),o=__w_pdfjs_require__(6),j=__w_pdfjs_require__(26),_e=__w_pdfjs_require__(27),et=__w_pdfjs_require__(5),nt=__w_pdfjs_require__(29),it=__w_pdfjs_require__(14),rt=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;(function(a){var i=reactExports,s=pdfExports;function o(wt){var Rt=Object.create(null);return wt&&Object.keys(wt).forEach(function(Gt){if(Gt!=="default"){var qt=Object.getOwnPropertyDescriptor(wt,Gt);Object.defineProperty(Rt,Gt,qt.get?qt:{enumerable:!0,get:function(){return wt[Gt]}})}}),Rt.default=wt,Object.freeze(Rt)}var j,_e=o(i),et=o(s);a.AnnotationType=void 0,(j=a.AnnotationType||(a.AnnotationType={}))[j.Text=1]="Text",j[j.Link=2]="Link",j[j.FreeText=3]="FreeText",j[j.Line=4]="Line",j[j.Square=5]="Square",j[j.Circle=6]="Circle",j[j.Polygon=7]="Polygon",j[j.Polyline=8]="Polyline",j[j.Highlight=9]="Highlight",j[j.Underline=10]="Underline",j[j.Squiggly=11]="Squiggly",j[j.StrikeOut=12]="StrikeOut",j[j.Stamp=13]="Stamp",j[j.Caret=14]="Caret",j[j.Ink=15]="Ink",j[j.Popup=16]="Popup",j[j.FileAttachment=17]="FileAttachment";var nt=function(wt,Rt){return nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Gt,qt){Gt.__proto__=qt}||function(Gt,qt){for(var Jt in qt)Object.prototype.hasOwnProperty.call(qt,Jt)&&(Gt[Jt]=qt[Jt])},nt(wt,Rt)};function it(wt,Rt){if(typeof Rt!="function"&&Rt!==null)throw new TypeError("Class extends value "+String(Rt)+" is not a constructor or null");function Gt(){this.constructor=wt}nt(wt,Rt),wt.prototype=Rt===null?Object.create(Rt):(Gt.prototype=Rt.prototype,new Gt)}var rt,st=function(){return st=Object.assign||function(wt){for(var Rt,Gt=1,qt=arguments.length;Gt<qt;Gt++)for(var Jt in Rt=arguments[Gt])Object.prototype.hasOwnProperty.call(Rt,Jt)&&(wt[Jt]=Rt[Jt]);return wt},st.apply(this,arguments)};a.TextDirection=void 0,(rt=a.TextDirection||(a.TextDirection={})).RightToLeft="RTL",rt.LeftToRight="LTR";var at,ot=_e.createContext({currentTheme:"light",direction:a.TextDirection.LeftToRight,setCurrentTheme:function(){}}),ut=function(wt){var Rt=[];return Object.keys(wt).forEach(function(Gt){Gt&&wt[Gt]&&Rt.push(Gt)}),Rt.join(" ")},ct=typeof window<"u"?_e.useLayoutEffect:_e.useEffect,dt=function(wt){var Rt=_e.useRef(null),Gt=wt.once,qt=wt.threshold,Jt=wt.onVisibilityChanged;return ct(function(){var nn=Rt.current;if(nn){var pn=new IntersectionObserver(function(ln){ln.forEach(function(Kt){var dn=Kt.isIntersecting,un=Kt.intersectionRatio;Jt({isVisible:dn,ratio:un}),dn&&Gt&&(pn.unobserve(nn),pn.disconnect())})},{threshold:qt||0});return pn.observe(nn),function(){pn.unobserve(nn),pn.disconnect()}}},[]),Rt},ft=function(wt){var Rt=wt.children,Gt=wt.ignoreDirection,qt=Gt!==void 0&&Gt,Jt=wt.size,nn=Jt===void 0?24:Jt,pn=_e.useContext(ot).direction,ln=!qt&&pn===a.TextDirection.RightToLeft,Kt="".concat(nn||24,"px");return _e.createElement("svg",{"aria-hidden":"true",className:ut({"rpv-core__icon":!0,"rpv-core__icon--rtl":ln}),focusable:"false",height:Kt,viewBox:"0 0 24 24",width:Kt},Rt)},lt=function(){return _e.createElement(ft,{size:16},_e.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},ht=function(wt){var Rt=wt.children,Gt=wt.testId,qt=wt.onClick,Jt=_e.useContext(ot).direction===a.TextDirection.RightToLeft,nn=Gt?{"data-testid":Gt}:{};return _e.createElement("button",st({className:ut({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":Jt}),type:"button",onClick:qt},nn),Rt)},pt=function(wt){var Rt=wt.size,Gt=Rt===void 0?"4rem":Rt,qt=wt.testId,Jt=_e.useState(!1),nn=Jt[0],pn=Jt[1],ln=qt?{"data-testid":qt}:{},Kt=dt({onVisibilityChanged:function(dn){pn(dn.isVisible)}});return _e.createElement("div",st({},ln,{className:ut({"rpv-core__spinner":!0,"rpv-core__spinner--animating":nn}),ref:Kt,style:{height:Gt,width:Gt}}))},vt=function(wt){var Rt=wt.ariaLabel,Gt=Rt===void 0?"":Rt,qt=wt.autoFocus,Jt=qt!==void 0&&qt,nn=wt.placeholder,pn=nn===void 0?"":nn,ln=wt.testId,Kt=wt.type,dn=Kt===void 0?"text":Kt,un=wt.value,Mn=un===void 0?"":un,Pn=wt.onChange,Rn=wt.onKeyDown,Bn=Rn===void 0?function(){}:Rn,jn=_e.useContext(ot).direction,Dn=_e.useRef(),ks=jn===a.TextDirection.RightToLeft,cs={ref:Dn,"data-testid":"","aria-label":Gt,className:ut({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":ks}),placeholder:pn,value:Mn,onChange:function(hs){return Pn(hs.target.value)},onKeyDown:Bn};return ln&&(cs["data-testid"]=ln),ct(function(){if(Jt){var hs=Dn.current;if(hs){var vs=window.scrollX,ts=window.scrollY;hs.focus(),window.scrollTo(vs,ts)}}},[]),dn==="text"?_e.createElement("input",st({type:"text"},cs)):_e.createElement("input",st({type:"password"},cs))};(function(wt){wt[wt.ExitFullScreen=0]="ExitFullScreen",wt[wt.FullScreenChange=1]="FullScreenChange",wt[wt.FullScreenElement=2]="FullScreenElement",wt[wt.FullScreenEnabled=3]="FullScreenEnabled",wt[wt.RequestFullScreen=4]="RequestFullScreen"})(at||(at={}));var gt,_t={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},mt={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},bt={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},Ct=typeof window<"u",Pt=Ct&&(at.FullScreenEnabled in document&&_t||mt.FullScreenEnabled in document&&mt||bt.FullScreenEnabled in document&&bt)||_t,St=function(){return Ct&&Pt.FullScreenEnabled in document&&document[Pt.FullScreenEnabled]===!0},Mt=function(wt){return Ct?wt[Pt.ExitFullScreen]():Promise.resolve({})},Dt=function(){return Ct?document[Pt.FullScreenElement]:null},Qt=function(wt,Rt){var Gt=_e.useRef(),qt=function(){Gt.current&&clearTimeout(Gt.current)};return _e.useEffect(function(){return function(){return qt()}},[]),_e.useCallback(function(){for(var Jt=[],nn=0;nn<arguments.length;nn++)Jt[nn]=arguments[nn];qt(),Gt.current=setTimeout(function(){wt.apply(void 0,Jt)},Rt)},[wt,Rt])},Xt=function(){var wt=_e.useRef(!1);return _e.useEffect(function(){return wt.current=!0,function(){wt.current=!1}},[]),wt},Yt=function(wt){var Rt=_e.useRef(wt);return _e.useEffect(function(){Rt.current=wt},[wt]),Rt.current};(function(wt){wt.NotRenderedYet="NotRenderedYet",wt.Rendering="Rendering",wt.Rendered="Rendered"})(gt||(gt={}));var Ht,Ut=-9999,Lt=function(wt){var Rt=wt.doc,Gt=Rt.numPages,qt=Rt.loadingTask.docId,Jt=_e.useMemo(function(){return Array(Gt).fill(null).map(function(ln,Kt){return{pageIndex:Kt,renderStatus:gt.NotRenderedYet,visibility:Ut}})},[qt]),nn=_e.useRef({currentRenderingPage:-1,startRange:0,endRange:Gt-1,visibilities:Jt}),pn=function(ln,Kt){nn.current.visibilities[ln].visibility=Kt};return{getHighestPriorityPage:function(){var ln=nn.current.visibilities.slice(nn.current.startRange,nn.current.endRange+1).filter(function(Pn){return Pn.visibility>Ut});if(!ln.length)return-1;for(var Kt=ln[0].pageIndex,dn=ln[ln.length-1].pageIndex,un=ln.length,Mn=0;Mn<un;Mn++){if(ln[Mn].renderStatus===gt.Rendering)return-1;if(ln[Mn].renderStatus===gt.NotRenderedYet)return ln[Mn].pageIndex}return dn+1<Gt&&nn.current.visibilities[dn+1].renderStatus!==gt.Rendered?dn+1:Kt-1>=0&&nn.current.visibilities[Kt-1].renderStatus!==gt.Rendered?Kt-1:-1},isInRange:function(ln){return ln>=nn.current.startRange&&ln<=nn.current.endRange},markNotRendered:function(){for(var ln=0;ln<Gt;ln++)nn.current.visibilities[ln].renderStatus=gt.NotRenderedYet},markRendered:function(ln){nn.current.visibilities[ln].renderStatus=gt.Rendered},markRendering:function(ln){nn.current.currentRenderingPage!==-1&&nn.current.currentRenderingPage!==ln&&nn.current.visibilities[nn.current.currentRenderingPage].renderStatus===gt.Rendering&&(nn.current.visibilities[nn.current.currentRenderingPage].renderStatus=gt.NotRenderedYet),nn.current.visibilities[ln].renderStatus=gt.Rendering,nn.current.currentRenderingPage=ln},setOutOfRange:function(ln){pn(ln,Ut)},setRange:function(ln,Kt){nn.current.startRange=ln,nn.current.endRange=Kt;for(var dn=0;dn<Gt;dn++)(dn<ln||dn>Kt)&&(nn.current.visibilities[dn].visibility=Ut,nn.current.visibilities[dn].renderStatus=gt.NotRenderedYet)},setVisibility:pn}},zt={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},Zt=_e.createContext({l10n:zt,setL10n:function(){}}),Ft=0,Et=function(){return Ft++},Tt=function(wt,Rt,Gt){var qt=function(Jt){var nn=Rt.current;if(nn){var pn=Jt.target;if(pn instanceof Element&&pn.shadowRoot){var ln=Jt.composedPath();ln.length>0&&!nn.contains(ln[0])&&Gt()}else nn.contains(pn)||Gt()}};_e.useEffect(function(){if(wt){var Jt={capture:!0};return document.addEventListener("click",qt,Jt),function(){document.removeEventListener("click",qt,Jt)}}},[])},kt=function(wt){var Rt=function(Gt){Gt.key==="Escape"&&wt()};_e.useEffect(function(){return document.addEventListener("keyup",Rt),function(){document.removeEventListener("keyup",Rt)}},[])},jt=function(wt){var Rt=wt.ariaControlsSuffix,Gt=wt.children,qt=wt.closeOnClickOutside,Jt=wt.closeOnEscape,nn=wt.onToggle,pn=_e.useRef(),ln=_e.useContext(ot).direction===a.TextDirection.RightToLeft;return _e.useEffect(function(){var Kt=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=Kt}},[]),kt(function(){pn.current&&Jt&&nn()}),Tt(qt,pn,nn),ct(function(){var Kt=pn.current;if(Kt){var dn=.75*document.body.clientHeight;Kt.getBoundingClientRect().height>=dn&&(Kt.style.overflow="auto",Kt.style.maxHeight="".concat(dn,"px"))}},[]),_e.createElement("div",{"aria-modal":"true",className:ut({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":ln}),id:"rpv-core__modal-body-".concat(Rt),ref:pn,role:"dialog",tabIndex:-1},Gt)},Nt=function(wt){var Rt=wt.children;return _e.createElement("div",{className:"rpv-core__modal-overlay"},Rt)};a.ToggleStatus=void 0,(Ht=a.ToggleStatus||(a.ToggleStatus={})).Close="Close",Ht.Open="Open",Ht.Toggle="Toggle";var $t,tn=function(wt){var Rt=_e.useState(wt),Gt=Rt[0],qt=Rt[1];return{opened:Gt,toggle:function(Jt){switch(Jt){case a.ToggleStatus.Close:qt(!1);break;case a.ToggleStatus.Open:qt(!0);break;case a.ToggleStatus.Toggle:default:qt(function(nn){return!nn})}}}},gn=function(wt){var Rt=wt.content,Gt=wt.isOpened,qt=Gt!==void 0&&Gt,Jt=wt.target,nn=tn(qt),pn=nn.opened,ln=nn.toggle;return _e.createElement(_e.Fragment,null,Jt&&Jt(ln,pn),pn&&Rt(ln))};a.Position=void 0,($t=a.Position||(a.Position={})).TopLeft="TOP_LEFT",$t.TopCenter="TOP_CENTER",$t.TopRight="TOP_RIGHT",$t.RightTop="RIGHT_TOP",$t.RightCenter="RIGHT_CENTER",$t.RightBottom="RIGHT_BOTTOM",$t.BottomLeft="BOTTOM_LEFT",$t.BottomCenter="BOTTOM_CENTER",$t.BottomRight="BOTTOM_RIGHT",$t.LeftTop="LEFT_TOP",$t.LeftCenter="LEFT_CENTER",$t.LeftBottom="LEFT_BOTTOM";var vn,bn,_n,An,wn,on,hn,It,Vt=function(wt,Rt,Gt,qt,Jt){ct(function(){var nn=Rt.current,pn=wt.current,ln=Gt.current;if(pn&&nn&&ln){var Kt=ln.getBoundingClientRect(),dn=function(Pn,Rn,Bn,jn){var Dn=Rn.getBoundingClientRect(),ks=Pn.getBoundingClientRect(),cs=ks.height,hs=ks.width,vs=0,ts=0;switch(Bn){case a.Position.TopLeft:vs=Dn.top-cs,ts=Dn.left;break;case a.Position.TopCenter:vs=Dn.top-cs,ts=Dn.left+Dn.width/2-hs/2;break;case a.Position.TopRight:vs=Dn.top-cs,ts=Dn.left+Dn.width-hs;break;case a.Position.RightTop:vs=Dn.top,ts=Dn.left+Dn.width;break;case a.Position.RightCenter:vs=Dn.top+Dn.height/2-cs/2,ts=Dn.left+Dn.width;break;case a.Position.RightBottom:vs=Dn.top+Dn.height-cs,ts=Dn.left+Dn.width;break;case a.Position.BottomLeft:vs=Dn.top+Dn.height,ts=Dn.left;break;case a.Position.BottomCenter:vs=Dn.top+Dn.height,ts=Dn.left+Dn.width/2-hs/2;break;case a.Position.BottomRight:vs=Dn.top+Dn.height,ts=Dn.left+Dn.width-hs;break;case a.Position.LeftTop:vs=Dn.top,ts=Dn.left-hs;break;case a.Position.LeftCenter:vs=Dn.top+Dn.height/2-cs/2,ts=Dn.left-hs;break;case a.Position.LeftBottom:vs=Dn.top+Dn.height-cs,ts=Dn.left-hs}return{left:ts+(jn.left||0),top:vs+(jn.top||0)}}(pn,nn,qt,Jt),un=dn.top,Mn=dn.left;pn.style.top="".concat(un-Kt.top,"px"),pn.style.left="".concat(Mn-Kt.left,"px")}},[])},rn=function(wt){var Rt,Gt=wt.customClassName,qt=wt.position;return _e.createElement("div",{className:ut((Rt={"rpv-core__arrow":!0,"rpv-core__arrow--tl":qt===a.Position.TopLeft,"rpv-core__arrow--tc":qt===a.Position.TopCenter,"rpv-core__arrow--tr":qt===a.Position.TopRight,"rpv-core__arrow--rt":qt===a.Position.RightTop,"rpv-core__arrow--rc":qt===a.Position.RightCenter,"rpv-core__arrow--rb":qt===a.Position.RightBottom,"rpv-core__arrow--bl":qt===a.Position.BottomLeft,"rpv-core__arrow--bc":qt===a.Position.BottomCenter,"rpv-core__arrow--br":qt===a.Position.BottomRight,"rpv-core__arrow--lt":qt===a.Position.LeftTop,"rpv-core__arrow--lc":qt===a.Position.LeftCenter,"rpv-core__arrow--lb":qt===a.Position.LeftBottom},Rt["".concat(Gt)]=Gt!=="",Rt))})},fn=function(wt){var Rt=wt.ariaControlsSuffix,Gt=wt.children,qt=wt.closeOnClickOutside,Jt=wt.offset,nn=wt.position,pn=wt.targetRef,ln=wt.onClose,Kt=_e.useRef(),dn=_e.useRef(),un=_e.useRef(),Mn=_e.useContext(ot).direction===a.TextDirection.RightToLeft;Tt(qt,Kt,ln),Vt(Kt,pn,un,nn,Jt),ct(function(){var Rn=dn.current;if(Rn){var Bn=.75*document.body.clientHeight;Rn.getBoundingClientRect().height>=Bn&&(Rn.style.overflow="auto",Rn.style.maxHeight="".concat(Bn,"px"))}},[]);var Pn="rpv-core__popover-body-inner-".concat(Rt);return _e.createElement(_e.Fragment,null,_e.createElement("div",{ref:un,style:{left:0,position:"absolute",top:0}}),_e.createElement("div",{"aria-describedby":Pn,className:ut({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":Mn}),id:"rpv-core__popover-body-".concat(Rt),ref:Kt,role:"dialog",tabIndex:-1},_e.createElement(rn,{customClassName:"rpv-core__popover-body-arrow",position:nn}),_e.createElement("div",{id:Pn,ref:dn},Gt)))},xn=function(wt){var Rt=wt.closeOnEscape,Gt=wt.onClose,qt=_e.useRef();return kt(function(){qt.current&&Rt&&Gt()}),_e.createElement("div",{className:"rpv-core__popover-overlay",ref:qt})},kn=function(wt){var Rt=wt.ariaControlsSuffix,Gt=wt.children,qt=wt.contentRef,Jt=wt.offset,nn=wt.position,pn=wt.targetRef,ln=_e.useRef(),Kt=_e.useContext(ot).direction===a.TextDirection.RightToLeft;return Vt(qt,pn,ln,nn,Jt),_e.createElement(_e.Fragment,null,_e.createElement("div",{ref:ln,style:{left:0,position:"absolute",top:0}}),_e.createElement("div",{className:ut({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":Kt}),id:"rpv-core__tooltip-body-".concat(Rt),ref:qt,role:"tooltip"},_e.createElement(rn,{customClassName:"rpv-core__tooltip-body-arrow",position:nn}),_e.createElement("div",{className:"rpv-core__tooltip-body-content"},Gt)))};a.FullScreenMode=void 0,(vn=a.FullScreenMode||(a.FullScreenMode={})).Normal="Normal",vn.Entering="Entering",vn.Entered="Entered",vn.EnteredCompletely="EnteredCompletely",vn.Exitting="Exitting",vn.Exited="Exited",a.LayerRenderStatus=void 0,(bn=a.LayerRenderStatus||(a.LayerRenderStatus={}))[bn.PreRender=0]="PreRender",bn[bn.DidRender=1]="DidRender",a.PageMode=void 0,(_n=a.PageMode||(a.PageMode={})).Attachments="UseAttachments",_n.Bookmarks="UseOutlines",_n.ContentGroup="UseOC",_n.Default="UserNone",_n.FullScreen="FullScreen",_n.Thumbnails="UseThumbs",a.PasswordStatus=void 0,(An=a.PasswordStatus||(a.PasswordStatus={})).RequiredPassword="RequiredPassword",An.WrongPassword="WrongPassword",a.RotateDirection=void 0,(wn=a.RotateDirection||(a.RotateDirection={})).Backward="Backward",wn.Forward="Forward",a.ScrollMode=void 0,(on=a.ScrollMode||(a.ScrollMode={})).Page="Page",on.Horizontal="Horizontal",on.Vertical="Vertical",on.Wrapped="Wrapped",a.SpecialZoomLevel=void 0,(hn=a.SpecialZoomLevel||(a.SpecialZoomLevel={})).ActualSize="ActualSize",hn.PageFit="PageFit",hn.PageWidth="PageWidth",a.ViewMode=void 0,(It=a.ViewMode||(a.ViewMode={})).DualPage="DualPage",It.DualPageWithCover="DualPageWithCover",It.SinglePage="SinglePage";var Cn,sn=function(wt,Rt){return wt.reduce(function(Gt,qt,Jt){return Jt%Rt?Gt[Gt.length-1].push(qt):Gt.push([qt]),Gt},[])},On=function(wt,Rt){switch(Rt[1].name){case"XYZ":return{bottomOffset:function(Gt,qt){return Rt[3]===null?qt:Rt[3]},leftOffset:function(Gt,qt){return Rt[2]===null?0:Rt[2]},pageIndex:wt,scaleTo:Rt[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:wt,scaleTo:a.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:Rt[2],leftOffset:0,pageIndex:wt,scaleTo:a.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:wt,scaleTo:1}}},Ln=new Map,fs=new Map,rs=function(wt,Rt){return"".concat(wt.loadingTask.docId,"___").concat(Rt.num,"R").concat(Rt.gen===0?"":Rt.gen)},Ss=function(wt,Rt,Gt){Ln.set(rs(wt,Rt),Gt)},zn=function(wt,Rt){if(!wt)return Promise.reject("The document is not loaded yet");var Gt="".concat(wt.loadingTask.docId,"___").concat(Rt),qt=fs.get(Gt);return qt?Promise.resolve(qt):new Promise(function(Jt,nn){wt.getPage(Rt+1).then(function(pn){fs.set(Gt,pn),pn.ref&&Ss(wt,pn.ref,Rt),Jt(pn)})})},_i=function(wt,Rt){return new Promise(function(Gt){new Promise(function(qt){typeof Rt=="string"?wt.getDestination(Rt).then(function(Jt){qt(Jt)}):qt(Rt)}).then(function(qt){if(typeof qt[0]=="object"&&qt[0]!==null){var Jt=qt[0],nn=function(ln,Kt){var dn=rs(ln,Kt);return Ln.has(dn)?Ln.get(dn):null}(wt,Jt);nn===null?wt.getPageIndex(Jt).then(function(ln){Ss(wt,Jt,ln),_i(wt,Rt).then(function(Kt){return Gt(Kt)})}):Gt(On(nn,qt))}else{var pn=On(qt[0],qt);Gt(pn)}})})};(function(wt){wt[wt.Solid=1]="Solid",wt[wt.Dashed=2]="Dashed",wt[wt.Beveled=3]="Beveled",wt[wt.Inset=4]="Inset",wt[wt.Underline=5]="Underline"})(Cn||(Cn={}));var ys,Ls=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),Sn=function(wt,Rt,Gt,qt){var Jt=parseInt(wt,10);return Jt>=Rt&&Jt<=Gt?Jt:qt},an=function(wt){return wt.contentsObj?wt.contentsObj.str:wt.contents||""},cn=function(wt){return wt.titleObj?wt.titleObj.str:wt.title||""},Un=function(wt){var Rt=wt.annotation,Gt=_e.useContext(ot).direction,qt=cn(Rt),Jt=an(Rt),nn=Gt===a.TextDirection.RightToLeft,pn=_e.useRef(),ln="";if(Rt.modificationDate){var Kt=function(dn){var un=Ls.exec(dn);if(!un)return null;var Mn=parseInt(un[1],10),Pn=Sn(un[2],1,12,1)-1,Rn=Sn(un[3],1,31,1),Bn=Sn(un[4],0,23,0),jn=Sn(un[5],0,59,0),Dn=Sn(un[6],0,59,0),ks=un[7]||"Z",cs=Sn(un[8],0,23,0),hs=Sn(un[9],0,59,0);switch(ks){case"-":Bn+=cs,jn+=hs;break;case"+":Bn-=cs,jn-=hs}return new Date(Date.UTC(Mn,Pn,Rn,Bn,jn,Dn))}(Rt.modificationDate);ln=Kt?"".concat(Kt.toLocaleDateString(),", ").concat(Kt.toLocaleTimeString()):""}return _e.useLayoutEffect(function(){if(pn.current){var dn=document.querySelector('[data-annotation-id="'.concat(Rt.id,'"]'));if(dn){var un=dn;return un.style.zIndex+=1,function(){un.style.zIndex="".concat(parseInt(un.style.zIndex,10)-1)}}}},[]),_e.createElement("div",{ref:pn,className:ut({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":nn}),style:{top:Rt.annotationType===a.AnnotationType.Popup?"":"100%"}},qt&&_e.createElement(_e.Fragment,null,_e.createElement("div",{className:ut({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!nn,"rpv-core__annotation-popup-title--rtl":nn})},qt),_e.createElement("div",{className:"rpv-core__annotation-popup-date"},ln)),Jt&&_e.createElement("div",{className:"rpv-core__annotation-popup-content"},Jt.split(`
`).map(function(dn,un){return _e.createElement(_e.Fragment,{key:un},dn,_e.createElement("br",null))})))};(function(wt){wt.Click="Click",wt.Hover="Hover"})(ys||(ys={}));var Gn,ss=function(wt){var Rt,Gt=wt.annotation,qt=wt.children,Jt=wt.ignoreBorder,nn=wt.hasPopup,pn=wt.isRenderable,ln=wt.page,Kt=wt.viewport,dn=Gt.rect,un=function(){var ps=tn(!1),Os=ps.opened,Is=ps.toggle,js=_e.useState(ys.Hover),Bs=js[0],zs=js[1];return{opened:Os,closeOnHover:function(){Bs===ys.Hover&&Is(a.ToggleStatus.Close)},openOnHover:function(){Bs===ys.Hover&&Is(a.ToggleStatus.Open)},toggleOnClick:function(){switch(Bs){case ys.Click:Os&&zs(ys.Hover),Is(a.ToggleStatus.Toggle);break;case ys.Hover:zs(ys.Click),Is(a.ToggleStatus.Open)}}}}(),Mn=un.closeOnHover,Pn=un.opened,Rn=un.openOnHover,Bn=un.toggleOnClick,jn=(Rt=[dn[0],ln.view[3]+ln.view[1]-dn[1],dn[2],ln.view[3]+ln.view[1]-dn[3]],[Math.min(Rt[0],Rt[2]),Math.min(Rt[1],Rt[3]),Math.max(Rt[0],Rt[2]),Math.max(Rt[1],Rt[3])]),Dn=dn[2]-dn[0],ks=dn[3]-dn[1],cs={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!Jt&&Gt.borderStyle.width>0){switch(Gt.borderStyle.style){case Cn.Dashed:cs.borderStyle="dashed";break;case Cn.Solid:cs.borderStyle="solid";break;case Cn.Underline:cs=Object.assign({borderBottomStyle:"solid"},cs);case Cn.Beveled:case Cn.Inset:}var hs=Gt.borderStyle.width;cs.borderWidth="".concat(hs,"px"),Gt.borderStyle.style!==Cn.Underline&&(Dn-=2*hs,ks-=2*hs);var vs=Gt.borderStyle,ts=vs.horizontalCornerRadius,bs=vs.verticalCornerRadius;(ts>0||bs>0)&&(cs.borderRadius="".concat(ts,"px / ").concat(bs,"px")),Gt.color?cs.borderColor="rgb(".concat(0|Gt.color[0],", ").concat(0|Gt.color[1],", ").concat(0|Gt.color[2],")"):cs.borderWidth="0"}return _e.createElement(_e.Fragment,null,pn&&qt({popup:{opened:Pn,closeOnHover:Mn,openOnHover:Rn,toggleOnClick:Bn},slot:{attrs:{style:Object.assign({height:"".concat(ks,"px"),left:"".concat(jn[0],"px"),top:"".concat(jn[1],"px"),transform:"matrix(".concat(Kt.transform.join(","),")"),transformOrigin:"-".concat(jn[0],"px -").concat(jn[1],"px"),width:"".concat(Dn,"px")},cs)},children:_e.createElement(_e.Fragment,null,nn&&Pn&&_e.createElement(Un,{annotation:Gt}))}}))},Wt=function(wt){var Rt=wt.annotation,Gt=wt.page,qt=wt.viewport,Jt=Rt.hasPopup===!1,nn=cn(Rt),pn=an(Rt),ln=!!(Rt.hasPopup||nn||pn);return _e.createElement(ss,{annotation:Rt,hasPopup:Jt,ignoreBorder:!0,isRenderable:ln,page:Gt,viewport:qt},function(Kt){return _e.createElement("div",st({},Kt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":Rt.id,onClick:Kt.popup.toggleOnClick,onMouseEnter:Kt.popup.openOnHover,onMouseLeave:Kt.popup.closeOnHover}),Kt.slot.children)})},En=function(wt){var Rt=wt.annotation,Gt=wt.page,qt=wt.viewport,Jt=Rt.hasPopup===!1,nn=cn(Rt),pn=an(Rt),ln=!!(Rt.hasPopup||nn||pn),Kt=Rt.rect,dn=Kt[2]-Kt[0],un=Kt[3]-Kt[1],Mn=Rt.borderStyle.width;return _e.createElement(ss,{annotation:Rt,hasPopup:Jt,ignoreBorder:!0,isRenderable:ln,page:Gt,viewport:qt},function(Pn){return _e.createElement("div",st({},Pn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":Rt.id,onClick:Pn.popup.toggleOnClick,onMouseEnter:Pn.popup.openOnHover,onMouseLeave:Pn.popup.closeOnHover}),_e.createElement("svg",{height:"".concat(un,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(dn," ").concat(un),width:"".concat(dn,"px")},_e.createElement("circle",{cy:un/2,fill:"none",rx:dn/2-Mn/2,ry:un/2-Mn/2,stroke:"transparent",strokeWidth:Mn||1})),Pn.slot.children)})},Nn=function(wt){var Rt=wt.annotation,Gt=wt.page,qt=wt.viewport,Jt=cn(Rt),nn=an(Rt),pn=!(Rt.hasPopup!==!1||!Jt&&!nn),ln=function(){var Kt,dn,un,Mn,Pn=Rt.file;Pn&&(Kt=Pn.filename,dn=Pn.content,un=typeof dn=="string"?"":URL.createObjectURL(new Blob([dn],{type:""})),(Mn=document.createElement("a")).style.display="none",Mn.href=un||Kt,Mn.setAttribute("download",function(Rn){var Bn=Rn.split("/").pop();return Bn?Bn.split("#")[0].split("?")[0]:Rn}(Kt)),document.body.appendChild(Mn),Mn.click(),document.body.removeChild(Mn),un&&URL.revokeObjectURL(un))};return _e.createElement(ss,{annotation:Rt,hasPopup:pn,ignoreBorder:!0,isRenderable:!0,page:Gt,viewport:qt},function(Kt){return _e.createElement("div",st({},Kt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":Rt.id,onClick:Kt.popup.toggleOnClick,onDoubleClick:ln,onMouseEnter:Kt.popup.openOnHover,onMouseLeave:Kt.popup.closeOnHover}),Kt.slot.children)})},Xn=function(wt){var Rt=wt.annotation,Gt=wt.page,qt=wt.viewport,Jt=Rt.hasPopup===!1,nn=cn(Rt),pn=an(Rt),ln=!!(Rt.hasPopup||nn||pn);return _e.createElement(ss,{annotation:Rt,hasPopup:Jt,ignoreBorder:!0,isRenderable:ln,page:Gt,viewport:qt},function(Kt){return _e.createElement("div",st({},Kt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":Rt.id,onClick:Kt.popup.toggleOnClick,onMouseEnter:Kt.popup.openOnHover,onMouseLeave:Kt.popup.closeOnHover}),Kt.slot.children)})},Yn=function(wt){var Rt=wt.annotation,Gt=wt.page,qt=wt.viewport,Jt=cn(Rt),nn=an(Rt),pn=!(!Jt&&!nn),ln=!Rt.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(Rt.parentType)!==-1;return ct(function(){if(Rt.parentId){var Kt=document.querySelector('[data-annotation-id="'.concat(Rt.parentId,'"]')),dn=document.querySelector('[data-annotation-id="'.concat(Rt.id,'"]'));if(Kt&&dn){var un=parseFloat(Kt.style.left),Mn=parseFloat(Kt.style.top)+parseFloat(Kt.style.height);dn.style.left="".concat(un,"px"),dn.style.top="".concat(Mn,"px"),dn.style.transformOrigin="-".concat(un,"px -").concat(Mn,"px")}}},[]),_e.createElement(ss,{annotation:Rt,hasPopup:ln,ignoreBorder:!1,isRenderable:pn,page:Gt,viewport:qt},function(Kt){return _e.createElement("div",st({},Kt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":Rt.id}),_e.createElement(Un,{annotation:Rt}))})},Hn=function(wt){var Rt=wt.annotation,Gt=wt.childAnnotation,qt=wt.page,Jt=wt.viewport,nn=Rt.hasPopup===!1,pn=cn(Rt),ln=an(Rt),Kt=!!(Rt.hasPopup||pn||ln);if(Rt.quadPoints&&Rt.quadPoints.length>0){var dn=Rt.quadPoints.map(function(un){return Object.assign({},Rt,{rect:[un[2].x,un[2].y,un[1].x,un[1].y],quadPoints:[]})});return _e.createElement(_e.Fragment,null,dn.map(function(un,Mn){return _e.createElement(Hn,{key:Mn,annotation:un,childAnnotation:Gt,page:qt,viewport:Jt})}))}return _e.createElement(ss,{annotation:Rt,hasPopup:nn,ignoreBorder:!0,isRenderable:Kt,page:qt,viewport:Jt},function(un){return _e.createElement(_e.Fragment,null,_e.createElement("div",st({},un.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":Rt.id,onClick:un.popup.toggleOnClick,onMouseEnter:un.popup.openOnHover,onMouseLeave:un.popup.closeOnHover}),un.slot.children),Gt&&Gt.annotationType===a.AnnotationType.Popup&&un.popup.opened&&_e.createElement(Yn,{annotation:Gt,page:qt,viewport:Jt}))})},Bt=function(wt){var Rt=wt.annotation,Gt=wt.page,qt=wt.viewport,Jt=Rt.hasPopup===!1,nn=cn(Rt),pn=an(Rt),ln=!!(Rt.hasPopup||nn||pn),Kt=Rt.rect,dn=Kt[2]-Kt[0],un=Kt[3]-Kt[1],Mn=Rt.borderStyle.width;return _e.createElement(ss,{annotation:Rt,hasPopup:Jt,ignoreBorder:!0,isRenderable:ln,page:Gt,viewport:qt},function(Pn){return _e.createElement("div",st({},Pn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":Rt.id,onClick:Pn.popup.toggleOnClick,onMouseEnter:Pn.popup.openOnHover,onMouseLeave:Pn.popup.closeOnHover}),Rt.inkLists&&Rt.inkLists.length&&_e.createElement("svg",{height:"".concat(un,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(dn," ").concat(un),width:"".concat(dn,"px")},Rt.inkLists.map(function(Rn,Bn){return _e.createElement("polyline",{key:Bn,fill:"none",stroke:"transparent",strokeWidth:Mn||1,points:Rn.map(function(jn){return"".concat(jn.x-Kt[0],",").concat(Kt[3]-jn.y)}).join(" ")})})),Pn.slot.children)})},Ot=function(wt){var Rt=wt.annotation,Gt=wt.page,qt=wt.viewport,Jt=Rt.hasPopup===!1,nn=cn(Rt),pn=an(Rt),ln=!!(Rt.hasPopup||nn||pn),Kt=Rt.rect,dn=Kt[2]-Kt[0],un=Kt[3]-Kt[1],Mn=Rt.borderStyle.width;return _e.createElement(ss,{annotation:Rt,hasPopup:Jt,ignoreBorder:!0,isRenderable:ln,page:Gt,viewport:qt},function(Pn){return _e.createElement("div",st({},Pn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":Rt.id,onClick:Pn.popup.toggleOnClick,onMouseEnter:Pn.popup.openOnHover,onMouseLeave:Pn.popup.closeOnHover}),_e.createElement("svg",{height:"".concat(un,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(dn," ").concat(un),width:"".concat(dn,"px")},_e.createElement("line",{stroke:"transparent",strokeWidth:Mn||1,x1:Kt[2]-Rt.lineCoordinates[0],x2:Kt[2]-Rt.lineCoordinates[2],y1:Kt[3]-Rt.lineCoordinates[1],y2:Kt[3]-Rt.lineCoordinates[3]})),Pn.slot.children)})},en=/^([^\w]*)(javascript|data|vbscript)/im,mn=/&#(\w+)(^\w|;)?/g,yn=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Tn=/^([^:]+):/gm,Fn=function(wt,Rt){var Gt,qt=(Gt=wt||"",Gt.replace(mn,function(ln,Kt){return String.fromCharCode(Kt)})).replace(yn,"").trim();if(!qt)return Rt;var Jt=qt[0];if(Jt==="."||Jt==="/")return qt;var nn=qt.match(Tn);if(!nn)return qt;var pn=nn[0];return en.test(pn)?Rt:qt},qn=function(wt){var Rt,Gt=wt.annotation,qt=wt.annotationContainerRef,Jt=wt.doc,nn=wt.outlines,pn=wt.page,ln=wt.pageIndex,Kt=wt.scale,dn=wt.viewport,un=wt.onExecuteNamedAction,Mn=wt.onJumpFromLinkAnnotation,Pn=wt.onJumpToDest,Rn=_e.useRef(),Bn=nn&&nn.length&&Gt.dest&&typeof Gt.dest=="string"?(Rt=nn.find(function(cs){return cs.dest===Gt.dest}))===null||Rt===void 0?void 0:Rt.title:"",jn=!!(Gt.url||Gt.dest||Gt.action||Gt.unsafeUrl),Dn={};if(Gt.url||Gt.unsafeUrl){var ks=Fn(Gt.url||Gt.unsafeUrl,"");ks?Dn={"data-target":"external",href:ks,rel:"noopener noreferrer nofollow",target:Gt.newWindow?"_blank":"",title:ks}:jn=!1}else Dn={href:"","data-annotation-link":Gt.id,onClick:function(cs){cs.preventDefault(),Gt.action?un(Gt.action):_i(Jt,Gt.dest).then(function(hs){var vs=Rn.current,ts=qt.current;if(vs&&ts){var bs=vs.getBoundingClientRect();ts.style.setProperty("height","100%"),ts.style.setProperty("width","100%");var ps=ts.getBoundingClientRect();ts.style.removeProperty("height"),ts.style.removeProperty("width");var Os=(bs.left-ps.left)/Kt,Is=(ps.bottom-bs.bottom+bs.height)/Kt;Mn({bottomOffset:Is,label:Bn,leftOffset:Os,pageIndex:ln})}Pn(hs)})}};return Bn&&(Dn=Object.assign({},Dn,{title:Bn,"aria-label":Bn})),_e.createElement(ss,{annotation:Gt,hasPopup:!1,ignoreBorder:!1,isRenderable:jn,page:pn,viewport:dn},function(cs){return _e.createElement("div",st({},cs.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":Gt.id,"data-testid":"core__annotation--link-".concat(Gt.id)}),_e.createElement("a",st({ref:Rn},Dn)))})},Vn=function(wt){var Rt=wt.annotation,Gt=wt.page,qt=wt.viewport,Jt=Rt.hasPopup===!1,nn=cn(Rt),pn=an(Rt),ln=!!(Rt.hasPopup||nn||pn),Kt=Rt.rect,dn=Kt[2]-Kt[0],un=Kt[3]-Kt[1],Mn=Rt.borderStyle.width;return _e.createElement(ss,{annotation:Rt,hasPopup:Jt,ignoreBorder:!0,isRenderable:ln,page:Gt,viewport:qt},function(Pn){return _e.createElement("div",st({},Pn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":Rt.id,onClick:Pn.popup.toggleOnClick,onMouseEnter:Pn.popup.openOnHover,onMouseLeave:Pn.popup.closeOnHover}),Rt.vertices&&Rt.vertices.length&&_e.createElement("svg",{height:"".concat(un,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(dn," ").concat(un),width:"".concat(dn,"px")},_e.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:Mn||1,points:Rt.vertices.map(function(Rn){return"".concat(Rn.x-Kt[0],",").concat(Kt[3]-Rn.y)}).join(" ")})),Pn.slot.children)})},$n=function(wt){var Rt=wt.annotation,Gt=wt.page,qt=wt.viewport,Jt=Rt.hasPopup===!1,nn=cn(Rt),pn=an(Rt),ln=!!(Rt.hasPopup||nn||pn),Kt=Rt.rect,dn=Kt[2]-Kt[0],un=Kt[3]-Kt[1],Mn=Rt.borderStyle.width;return _e.createElement(ss,{annotation:Rt,hasPopup:Jt,ignoreBorder:!0,isRenderable:ln,page:Gt,viewport:qt},function(Pn){return _e.createElement("div",st({},Pn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":Rt.id,onClick:Pn.popup.toggleOnClick,onMouseEnter:Pn.popup.openOnHover,onMouseLeave:Pn.popup.closeOnHover}),Rt.vertices&&Rt.vertices.length&&_e.createElement("svg",{height:"".concat(un,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(dn," ").concat(un),width:"".concat(dn,"px")},_e.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:Mn||1,points:Rt.vertices.map(function(Rn){return"".concat(Rn.x-Kt[0],",").concat(Kt[3]-Rn.y)}).join(" ")})),Pn.slot.children)})},ms=function(wt){var Rt=wt.annotation,Gt=wt.page,qt=wt.viewport,Jt=Rt.hasPopup===!1,nn=cn(Rt),pn=an(Rt),ln=!!(Rt.hasPopup||nn||pn),Kt=Rt.rect,dn=Kt[2]-Kt[0],un=Kt[3]-Kt[1],Mn=Rt.borderStyle.width;return _e.createElement(ss,{annotation:Rt,hasPopup:Jt,ignoreBorder:!0,isRenderable:ln,page:Gt,viewport:qt},function(Pn){return _e.createElement("div",st({},Pn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":Rt.id,onClick:Pn.popup.toggleOnClick,onMouseEnter:Pn.popup.openOnHover,onMouseLeave:Pn.popup.closeOnHover}),_e.createElement("svg",{height:"".concat(un,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(dn," ").concat(un),width:"".concat(dn,"px")},_e.createElement("rect",{height:un-Mn,fill:"none",stroke:"transparent",strokeWidth:Mn||1,x:Mn/2,y:Mn/2,width:dn-Mn})),Pn.slot.children)})},Wn=function(wt){var Rt=wt.annotation,Gt=wt.page,qt=wt.viewport,Jt=Rt.hasPopup===!1,nn=cn(Rt),pn=an(Rt),ln=!!(Rt.hasPopup||nn||pn);return _e.createElement(ss,{annotation:Rt,hasPopup:Jt,ignoreBorder:!0,isRenderable:ln,page:Gt,viewport:qt},function(Kt){return _e.createElement("div",st({},Kt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":Rt.id,onClick:Kt.popup.toggleOnClick,onMouseEnter:Kt.popup.openOnHover,onMouseLeave:Kt.popup.closeOnHover}),Kt.slot.children)})},Qn=function(wt){var Rt=wt.annotation,Gt=wt.page,qt=wt.viewport,Jt=Rt.hasPopup===!1,nn=cn(Rt),pn=an(Rt),ln=!!(Rt.hasPopup||nn||pn);return _e.createElement(ss,{annotation:Rt,hasPopup:Jt,ignoreBorder:!0,isRenderable:ln,page:Gt,viewport:qt},function(Kt){return _e.createElement("div",st({},Kt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":Rt.id,onClick:Kt.popup.toggleOnClick,onMouseEnter:Kt.popup.openOnHover,onMouseLeave:Kt.popup.closeOnHover}),Kt.slot.children)})},us=function(wt){var Rt=wt.annotation,Gt=wt.page,qt=wt.viewport,Jt=Rt.hasPopup===!1,nn=cn(Rt),pn=an(Rt),ln=!!(Rt.hasPopup||nn||pn);return _e.createElement(ss,{annotation:Rt,hasPopup:Jt,ignoreBorder:!0,isRenderable:ln,page:Gt,viewport:qt},function(Kt){return _e.createElement("div",st({},Kt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":Rt.id,onClick:Kt.popup.toggleOnClick,onMouseEnter:Kt.popup.openOnHover,onMouseLeave:Kt.popup.closeOnHover}),Kt.slot.children)})},Es=function(){return _e.createElement(ft,{size:16},_e.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),_e.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),_e.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),_e.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},Ps=function(){return _e.createElement(ft,{size:16},_e.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),_e.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),_e.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),_e.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),_e.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),_e.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),_e.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),_e.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),_e.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),_e.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},Us=function(){return _e.createElement(ft,{size:16},_e.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),_e.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},mr=function(){return _e.createElement(ft,{size:16},_e.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),_e.createElement("path",{d:"M6 4.5L6 0.5"}),_e.createElement("path",{d:"M18 4.5L18 0.5"}),_e.createElement("path",{d:"M10 4.5L10 0.5"}),_e.createElement("path",{d:"M14 4.5L14 0.5"}))},ar=function(){return _e.createElement(ft,{size:16},_e.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),_e.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),_e.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},ho=function(){return _e.createElement(ft,{size:16},_e.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},ko=function(wt){var Rt=wt.annotation,Gt=wt.childAnnotation,qt=wt.page,Jt=wt.viewport,nn=Rt.hasPopup===!1,pn=cn(Rt),ln=an(Rt),Kt=!!(Rt.hasPopup||pn||ln),dn=Rt.name?Rt.name.toLowerCase():"";return _e.createElement(ss,{annotation:Rt,hasPopup:nn,ignoreBorder:!1,isRenderable:Kt,page:qt,viewport:Jt},function(un){return _e.createElement(_e.Fragment,null,_e.createElement("div",st({},un.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":Rt.id,onClick:un.popup.toggleOnClick,onMouseEnter:un.popup.openOnHover,onMouseLeave:un.popup.closeOnHover}),dn&&_e.createElement("div",{className:"rpv-core__annotation-text-icon"},dn==="check"&&_e.createElement(lt,null),dn==="comment"&&_e.createElement(Es,null),dn==="help"&&_e.createElement(Ps,null),dn==="insert"&&_e.createElement(ho,null),dn==="key"&&_e.createElement(Us,null),dn==="note"&&_e.createElement(mr,null),(dn==="newparagraph"||dn==="paragraph")&&_e.createElement(ar,null)),un.slot.children),Gt&&Gt.annotationType===a.AnnotationType.Popup&&un.popup.opened&&_e.createElement(Yn,{annotation:Gt,page:qt,viewport:Jt}))})},Ro=function(wt){var Rt=wt.annotation,Gt=wt.page,qt=wt.viewport,Jt=Rt.hasPopup===!1,nn=cn(Rt),pn=an(Rt),ln=!!(Rt.hasPopup||nn||pn);return _e.createElement(ss,{annotation:Rt,hasPopup:Jt,ignoreBorder:!0,isRenderable:ln,page:Gt,viewport:qt},function(Kt){return _e.createElement("div",st({},Kt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":Rt.id,onClick:Kt.popup.toggleOnClick,onMouseEnter:Kt.popup.openOnHover,onMouseLeave:Kt.popup.closeOnHover}),Kt.slot.children)})},O0=function(wt){var Rt=wt.annotations,Gt=wt.doc,qt=wt.outlines,Jt=wt.page,nn=wt.pageIndex,pn=wt.plugins,ln=wt.rotation,Kt=wt.scale,dn=wt.onExecuteNamedAction,un=wt.onJumpFromLinkAnnotation,Mn=wt.onJumpToDest,Pn=_e.useRef(),Rn=Jt.getViewport({rotation:ln,scale:Kt}).clone({dontFlip:!0}),Bn=Rt.filter(function(jn){return!jn.parentId});return ct(function(){var jn=Pn.current;jn&&pn.forEach(function(Dn){Dn.onAnnotationLayerRender&&Dn.onAnnotationLayerRender({annotations:Bn,container:jn,pageIndex:nn,rotation:ln,scale:Kt})})},[]),_e.createElement("div",{ref:Pn,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(nn)},Bn.map(function(jn){var Dn=Rt.find(function(ks){return ks.parentId===jn.id});switch(jn.annotationType){case a.AnnotationType.Caret:return _e.createElement(Wt,{key:jn.id,annotation:jn,page:Jt,viewport:Rn});case a.AnnotationType.Circle:return _e.createElement(En,{key:jn.id,annotation:jn,page:Jt,viewport:Rn});case a.AnnotationType.FileAttachment:return _e.createElement(Nn,{key:jn.id,annotation:jn,page:Jt,viewport:Rn});case a.AnnotationType.FreeText:return _e.createElement(Xn,{key:jn.id,annotation:jn,page:Jt,viewport:Rn});case a.AnnotationType.Highlight:return _e.createElement(Hn,{key:jn.id,annotation:jn,childAnnotation:Dn,page:Jt,viewport:Rn});case a.AnnotationType.Ink:return _e.createElement(Bt,{key:jn.id,annotation:jn,page:Jt,viewport:Rn});case a.AnnotationType.Line:return _e.createElement(Ot,{key:jn.id,annotation:jn,page:Jt,viewport:Rn});case a.AnnotationType.Link:return _e.createElement(qn,{key:jn.id,annotation:jn,annotationContainerRef:Pn,doc:Gt,outlines:qt,page:Jt,pageIndex:nn,scale:Kt,viewport:Rn,onExecuteNamedAction:dn,onJumpFromLinkAnnotation:un,onJumpToDest:Mn});case a.AnnotationType.Polygon:return _e.createElement(Vn,{key:jn.id,annotation:jn,page:Jt,viewport:Rn});case a.AnnotationType.Polyline:return _e.createElement($n,{key:jn.id,annotation:jn,page:Jt,viewport:Rn});case a.AnnotationType.Popup:return _e.createElement(Yn,{key:jn.id,annotation:jn,page:Jt,viewport:Rn});case a.AnnotationType.Square:return _e.createElement(ms,{key:jn.id,annotation:jn,page:Jt,viewport:Rn});case a.AnnotationType.Squiggly:return _e.createElement(Wn,{key:jn.id,annotation:jn,page:Jt,viewport:Rn});case a.AnnotationType.Stamp:return _e.createElement(Qn,{key:jn.id,annotation:jn,page:Jt,viewport:Rn});case a.AnnotationType.StrikeOut:return _e.createElement(us,{key:jn.id,annotation:jn,page:Jt,viewport:Rn});case a.AnnotationType.Text:return _e.createElement(ko,{key:jn.id,annotation:jn,childAnnotation:Dn,page:Jt,viewport:Rn});case a.AnnotationType.Underline:return _e.createElement(Ro,{key:jn.id,annotation:jn,page:Jt,viewport:Rn});default:return _e.createElement(_e.Fragment,{key:jn.id})}}))},lw=function(wt){var Rt=wt.page,Gt=wt.renderAnnotations,qt=Xt(),Jt=_e.useState({loading:!0,annotations:[]}),nn=Jt[0],pn=Jt[1];return _e.useEffect(function(){Rt.getAnnotations({intent:"display"}).then(function(ln){qt.current&&pn({loading:!1,annotations:ln})})},[]),nn.loading?_e.createElement(_e.Fragment,null):Gt(nn.annotations)},cw=function(wt){var Rt=wt.doc,Gt=wt.outlines,qt=wt.page,Jt=wt.pageIndex,nn=wt.plugins,pn=wt.rotation,ln=wt.scale,Kt=wt.onExecuteNamedAction,dn=wt.onJumpFromLinkAnnotation,un=wt.onJumpToDest;return _e.createElement(lw,{page:qt,renderAnnotations:function(Mn){return _e.createElement(O0,{annotations:Mn,doc:Rt,outlines:Gt,page:qt,pageIndex:Jt,plugins:nn,rotation:pn,scale:ln,onExecuteNamedAction:Kt,onJumpFromLinkAnnotation:dn,onJumpToDest:un})}})},j0=function(wt,Rt){var Gt=wt%Rt;return Gt===0?wt:Math.floor(wt-Gt)},uw=function(wt){var Rt=wt.canvasLayerRef,Gt=wt.height,qt=wt.page,Jt=wt.pageIndex,nn=wt.plugins,pn=wt.rotation,ln=wt.scale,Kt=wt.width,dn=wt.onRenderCanvasCompleted,un=_e.useRef();return ct(function(){var Mn=un.current;Mn&&Mn.cancel();var Pn=Rt.current;Pn.removeAttribute("data-testid"),nn.forEach(function(ps){ps.onCanvasLayerRender&&ps.onCanvasLayerRender({ele:Pn,pageIndex:Jt,rotation:pn,scale:ln,status:a.LayerRenderStatus.PreRender})});var Rn=qt.getViewport({rotation:pn,scale:ln}),Bn=window.devicePixelRatio||1,jn=Math.sqrt(16777216/(Rn.width*Rn.height)),Dn=Bn>jn;Dn?Pn.style.transform="scale(1, 1)":Pn.style.removeProperty("transform");var ks=Math.min(jn,Bn),cs=function(ps,Os){var Is,js;if(Math.floor(ps)===ps)return[ps,1];var Bs=1/ps;if(Bs>Os)return[1,Os];if(Math.floor(Bs)===Bs)return[1,Bs];for(var zs=ps>1?Bs:ps,dr=0,tr=1,pr=1,or=1;;){var cr=dr+pr,ur=tr+or;if(ur>Os)break;zs<=cr/ur?(pr=(Is=[cr,ur])[0],or=Is[1]):(dr=(js=[cr,ur])[0],tr=js[1])}return zs<(dr/tr+pr/or)/2?zs===ps?[dr,tr]:[tr,dr]:zs===ps?[pr,or]:[or,pr]}(ks,8),hs=cs[0],vs=cs[1];Pn.width=j0(Rn.width*ks,hs),Pn.height=j0(Rn.height*ks,hs),Pn.style.width="".concat(j0(Rn.width,vs),"px"),Pn.style.height="".concat(j0(Rn.height,vs),"px"),Pn.hidden=!0;var ts=Pn.getContext("2d",{alpha:!1}),bs=Dn||Bn!==1?[ks,0,0,ks,0,0]:null;return un.current=qt.render({canvasContext:ts,transform:bs,viewport:Rn}),un.current.promise.then(function(){Pn.hidden=!1,Pn.setAttribute("data-testid","core__canvas-layer-".concat(Jt)),nn.forEach(function(ps){ps.onCanvasLayerRender&&ps.onCanvasLayerRender({ele:Pn,pageIndex:Jt,rotation:pn,scale:ln,status:a.LayerRenderStatus.DidRender})}),dn()},function(){dn()}),function(){Pn&&(Pn.width=0,Pn.height=0)}},[]),_e.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(Gt,"px"),width:"".concat(Kt,"px")}},_e.createElement("canvas",{ref:Rt}))},hw=function(wt){var Rt=wt.height,Gt=wt.page,qt=wt.rotation,Jt=wt.scale,nn=wt.width,pn=_e.useRef();return ct(function(){var ln=pn.current,Kt=Gt.getViewport({rotation:qt,scale:Jt});Gt.getOperatorList().then(function(dn){(function(){var un=pn.current;un&&(un.innerHTML="")})(),new et.SVGGraphics(Gt.commonObjs,Gt.objs).getSVG(dn,Kt).then(function(un){un.style.height="".concat(Rt,"px"),un.style.width="".concat(nn,"px"),ln.appendChild(un)})})},[]),_e.createElement("div",{className:"rpv-core__svg-layer",ref:pn})},dw=function(wt){var Rt=wt.containerRef,Gt=wt.page,qt=wt.pageIndex,Jt=wt.plugins,nn=wt.rotation,pn=wt.scale,ln=wt.onRenderTextCompleted,Kt=_e.useRef(),dn=function(){var un=Rt.current;un&&([].slice.call(un.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(Mn){return un.removeChild(Mn)}),[].slice.call(un.querySelectorAll('br[role="presentation"]')).forEach(function(Mn){return un.removeChild(Mn)}))};return ct(function(){var un=Kt.current;un&&un.cancel();var Mn=Rt.current;if(Mn){Mn.removeAttribute("data-testid");var Pn=Gt.getViewport({rotation:nn,scale:pn});return Jt.forEach(function(Rn){Rn.onTextLayerRender&&Rn.onTextLayerRender({ele:Mn,pageIndex:qt,scale:pn,status:a.LayerRenderStatus.PreRender})}),Gt.getTextContent().then(function(Rn){dn(),Kt.current=et.renderTextLayer({container:Mn,textContent:Rn,textContentSource:Rn,viewport:Pn}),Kt.current.promise.then(function(){Mn.setAttribute("data-testid","core__text-layer-".concat(qt)),[].slice.call(Mn.children).forEach(function(Bn){Bn.classList.contains("rpv-core__text-layer-text--not")||Bn.classList.add("rpv-core__text-layer-text")}),Jt.forEach(function(Bn){Bn.onTextLayerRender&&Bn.onTextLayerRender({ele:Mn,pageIndex:qt,scale:pn,status:a.LayerRenderStatus.DidRender})}),ln()},function(){Mn.removeAttribute("data-testid"),ln()})}),function(){var Rn;dn(),(Rn=Kt.current)===null||Rn===void 0||Rn.cancel()}}},[]),_e.createElement("div",{className:"rpv-core__text-layer",ref:Rt})},fw=function(wt){var Rt=wt.doc,Gt=wt.measureRef,qt=wt.outlines,Jt=wt.pageIndex,nn=wt.pageRotation,pn=wt.pageSize,ln=wt.plugins,Kt=wt.renderPage,dn=wt.renderQueueKey,un=wt.rotation,Mn=wt.scale,Pn=wt.shouldRender,Rn=wt.viewMode,Bn=wt.onExecuteNamedAction,jn=wt.onJumpFromLinkAnnotation,Dn=wt.onJumpToDest,ks=wt.onRenderCompleted,cs=wt.onRotatePage,hs=Xt(),vs=_e.useState(null),ts=vs[0],bs=vs[1],ps=_e.useState(!1),Os=ps[0],Is=ps[1],js=_e.useState(!1),Bs=js[0],zs=js[1],dr=_e.useRef(),tr=_e.useRef(),pr=Math.abs(un+nn)%180==0,or=pn.pageWidth*Mn,cr=pn.pageHeight*Mn,ur=pr?or:cr,lr=pr?cr:or,Rr=(pn.rotation+un+nn)%360,Po=_e.useRef(0),fo=Kt||function(br){return _e.createElement(_e.Fragment,null,br.canvasLayer.children,br.textLayer.children,br.annotationLayer.children)};return _e.useEffect(function(){bs(null),Is(!1),zs(!1)},[nn,un,Mn]),_e.useEffect(function(){Pn&&hs.current&&!ts&&zn(Rt,Jt).then(function(br){hs.current&&(Po.current=dn,bs(br))})},[Pn,ts]),_e.useEffect(function(){Os&&Bs&&(dn!==Po.current?(bs(null),Is(!1),zs(!1)):ks(Jt))},[Os,Bs]),_e.createElement("div",{className:ut({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":Rn===a.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":Rn===a.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":Rn===a.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(Jt),ref:Gt,style:{height:"".concat(lr,"px"),width:"".concat(ur,"px")}},ts?_e.createElement(_e.Fragment,null,fo({annotationLayer:{attrs:{},children:_e.createElement(cw,{doc:Rt,outlines:qt,page:ts,pageIndex:Jt,plugins:ln,rotation:Rr,scale:Mn,onExecuteNamedAction:Bn,onJumpFromLinkAnnotation:jn,onJumpToDest:Dn})},canvasLayer:{attrs:{},children:_e.createElement(uw,{canvasLayerRef:dr,height:lr,page:ts,pageIndex:Jt,plugins:ln,rotation:Rr,scale:Mn,width:ur,onRenderCanvasCompleted:function(){hs.current&&Is(!0)}})},canvasLayerRendered:Os,doc:Rt,height:lr,pageIndex:Jt,rotation:Rr,scale:Mn,svgLayer:{attrs:{},children:_e.createElement(hw,{height:lr,page:ts,rotation:Rr,scale:Mn,width:ur})},textLayer:{attrs:{},children:_e.createElement(dw,{containerRef:tr,page:ts,pageIndex:Jt,plugins:ln,rotation:Rr,scale:Mn,onRenderTextCompleted:function(){hs.current&&zs(!0)}})},textLayerRendered:Bs,width:ur,markRendered:ks,onRotatePage:function(br){return cs(Jt,br)}}),ln.map(function(br,qr){return br.renderPageLayer?_e.createElement(_e.Fragment,{key:qr},br.renderPageLayer({canvasLayerRef:dr,canvasLayerRendered:Os,doc:Rt,height:lr,pageIndex:Jt,rotation:Rr,scale:Mn,textLayerRef:tr,textLayerRendered:Bs,width:ur})):_e.createElement(_e.Fragment,{key:qr})})):_e.createElement(pt,{testId:"core__page-layer-loading-".concat(Jt)}))},pw=function(wt,Rt){var Gt=Rt.rect;return wt.height!==Gt.height||wt.width!==Gt.width?Gt:wt};(function(wt){wt.Horizontal="Horizontal",wt.Vertical="Vertical",wt.Both="Both"})(Gn||(Gn={}));var gw=function(wt){return 1-Math.pow(1-wt,4)},$0=1e-4,Bx={left:0,top:0},Hx={capture:!1,passive:!0},mw=function(wt){var Rt=wt.elementRef,Gt=wt.enableSmoothScroll,qt=wt.isRtl,Jt=wt.scrollDirection,nn=wt.onSmoothScroll,pn=_e.useState(Bx),ln=pn[0],Kt=pn[1],dn=_e.useState(Rt.current),un=dn[0],Mn=dn[1],Pn=qt?-1:1,Rn=_e.useRef(Jt);Rn.current=Jt;var Bn=_e.useRef(Bx),jn=_e.useRef(!0),Dn=_e.useCallback(function(){jn.current=!0,Gt&&Kt(Bn.current),nn(!1)},[]),ks=_e.useCallback(function(){if(un){switch(Rn.current){case Gn.Horizontal:Bn.current={left:Pn*un.scrollLeft,top:0};break;case Gn.Both:Bn.current={left:Pn*un.scrollLeft,top:un.scrollTop};break;case Gn.Vertical:default:Bn.current={left:0,top:un.scrollTop}}Gt&&!jn.current||Kt(Bn.current)}},[un]);ct(function(){Mn(Rt.current)}),ct(function(){if(un)return un.addEventListener("scroll",ks,Hx),function(){un.removeEventListener("scroll",ks,Hx)}},[un]);var cs=_e.useCallback(function(hs,vs){var ts=Rt.current;if(!ts)return Promise.resolve();var bs={left:0,top:0};switch(Rn.current){case Gn.Horizontal:bs.left=Pn*hs.left;break;case Gn.Both:bs.left=Pn*hs.left,bs.top=hs.top;break;case Gn.Vertical:default:bs.top=hs.top}return vs?(jn.current=!1,nn(!0),new Promise(function(ps,Os){(function(Is,js,Bs,zs,dr,tr){dr===void 0&&(dr=function(qr){return qr}),tr===void 0&&(tr=function(){});var pr=0,or=0,cr=!1;switch(js){case Gn.Horizontal:or=Is.scrollLeft,pr=0;case Gn.Both:or=Is.scrollLeft,pr=Is.scrollTop;break;case Gn.Vertical:default:or=0,pr=Is.scrollTop}var ur=function(){cr||(cr=!0,Is.scrollLeft=Bs.left,Is.scrollTop=Bs.top,tr())};if(Math.abs(pr-Bs.top)<=$0&&js===Gn.Vertical)ur();else if(Math.abs(or-Bs.left)<=$0&&js===Gn.Horizontal)ur();else{var lr,Rr=-1,Po=or-Bs.left,fo=pr-Bs.top,br=function(qr){Rr===-1&&(Rr=qr);var Ko=qr-Rr,gs=Math.min(Ko/zs,1),ds=dr(gs),ns={left:or-Po*ds,top:pr-fo*ds};switch(js){case Gn.Horizontal:Is.scrollLeft=ns.left;break;case Gn.Both:Is.scrollLeft=ns.left,Is.scrollTop=ns.top;break;case Gn.Vertical:default:Is.scrollTop=ns.top}Math.abs(ns.top-Bs.top)<=$0&&Math.abs(ns.left-Bs.left)<=$0&&!cr&&(window.cancelAnimationFrame(lr),ur()),Ko<zs?lr=window.requestAnimationFrame(br):window.cancelAnimationFrame(lr)};lr=window.requestAnimationFrame(br)}})(ts,Rn.current,bs,400,gw,function(){Dn(),ps()})})):new Promise(function(ps,Os){switch(Rn.current){case Gn.Horizontal:ts.scrollLeft=bs.left;break;case Gn.Both:ts.scrollLeft=bs.left,ts.scrollTop=bs.top;break;case Gn.Vertical:default:ts.scrollTop=bs.top}ps()})},[Rt]);return{scrollOffset:ln,scrollTo:cs}},Nm=function(wt,Rt,Gt){return Math.max(wt,Math.min(Gt,Rt))},vw=function(wt,Rt){if(Rt!==a.ViewMode.DualPageWithCover)return 0;if(!function(Jt){var nn=Jt.length;if(nn===1)return!1;for(var pn=1;pn<nn;pn++)if(Jt[pn].height!==Jt[0].height||Jt[pn].width!==Jt[0].width)return!0;return!1}(wt))return 2*wt[0].width;var Gt=sn(wt.slice(1),2).map(function(Jt){return Jt.length===2?Jt[0].width+Jt[1].width:Jt[0].width}),qt=[wt[0].width].concat(Gt);return Math.max.apply(Math,qt)},yw={left:0,top:0},_w={left:0,top:0},Ky={left:0,top:0},bw={left:0,top:0},xw={height:0,width:0},Ux={left:0,top:0},zx="data-virtual-index",Ew=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],Aw=function(wt){var Rt=wt.enableSmoothScroll,Gt=wt.isRtl,qt=wt.numberOfItems,Jt=wt.parentRef,nn=wt.setRenderRange,pn=wt.sizes,ln=wt.scrollMode,Kt=wt.viewMode,dn=_e.useState(!1),un=dn[0],Mn=dn[1],Pn=_e.useCallback(function(gs){return Mn(gs)},[]),Rn=_e.useRef(ln);Rn.current=ln;var Bn=_e.useRef(Kt);Bn.current=Kt;var jn=ln===a.ScrollMode.Wrapped||Kt===a.ViewMode.DualPageWithCover||Kt===a.ViewMode.DualPage?Gn.Both:ln===a.ScrollMode.Horizontal?Gn.Horizontal:Gn.Vertical,Dn=mw({elementRef:Jt,enableSmoothScroll:Rt,isRtl:Gt,scrollDirection:jn,onSmoothScroll:Pn}),ks=Dn.scrollOffset,cs=Dn.scrollTo,hs=function(gs){var ds=gs.elementRef,ns=_e.useState(ds.current),as=ns[0],is=ns[1],xs=_e.useRef(!1),As=_e.useReducer(pw,{height:0,width:0}),os=As[0],Kn=As[1];return ct(function(){ds.current!==as&&is(ds.current)}),ct(function(){if(as&&!xs.current){xs.current=!0;var Cs=as.getBoundingClientRect(),Rs=Cs.height,Qs=Cs.width;Kn({rect:{height:Rs,width:Qs}})}},[as]),_e.useEffect(function(){if(as){var Cs=new ResizeObserver(function(Rs,Qs){Rs.forEach(function(qs){if(qs.target===as){var Sr=qs.contentRect,Zr=Sr.height,Ts=Sr.width;Kn({rect:{height:Zr,width:Ts}})}})});return Cs.observe(as),function(){Cs.unobserve(as)}}},[as]),os}({elementRef:Jt}),vs=_e.useRef({scrollOffset:Ux,measurements:[]});vs.current.scrollOffset=ks;var ts=_e.useMemo(function(){return Array(qt).fill(-1)},[]),bs=_e.useState(ts),ps=bs[0],Os=bs[1],Is=_e.useMemo(function(){var gs=new IntersectionObserver(function(ds){ds.forEach(function(ns){var as=ns.isIntersecting?ns.intersectionRatio:-1,is=ns.target.getAttribute(zx);if(is){var xs=parseInt(is,10);0<=xs&&xs<qt&&Os(function(As){return As[xs]=as,function(os,Kn,Cs){for(var Rs,Qs=0,qs=Kn.length;Qs<qs;Qs++)!Rs&&Qs in Kn||(Rs||(Rs=Array.prototype.slice.call(Kn,0,Qs)),Rs[Qs]=Kn[Qs]);return os.concat(Rs||Array.prototype.slice.call(Kn))}([],As)})}})},{threshold:Ew});return gs},[]),js=_e.useMemo(function(){return ln===a.ScrollMode.Page&&Kt===a.ViewMode.SinglePage?function(gs,ds,ns){for(var as=[],is=0;is<gs;is++){var xs={height:Math.max(ds.height,ns[is].height),width:Math.max(ds.width,ns[is].width)},As=is===0?bw:as[is-1].end,os={left:As.left+xs.width,top:As.top+xs.height};as[is]={index:is,start:As,size:xs,end:os,visibility:-1}}return as}(qt,hs,pn):Kt===a.ViewMode.DualPageWithCover?function(gs,ds,ns,as){for(var is=[],xs=0,As=0,os=Ky,Kn=0;Kn<gs;Kn++){var Cs=Kn===0?{height:as===a.ScrollMode.Page?Math.max(ds.height,ns[Kn].height):ns[Kn].height,width:as===a.ScrollMode.Page?Math.max(ds.width,ns[Kn].width):ns[Kn].width}:{height:as===a.ScrollMode.Page?Math.max(ds.height,ns[Kn].height):ns[Kn].height,width:Math.max(ds.width/2,ns[Kn].width)};as===a.ScrollMode.Page?os=Kn===0?Ky:{left:Kn%2==0?Cs.width:0,top:Math.floor((Kn-1)/2)*Cs.height+is[0].end.top}:Kn===0?(os=Ky,xs=ns[0].height,As=0):Kn%2==1?(os={left:0,top:xs+=As},As=Kn===gs-1?ns[Kn].height:Math.max(ns[Kn].height,ns[Kn+1].height)):os={left:is[Kn-1].end.left,top:xs};var Rs={left:os.left+Cs.width,top:os.top+Cs.height};is[Kn]={index:Kn,start:os,size:Cs,end:Rs,visibility:-1}}return is}(qt,hs,pn,ln):Kt===a.ViewMode.DualPage?function(gs,ds,ns,as){for(var is=[],xs=0,As=0,os=_w,Kn=0;Kn<gs;Kn++){var Cs={height:as===a.ScrollMode.Page?Math.max(ds.height,ns[Kn].height):ns[Kn].height,width:Math.max(ds.width/2,ns[Kn].width)};as===a.ScrollMode.Page?os={left:Kn%2==0?0:Cs.width,top:Math.floor(Kn/2)*Cs.height}:Kn%2==0?(os={left:0,top:xs+=As},As=Kn===gs-1?ns[Kn].height:Math.max(ns[Kn].height,ns[Kn+1].height)):os={left:is[Kn-1].end.left,top:xs};var Rs={left:os.left+Cs.width,top:os.top+Cs.height};is[Kn]={index:Kn,start:os,size:Cs,end:Rs,visibility:-1}}return is}(qt,hs,pn,ln):function(gs,ds,ns,as){for(var is=[],xs=0,As={left:0,top:0},os=0,Kn=yw,Cs=0;Cs<gs;Cs++){var Rs=ns[Cs];if(Cs===0)xs=Rs.width,As={left:0,top:0},os=Rs.height;else switch(as){case a.ScrollMode.Wrapped:(xs+=Rs.width)<ds.width?(Kn={left:is[Cs-1].end.left,top:As.top},os=Math.max(os,Rs.height)):(xs=Rs.width,As={left:(Kn={left:As.left,top:As.top+os}).left,top:Kn.top},os=Rs.height);break;case a.ScrollMode.Horizontal:case a.ScrollMode.Vertical:default:Kn=is[Cs-1].end}var Qs={left:Kn.left+Rs.width,top:Kn.top+Rs.height};is[Cs]={index:Cs,start:Kn,size:Rs,end:Qs,visibility:-1}}return is}(qt,hs,pn,ln)},[ln,pn,Kt,hs]),Bs=js[qt-1]?{height:js[qt-1].end.top,width:js[qt-1].end.left}:xw;vs.current.measurements=js;var zs=_e.useMemo(function(){var gs=function(Cs,Rs,Qs,qs){var Sr=0;switch(Cs){case Gn.Horizontal:Sr=qs.left;break;case Gn.Vertical:default:Sr=qs.top}var Zr=Rs.length-1,Ts=function(Gs,Yl,kp,H0){for(;Gs<=Yl;){var Su=(Gs+Yl)/2|0,Om=H0(Su);if(Om<kp)Gs=Su+1;else{if(!(Om>kp))return Su;Yl=Su-1}}return Gs>0?Gs-1:0}(0,Zr,Sr,function(Gs){switch(Cs){case Gn.Horizontal:return Rs[Gs].start.left;case Gn.Both:case Gn.Vertical:default:return Rs[Gs].start.top}});if(Cs===Gn.Both)for(var Cr=Rs[Ts].start.top;Ts-1>=0&&Rs[Ts-1].start.top===Cr&&Rs[Ts-1].start.left>=qs.left;)Ts--;for(var Zs=Ts;Zs<=Zr;){var nr={top:Rs[Zs].start.top-qs.top,left:Rs[Zs].start.left-qs.left},vr={height:Qs.height-nr.top,width:Qs.width-nr.left};if(Cs===Gn.Horizontal&&vr.width<0||Cs===Gn.Vertical&&vr.height<0||Cs===Gn.Both&&(vr.width<0||vr.height<0))break;Zs++}return{start:Ts,end:Zs}}(jn,js,hs,ks),ds=gs.start,ns=gs.end,as=ps.slice(Nm(0,qt,ds),Nm(0,qt,ns)),is=ds+as.reduce(function(Cs,Rs,Qs,qs){return Rs>qs[Cs]?Qs:Cs},0),xs=is=Nm(0,qt-1,is),As=nn({endPage:ns,numPages:qt,startPage:ds}),os=As.startPage,Kn=As.endPage;switch(os=Math.max(os,0),Kn=Math.min(Kn,qt-1),Kt){case a.ViewMode.DualPageWithCover:is>0&&(xs=is%2==1?is:is-1),os=os===0?0:os%2==1?os:os-1,qt-(Kn=Kn%2==1?Kn-1:Kn)<=2&&(Kn=qt-1);break;case a.ViewMode.DualPage:xs=is%2==0?is:is-1,os=os%2==0?os:os-1,Kn=Kn%2==1?Kn:Kn-1;break;case a.ViewMode.SinglePage:default:xs=is}return{startPage:os,endPage:Kn,maxVisbilityIndex:xs}},[js,hs,ks,Kt,ps]),dr=zs.startPage,tr=zs.endPage,pr=zs.maxVisbilityIndex,or=_e.useMemo(function(){for(var gs=[],ds=function(as){var is=js[as],xs=st(st({},is),{visibility:ps[as]!==void 0?ps[as]:-1,measureRef:function(As){As&&(As.setAttribute(zx,"".concat(as)),Is.observe(As))}});gs.push(xs)},ns=dr;ns<=tr;ns++)ds(ns);return gs},[dr,tr,ps,js]),cr=_e.useCallback(function(gs,ds){var ns=vs.current.measurements[Nm(0,qt-1,gs)],as=Rn.current===a.ScrollMode.Page?Ux:ds;return ns?cs({left:as.left+ns.start.left,top:as.top+ns.start.top},Rt):Promise.resolve()},[cs,Rt]),ur=_e.useCallback(function(gs,ds){var ns=vs.current.measurements,as=ns[gs].start,is=ns.find(function(As){return As.start.top-as.top>1e-12});if(!is)return Promise.resolve();var xs=is.index;switch(Bn.current){case a.ViewMode.DualPage:xs=xs%2==0?xs:xs+1;break;case a.ViewMode.DualPageWithCover:xs=xs%2==1?xs:xs+1}return cr(xs,ds)},[]),lr=_e.useCallback(function(gs,ds){for(var ns=vs.current.measurements,as=ns[gs].start,is=gs,xs=!1,As=qt-1;As>=0;As--)if(as.top-ns[As].start.top>1e-12){xs=!0,is=ns[As].index;break}if(!xs)return Promise.resolve();switch(Bn.current){case a.ViewMode.DualPage:is=is%2==0?is:is-1;break;case a.ViewMode.DualPageWithCover:is=is%2==0?is-1:is}return is===gs&&(is=gs-1),cr(is,ds)},[]),Rr=_e.useCallback(function(gs,ds){if(Bn.current===a.ViewMode.DualPageWithCover||Bn.current===a.ViewMode.DualPage)return ur(gs,ds);switch(Rn.current){case a.ScrollMode.Wrapped:return ur(gs,ds);case a.ScrollMode.Horizontal:case a.ScrollMode.Vertical:default:return cr(gs+1,ds)}},[]),Po=_e.useCallback(function(gs,ds){if(Bn.current===a.ViewMode.DualPageWithCover||Bn.current===a.ViewMode.DualPage)return lr(gs,ds);switch(Rn.current){case a.ScrollMode.Wrapped:return lr(gs,ds);case a.ScrollMode.Horizontal:case a.ScrollMode.Vertical:default:return cr(gs-1,ds)}},[]),fo=_e.useCallback(function(){return function(gs,ds){switch(ds){case a.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(gs.width,"px")};case a.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(gs.height,"px"),width:"100%"}}}(Bs,Rn.current)},[Bs]),br=_e.useCallback(function(gs){return function(ds,ns,as){return as!==a.ScrollMode.Page?{}:{height:"".concat(ns.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(ds.start.top,"px)")}}(gs,hs,Rn.current)},[hs]),qr=_e.useCallback(function(gs){return function(ds,ns,as,is,xs){var As,os,Kn,Cs,Rs,Qs,qs,Sr=ns?"right":"left",Zr=ns?-1:1,Ts=as.length,Cr=ds.start.left*Zr,Zs=ds.size,nr=Zs.height,vr=Zs.width;if(is===a.ViewMode.DualPageWithCover){var Gs=xs===a.ScrollMode.Page?0:ds.start.top;return ds.index===0||Ts%2==0&&ds.index===Ts-1?((As={height:"".concat(nr,"px"),minWidth:"".concat(vw(as,is),"px"),width:"100%"})[Sr]=0,As.position="absolute",As.top=0,As.transform="translate(".concat(Cr,"px, ").concat(Gs,"px)"),As):((os={height:"".concat(nr,"px"),width:"".concat(vr,"px")})[Sr]=0,os.position="absolute",os.top=0,os.transform="translate(".concat(Cr,"px, ").concat(Gs,"px)"),os)}if(is===a.ViewMode.DualPage)return(Kn={height:"".concat(nr,"px"),width:"".concat(vr,"px")})[Sr]=0,Kn.position="absolute",Kn.top=0,Kn.transform="translate(".concat(Cr,"px, ").concat(xs===a.ScrollMode.Page?0:ds.start.top,"px)"),Kn;switch(xs){case a.ScrollMode.Horizontal:return(Cs={height:"100%",width:"".concat(vr,"px")})[Sr]=0,Cs.position="absolute",Cs.top=0,Cs.transform="translateX(".concat(Cr,"px)"),Cs;case a.ScrollMode.Page:return(Rs={height:"".concat(nr,"px"),width:"".concat(vr,"px")})[Sr]=0,Rs.position="absolute",Rs.top=0,Rs;case a.ScrollMode.Wrapped:return(Qs={height:"".concat(nr,"px"),width:"".concat(vr,"px")})[Sr]=0,Qs.position="absolute",Qs.top=0,Qs.transform="translate(".concat(Cr,"px, ").concat(ds.start.top,"px)"),Qs;case a.ScrollMode.Vertical:default:return(qs={height:"".concat(nr,"px"),width:"100%"})[Sr]=0,qs.position="absolute",qs.top=0,qs.transform="translateY(".concat(ds.start.top,"px)"),qs}}(gs,Gt,pn,Bn.current,Rn.current)},[Gt,pn]),Ko=_e.useCallback(function(gs,ds){var ns=vs.current,as=ns.measurements,is=ns.scrollOffset,xs=as[Nm(0,qt-1,ds)];if(xs){var As=Rn.current===a.ScrollMode.Page?{left:xs.start.left,top:xs.start.top}:{left:is.left*gs,top:is.top*gs};return cs(As,!1)}return Promise.resolve()},[]);return _e.useEffect(function(){return function(){Is.disconnect()}},[]),{boundingClientRect:hs,isSmoothScrolling:un,startPage:dr,endPage:tr,maxVisbilityIndex:pr,virtualItems:or,getContainerStyles:fo,getItemContainerStyles:br,getItemStyles:qr,scrollToItem:cr,scrollToNextItem:Rr,scrollToPreviousItem:Po,zoom:Ko}},Yy=function(wt,Rt,Gt,qt,Jt,nn){var pn=Gt;switch(!0){case(Jt===a.ViewMode.DualPageWithCover&&nn>=3):case(Jt===a.ViewMode.DualPage&&nn>=3):pn=2*Gt;break;default:pn=Gt}switch(qt){case a.SpecialZoomLevel.ActualSize:return 1;case a.SpecialZoomLevel.PageFit:return Math.min((wt.clientWidth-17)/pn,(wt.clientHeight-16)/Rt);case a.SpecialZoomLevel.PageWidth:return(wt.clientWidth-17)/pn}},ww=function(wt){var Rt,Gt,qt=wt.getCurrentPage,Jt=(Rt=50,Gt=_e.useRef([]),_e.useEffect(function(){return function(){Gt.current=[]}},[]),{push:function(dn){var un=Gt.current;un.length+1>Rt&&un.shift(),un.push(dn),Gt.current=un},map:function(dn){return Gt.current.map(function(un){return dn(un)})},pop:function(){var dn=Gt.current;if(dn.length===0)return null;var un=dn.pop();return Gt.current=dn,un}}),nn=function(dn){var un=_e.useRef([]);return _e.useEffect(function(){return function(){un.current=[]}},[]),{dequeue:function(){var Mn=un.current;if(Mn.length===0)return null;var Pn=Mn.shift();return un.current=Mn,Pn||null},enqueue:function(Mn){var Pn=un.current;Pn.length+1>dn&&Pn.pop(),un.current=[Mn].concat(Pn)},map:function(Mn){return un.current.map(function(Pn){return Mn(Pn)})}}}(50),pn=function(){var dn=nn.dequeue();return dn&&Jt.push(dn),dn&&dn.pageIndex===qt()?pn():dn},ln=function(){var dn=Jt.pop();return dn&&nn.enqueue(dn),dn&&dn.pageIndex===qt()?ln():dn},Kt=_e.useCallback(function(dn){Jt.push(dn)},[]);return{getNextDestination:pn,getPreviousDestination:ln,markVisitedDestination:Kt}},Vx=function(wt){var Rt=[];return wt.map(function(Gt){Rt=Rt.concat(Gt).concat(function(qt){var Jt=[];return qt.items&&qt.items.length>0&&(Jt=Jt.concat(Vx(qt.items))),Jt}(Gt))}),Rt},Wx={capture:!1,passive:!0},Sw={height:0,width:0},Qy={height:0,width:0},Cw=function(wt){var Rt=wt.getCurrentPage,Gt=wt.getCurrentScrollMode,qt=wt.jumpToPage,Jt=wt.targetRef,nn=_e.useState(a.FullScreenMode.Normal),pn=nn[0],ln=nn[1],Kt=function(){var ps=_e.useState(Sw),Os=ps[0],Is=ps[1],js=Qt(function(){Is({height:window.innerHeight,width:window.innerWidth})},100);return ct(function(){return window.addEventListener("resize",js,Wx),function(){window.removeEventListener("resize",js,Wx)}},[]),Os}(),dn=_e.useState(Qy),un=dn[0],Mn=dn[1],Pn=_e.useRef(Qy),Rn=_e.useRef(Rt()),Bn=_e.useRef(Qy),jn=_e.useState(Jt.current),Dn=jn[0],ks=jn[1],cs=_e.useRef();ct(function(){Jt.current!==Dn&&ks(Jt.current)},[]),ct(function(){if(Dn){var ps=new ResizeObserver(function(Os){Os.forEach(function(Is){var js=Is.target.getBoundingClientRect(),Bs=js.height,zs=js.width;Mn({height:Bs,width:zs})})});return ps.observe(Dn),function(){ps.unobserve(Dn),ps.disconnect()}}},[Dn]);var hs=_e.useCallback(function(ps){var Os=Dt();return Os&&Os!==ps?(ln(a.FullScreenMode.Normal),Mt(Os)):Promise.resolve()},[]),vs=_e.useCallback(function(ps){ps&&St()&&(ks(ps),hs(ps).then(function(){cs.current=ps,ln(a.FullScreenMode.Entering),function(Os){Ct&&Os[Pt.RequestFullScreen]()}(ps)}))},[]),ts=_e.useCallback(function(){Dt()&&(ln(a.FullScreenMode.Exitting),Mt(document))},[]),bs=_e.useCallback(function(){Dn&&Dt()!==Dn&&ln(a.FullScreenMode.Exitting)},[Dn]);return _e.useEffect(function(){switch(pn){case a.FullScreenMode.Entering:cs.current&&(cs.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),Rn.current=Rt(),Pn.current={height:window.innerHeight,width:window.innerWidth};break;case a.FullScreenMode.Entered:Gt()===a.ScrollMode.Page?qt(Rn.current).then(function(){ln(a.FullScreenMode.EnteredCompletely)}):ln(a.FullScreenMode.EnteredCompletely);break;case a.FullScreenMode.Exitting:cs.current&&(cs.current.style.backgroundColor="",cs.current=null),Rn.current=Rt();break;case a.FullScreenMode.Exited:ln(a.FullScreenMode.Normal),Gt()===a.ScrollMode.Page&&qt(Rn.current)}},[pn]),_e.useEffect(function(){if(pn!==a.FullScreenMode.Normal)return pn===a.FullScreenMode.Entering&&Kt.height===un.height&&Kt.width===un.width&&Kt.height>0&&Kt.width>0&&(Bn.current.height===0||Kt.height==Bn.current.height)?(Bn.current={height:window.innerHeight,width:window.innerWidth},void ln(a.FullScreenMode.Entered)):void(pn===a.FullScreenMode.Exitting&&Pn.current.height===Kt.height&&Pn.current.width===Kt.width&&Kt.height>0&&Kt.width>0&&ln(a.FullScreenMode.Exited))},[pn,Kt,un]),_e.useEffect(function(){var ps;return ps=bs,Ct&&document.addEventListener(Pt.FullScreenChange,ps),function(){(function(Os){Ct&&document.removeEventListener(Pt.FullScreenChange,Os)})(bs)}},[Dn]),{enterFullScreenMode:vs,exitFullScreenMode:ts,fullScreenMode:pn}},Tw={buildPageStyles:function(){return{}},transformSize:function(wt){return wt.size}},Tp={left:0,top:0},kw=function(wt){var Rt=wt.currentFile,Gt=wt.defaultScale,qt=wt.doc,Jt=wt.enableSmoothScroll,nn=wt.initialPage,pn=wt.initialRotation,ln=wt.initialScale,Kt=wt.pageLayout,dn=wt.pageSizes,un=wt.plugins,Mn=wt.renderPage,Pn=wt.scrollMode,Rn=wt.setRenderRange,Bn=wt.viewMode,jn=wt.viewerState,Dn=wt.onDocumentLoad,ks=wt.onOpenFile,cs=wt.onPageChange,hs=wt.onRotate,vs=wt.onRotatePage,ts=wt.onZoom,bs=qt.numPages,ps=qt.loadingTask.docId,Os=_e.useContext(Zt).l10n,Is=_e.useContext(ot),js=Is.direction===a.TextDirection.RightToLeft,Bs=_e.useRef(),zs=_e.useRef(),dr=_e.useState(nn),tr=dr[0],pr=dr[1],or=_e.useRef(null),cr=ww({getCurrentPage:function(){return Ts.current.pageIndex}}),ur=_e.useState(pn),lr=ur[0],Rr=ur[1],Po=Yt(lr),fo=_e.useState(!1),br=fo[0],qr=fo[1],Ko=_e.useState(new Map),gs=Ko[0],ds=Ko[1],ns=_e.useState(Pn),as=ns[0],is=ns[1],xs=Yt(as),As=_e.useState(Bn),os=As[0],Kn=As[1],Cs=Yt(os),Rs=function(In){var ws=Xt(),Ms=_e.useState([]),Vs=Ms[0],Hs=Ms[1];return _e.useEffect(function(){In.getOutline().then(function(Fs){if(ws.current&&Fs!==null){var yr=Vx(Fs);Hs(yr)}})},[]),Vs}(qt),Qs=_e.useState(ln),qs=Qs[0],Sr=Qs[1],Zr=Yt(qs),Ts=_e.useRef(jn),Cr=_e.useRef(typeof Gt=="string"?Gt:null),Zs=_e.useRef(-1),nr=_e.useRef(-1),vr=_e.useRef(nn),Gs=Cw({getCurrentPage:function(){return Ts.current.pageIndex},getCurrentScrollMode:function(){return Ts.current.scrollMode},jumpToPage:function(In){return Zl(In)},targetRef:zs}),Yl=_e.useState(-1),kp=Yl[0],H0=Yl[1],Su=_e.useState(0),Om=Su[0],Iw=Su[1],Jr=Lt({doc:qt});_e.useEffect(function(){return function(){Ln.clear(),fs.clear()}},[ps]);var Kx=_e.useMemo(function(){return Object.assign({},Tw,Kt)},[]),Dw=_e.useMemo(function(){return Array(bs).fill(0).map(function(In,ws){var Ms=[dn[ws].pageHeight,dn[ws].pageWidth],Vs=Math.abs(lr)%180==0?{height:Ms[0],width:Ms[1]}:{height:Ms[1],width:Ms[0]},Hs={height:Vs.height*qs,width:Vs.width*qs};return Kx.transformSize({numPages:bs,pageIndex:ws,size:Hs})})},[lr,qs]),Ks=Aw({enableSmoothScroll:Jt,isRtl:js,numberOfItems:bs,parentRef:zs,scrollMode:as,setRenderRange:Rn,sizes:Dw,viewMode:os}),Nw=Qt(function(){!Cr.current||Ts.current.fullScreenMode!==a.FullScreenMode.Normal||nn>0&&vr.current===nn||Cu(Cr.current)},200);(function(In){var ws=In.targetRef,Ms=In.onResize;ct(function(){var Vs=new ResizeObserver(function(Fs){Fs.forEach(function(yr){Ms(yr.target)})}),Hs=ws.current;if(Hs)return Vs.observe(Hs),function(){Vs.unobserve(Hs)}},[])})({targetRef:zs,onResize:Nw});var Ql=function(In){var ws=In;un.forEach(function(Ms){Ms.onViewerStateChange&&(ws=Ms.onViewerStateChange(ws))}),Ts.current=ws},Ow=function(){return zs.current},jw=function(){return Ts.current},$w=_e.useCallback(function(In){cr.markVisitedDestination(In)},[]),e_=_e.useCallback(function(In){var ws=In.pageIndex,Ms=In.bottomOffset,Vs=In.leftOffset,Hs=In.scaleTo,Fs=zs.current,yr=Ts.current;return Fs&&yr?new Promise(function(Jl,a_){zn(qt,ws).then(function(U0){var _c=U0.getViewport({scale:1}),z0=0,iE=(typeof Ms=="function"?Ms(_c.width,_c.height):Ms)||0,V0=(typeof Vs=="function"?Vs(_c.width,_c.height):Vs)||0,Rp=yr.scale;switch(Hs){case a.SpecialZoomLevel.PageFit:z0=0,V0=0,Cu(a.SpecialZoomLevel.PageFit);break;case a.SpecialZoomLevel.PageWidth:Rp=Yy(Fs,dn[ws].pageHeight,dn[ws].pageWidth,a.SpecialZoomLevel.PageWidth,Bn,bs),z0=(_c.height-iE)*Rp,V0*=Rp,Cu(Rp);break;default:z0=(_c.height-iE)*Rp,V0*=Rp}switch(yr.scrollMode){case a.ScrollMode.Horizontal:Ks.scrollToItem(ws,{left:V0,top:0}).then(function(){Jl()});break;case a.ScrollMode.Vertical:default:Ks.scrollToItem(ws,{left:0,top:z0}).then(function(){Jl()})}})}):Promise.resolve()},[]),Yx=_e.useCallback(function(In){return cr.markVisitedDestination(In),e_(In)},[]),Bw=_e.useCallback(function(){var In=cr.getNextDestination();return In?e_(In):Promise.resolve()},[]),Hw=_e.useCallback(function(){var In=cr.getPreviousDestination();return In?e_(In):Promise.resolve()},[]),Uw=_e.useCallback(function(){return Ks.scrollToNextItem(Ts.current.pageIndex,Tp)},[]),Zl=_e.useCallback(function(In){return 0<=In&&In<bs?Ks.scrollToItem(In,Tp):Promise.resolve()},[]),zw=_e.useCallback(function(){return Ks.scrollToPreviousItem(Ts.current.pageIndex,Tp)},[]),Qx=_e.useCallback(function(In){var ws,Ms;(ws=In.name,Ms=ws.split(/\./).pop(),Ms?Ms.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(Vs){var Hs=new FileReader;Hs.readAsArrayBuffer(In),Hs.onload=function(){var Fs=new Uint8Array(Hs.result);Vs(Fs)}}).then(function(Vs){ks(In.name,Vs)})},[ks]),Zx=_e.useCallback(function(In){var ws=In===a.RotateDirection.Backward?-90:90,Ms=Ts.current.rotation,Vs=Ms===360||Ms===-360?ws:Ms+ws;Jr.markNotRendered(),Rr(Vs),Ql(st(st({},Ts.current),{rotation:Vs})),hs({direction:In,doc:qt,rotation:Vs})},[]),t_=_e.useCallback(function(In,ws){var Ms=ws===a.RotateDirection.Backward?-90:90,Vs=Ts.current.pagesRotation,Hs=(Vs.has(In)?Vs.get(In):pn)+Ms,Fs=Vs.set(In,Hs);ds(Fs),qr(function(yr){return!yr}),Ql(st(st({},Ts.current),{pagesRotation:Fs,rotatedPage:In})),vs({direction:ws,doc:qt,pageIndex:In,rotation:Hs}),Jr.markRendering(In),H0(In)},[]),Jx=_e.useCallback(function(In){Ql(st(st({},Ts.current),{scrollMode:In})),is(In)},[]),eE=_e.useCallback(function(In){Ql(st(st({},Ts.current),{viewMode:In})),Kn(In)},[]),Cu=_e.useCallback(function(In){var ws=zs.current,Ms=Ts.current.pageIndex;if(!(Ms<0||Ms>=bs)){var Vs=dn[Ms].pageHeight,Hs=dn[Ms].pageWidth,Fs=ws?typeof In=="string"?Yy(ws,Vs,Hs,In,Ts.current.viewMode,bs):In:1;Cr.current=typeof In=="string"?In:null,Fs!==Ts.current.scale&&(Iw(function(yr){return yr+1}),Jr.markNotRendered(),Sr(Fs),ts({doc:qt,scale:Fs}),Ql(st(st({},Ts.current),{scale:Fs})))}},[]),Vw=_e.useCallback(function(In){Gs.enterFullScreenMode(In)},[]),Ww=_e.useCallback(function(){Gs.exitFullScreenMode()},[]);_e.useEffect(function(){Ql(st(st({},Ts.current),{fullScreenMode:Gs.fullScreenMode}))},[Gs.fullScreenMode]),_e.useEffect(function(){var In={enterFullScreenMode:Vw,exitFullScreenMode:Ww,getPagesContainer:Ow,getViewerState:jw,jumpToDestination:Yx,jumpToNextDestination:Bw,jumpToPreviousDestination:Hw,jumpToNextPage:Uw,jumpToPreviousPage:zw,jumpToPage:Zl,openFile:Qx,rotate:Zx,rotatePage:t_,setViewerState:Ql,switchScrollMode:Jx,switchViewMode:eE,zoom:Cu};return un.forEach(function(ws){ws.install&&ws.install(In)}),function(){un.forEach(function(ws){ws.uninstall&&ws.uninstall(In)})}},[ps]),_e.useEffect(function(){Dn({doc:qt,file:Rt}),un.forEach(function(In){In.onDocumentLoad&&In.onDocumentLoad({doc:qt,file:Rt})})},[ps]);var n_,i_,s_,tE=Ks.boundingClientRect;n_=function(){nn&&Zl(nn)},i_=tE.height>0&&tE.width>0,s_=_e.useRef(!1),ct(function(){i_&&!s_.current&&(s_.current=!0,n_())},[n_,i_]),ct(function(){var In=Ts.current.pageIndex;In>-1&&xs!==as&&Ks.scrollToItem(In,Tp).then(function(){Gs.fullScreenMode===a.FullScreenMode.EnteredCompletely&&(Jt||Jr.markNotRendered(),Zs.current=-1)})},[as]),ct(function(){var In=Ts.current.pageIndex;In>-1&&Po!==lr&&Ks.scrollToItem(In,Tp)},[lr]),ct(function(){Zr!=0&&Zr!=Ts.current.scale&&Ks.zoom(Ts.current.scale/Zr,Ts.current.pageIndex).then(function(){Gs.fullScreenMode===a.FullScreenMode.EnteredCompletely&&(nr.current=-1)})},[qs]),ct(function(){if(Cs!==Ts.current.viewMode){var In=Ks.startPage,ws=Ks.endPage,Ms=Ks.virtualItems;Jr.markNotRendered(),Jr.setRange(In,ws);for(var Vs=function(Fs){var yr=Ms.find(function(Jl){return Jl.index===Fs});yr&&Jr.setVisibility(Fs,yr.visibility)},Hs=In;Hs<=ws;Hs++)Vs(Hs);r_()}},[os]),ct(function(){var In=Ts.current.pageIndex;In>-1&&Cs!==os&&Ks.scrollToItem(In,Tp)},[os]),ct(function(){var In=Ts.current.pageIndex;In>0&&In===nn&&vr.current===nn&&Cr.current&&(vr.current=-1,Cu(Cr.current))},[tr]),_e.useEffect(function(){Ks.isSmoothScrolling||or.current!==null&&or.current===tr||(or.current=tr,cs({currentPage:tr,doc:qt}))},[tr,Ks.isSmoothScrolling]),_e.useEffect(function(){Gs.fullScreenMode===a.FullScreenMode.Entering&&Ts.current.scrollMode===a.ScrollMode.Page&&(Zs.current=Ts.current.pageIndex),Gs.fullScreenMode===a.FullScreenMode.EnteredCompletely&&Ts.current.scrollMode===a.ScrollMode.Page&&Jt&&(Zs.current=-1),Gs.fullScreenMode===a.FullScreenMode.EnteredCompletely&&Cr.current&&(nr.current=Ts.current.pageIndex,Cu(Cr.current))},[Gs.fullScreenMode]),_e.useEffect(function(){if(Gs.fullScreenMode!==a.FullScreenMode.Entering&&Gs.fullScreenMode!==a.FullScreenMode.Exitting&&!Ks.isSmoothScrolling){var In=Ks.startPage,ws=Ks.endPage,Ms=Ks.maxVisbilityIndex,Vs=Ks.virtualItems,Hs=Ms,Fs=Gs.fullScreenMode===a.FullScreenMode.Entered||Gs.fullScreenMode===a.FullScreenMode.EnteredCompletely;if(!(Fs&&Hs!==Zs.current&&Zs.current>-1||Fs&&Hs!==nr.current&&nr.current>-1)){pr(Hs),Ql(st(st({},Ts.current),{pageIndex:Hs})),Jr.setRange(In,ws);for(var yr=function(a_){var U0=Vs.find(function(_c){return _c.index===a_});U0&&Jr.setVisibility(a_,U0.visibility)},Jl=In;Jl<=ws;Jl++)yr(Jl);r_()}}},[Ks.startPage,Ks.endPage,Ks.isSmoothScrolling,Ks.maxVisbilityIndex,Gs.fullScreenMode,br,lr,qs]);var Gw=_e.useCallback(function(In){Jr.markRendered(In),r_()},[Om]),r_=function(){var In=Jr.getHighestPriorityPage();In>-1&&Jr.isInRange(In)&&(Jr.markRendering(In),H0(In))},Xw=function(In){var ws=tr-1,Ms=tr+1;switch(In){case"FirstPage":Zl(0);break;case"LastPage":Zl(bs-1);break;case"NextPage":Ms<bs&&Zl(Ms);break;case"PrevPage":ws>=0&&Zl(ws)}},qw=_e.useCallback(function(){var In=Ks.virtualItems,ws=[];switch(os){case a.ViewMode.DualPage:ws=sn(In,2);break;case a.ViewMode.DualPageWithCover:In.length&&(ws=In[0].index===0?[[In[0]]].concat(sn(In.slice(1),2)):sn(In,2));break;case a.ViewMode.SinglePage:default:ws=sn(In,1)}var Ms=Os&&Os.core?Os.core.pageLabel:"Page {{pageIndex}}",Vs={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:Bs,style:{height:"100%"}},children:_e.createElement(_e.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:ut({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":as===a.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":js,"rpv-core__inner-pages--single":as===a.ScrollMode.Page,"rpv-core__inner-pages--vertical":as===a.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":as===a.ScrollMode.Wrapped}),ref:zs,style:{height:"100%",position:"relative"}},children:_e.createElement("div",{"data-testid":"core__inner-current-page-".concat(tr),style:Object.assign({"--scale-factor":qs},Ks.getContainerStyles())},ws.map(function(Hs){return _e.createElement("div",{className:ut({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":as===a.ScrollMode.Page}),style:Ks.getItemContainerStyles(Hs[0]),key:"".concat(Hs[0].index,"-").concat(os)},Hs.map(function(Fs){var yr=os===a.ViewMode.DualPageWithCover&&(Fs.index===0||bs%2==0&&Fs.index===bs-1);return _e.createElement("div",{"aria-label":Ms.replace("{{pageIndex}}","".concat(Fs.index+1)),className:ut({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":os===a.ViewMode.DualPage&&Fs.index%2==0,"rpv-core__inner-page--dual-odd":os===a.ViewMode.DualPage&&Fs.index%2==1,"rpv-core__inner-page--dual-cover":yr,"rpv-core__inner-page--dual-cover-even":os===a.ViewMode.DualPageWithCover&&!yr&&Fs.index%2==0,"rpv-core__inner-page--dual-cover-odd":os===a.ViewMode.DualPageWithCover&&!yr&&Fs.index%2==1,"rpv-core__inner-page--single":os===a.ViewMode.SinglePage&&as===a.ScrollMode.Page}),role:"region",key:"".concat(Fs.index,"-").concat(os),style:Object.assign({},Ks.getItemStyles(Fs),Kx.buildPageStyles({numPages:bs,pageIndex:Fs.index,scrollMode:as,viewMode:os}))},_e.createElement(fw,{doc:qt,measureRef:Fs.measureRef,outlines:Rs,pageIndex:Fs.index,pageRotation:gs.has(Fs.index)?gs.get(Fs.index):0,pageSize:dn[Fs.index],plugins:un,renderPage:Mn,renderQueueKey:Om,rotation:lr,scale:qs,shouldRender:kp===Fs.index,viewMode:os,onExecuteNamedAction:Xw,onJumpFromLinkAnnotation:$w,onJumpToDest:Yx,onRenderCompleted:Gw,onRotatePage:t_}))}))}))}};return un.forEach(function(Hs){Hs.renderViewer&&(Vs=Hs.renderViewer({containerRef:Bs,doc:qt,pagesContainerRef:zs,pagesRotation:gs,pageSizes:dn,rotation:lr,slot:Vs,themeContext:Is,jumpToPage:Zl,openFile:Qx,rotate:Zx,rotatePage:t_,switchScrollMode:Jx,switchViewMode:eE,zoom:Cu}))}),Vs},[un,Ks]),nE=_e.useCallback(function(In){return _e.createElement("div",st({},In.attrs,{style:In.attrs&&In.attrs.style?In.attrs.style:{}}),In.children,In.subSlot&&nE(In.subSlot))},[]);return nE(qw())},Gx=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Rw=function(wt){var Rt=wt.defaultScale,Gt=wt.doc,qt=wt.render,Jt=wt.scrollMode,nn=wt.viewMode,pn=_e.useRef(),ln=_e.useState({pageSizes:[],scale:0}),Kt=ln[0],dn=ln[1];return _e.useLayoutEffect(function(){var un=Array(Gt.numPages).fill(0).map(function(Mn,Pn){return new Promise(function(Rn,Bn){zn(Gt,Pn).then(function(jn){var Dn=jn.getViewport({scale:1});Rn({pageHeight:Dn.height,pageWidth:Dn.width,rotation:Dn.rotation})})})});Promise.all(un).then(function(Mn){var Pn=pn.current;if(Pn&&Mn.length!==0){var Rn=Mn[0].pageWidth,Bn=Mn[0].pageHeight,jn=Pn.parentElement,Dn=(jn.clientWidth-45)/Rn,ks=(jn.clientHeight-45)/Bn,cs=Dn;switch(Jt){case a.ScrollMode.Horizontal:cs=Math.min(Dn,ks);break;case a.ScrollMode.Vertical:default:cs=Dn}var hs,vs,ts=Rt?typeof Rt=="string"?Yy(jn,Bn,Rn,Rt,nn,Gt.numPages):Rt:(hs=cs,(vs=Gx.findIndex(function(bs){return bs>=hs}))===-1||vs===0?hs:Gx[vs-1]);dn({pageSizes:Mn,scale:ts})}})},[Gt.loadingTask.docId]),Kt.pageSizes.length===0||Kt.scale===0?_e.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:pn},_e.createElement(pt,null)):qt(Kt.pageSizes,Kt.scale)},B0=function(){},Zy=function(wt){function Rt(Gt,qt){var Jt=wt.call(this)||this;return Jt.verifyPassword=Gt,Jt.passwordStatus=qt,Jt}return it(Rt,wt),Rt}(B0),Pw=function(wt){var Rt=wt.passwordStatus,Gt=wt.renderProtectedView,qt=wt.verifyPassword,Jt=wt.onDocumentAskPassword,nn=_e.useContext(Zt).l10n,pn=_e.useState(""),ln=pn[0],Kt=pn[1],dn=_e.useContext(ot).direction===a.TextDirection.RightToLeft,un=function(){return qt(ln)};return _e.useEffect(function(){Jt&&Jt({verifyPassword:qt})},[]),Gt?Gt({passwordStatus:Rt,verifyPassword:qt}):_e.createElement("div",{className:"rpv-core__asking-password-wrapper"},_e.createElement("div",{className:ut({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":dn})},_e.createElement("div",{className:"rpv-core__asking-password-message"},Rt===a.PasswordStatus.RequiredPassword&&nn.core.askingPassword.requirePasswordToOpen,Rt===a.PasswordStatus.WrongPassword&&nn.core.wrongPassword.tryAgain),_e.createElement("div",{className:"rpv-core__asking-password-body"},_e.createElement("div",{className:ut({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!dn,"rpv-core__asking-password-input--rtl":dn})},_e.createElement(vt,{testId:"core__asking-password-input",type:"password",value:ln,onChange:Kt,onKeyDown:function(Mn){Mn.key==="Enter"&&un()}})),_e.createElement(ht,{onClick:un},nn.core.askingPassword.submit))))},Xx=function(wt){function Rt(Gt){var qt=wt.call(this)||this;return qt.doc=Gt,qt}return it(Rt,wt),Rt}(B0),qx=function(wt){function Rt(Gt){var qt=wt.call(this)||this;return qt.error=Gt,qt}return it(Rt,wt),Rt}(B0),Jy=function(wt){function Rt(Gt){var qt=wt.call(this)||this;return qt.percentages=Gt,qt}return it(Rt,wt),Rt}(B0),Mw=function(wt){var Rt=wt.characterMap,Gt=wt.file,qt=wt.httpHeaders,Jt=wt.render,nn=wt.renderError,pn=wt.renderLoader,ln=wt.renderProtectedView,Kt=wt.transformGetDocumentParams,dn=wt.withCredentials,un=wt.onDocumentAskPassword,Mn=_e.useContext(ot).direction===a.TextDirection.RightToLeft,Pn=_e.useState(new Jy(0)),Rn=Pn[0],Bn=Pn[1],jn=_e.useRef(""),Dn=Xt();return _e.useEffect(function(){jn.current="",Bn(new Jy(0));var ks=new et.PDFWorker({name:"PDFWorker_".concat(Date.now())}),cs=Object.assign({httpHeaders:qt,withCredentials:dn,worker:ks},typeof Gt=="string"?{url:Gt}:{data:Gt},Rt?{cMapUrl:Rt.url,cMapPacked:Rt.isCompressed}:{}),hs=Kt?Kt(cs):cs,vs=et.getDocument(hs);return vs.onPassword=function(ts,bs){switch(bs){case et.PasswordResponses.NEED_PASSWORD:Dn.current&&Bn(new Zy(ts,a.PasswordStatus.RequiredPassword));break;case et.PasswordResponses.INCORRECT_PASSWORD:Dn.current&&Bn(new Zy(ts,a.PasswordStatus.WrongPassword))}},vs.onProgress=function(ts){var bs=ts.total>0?Math.min(100,100*ts.loaded/ts.total):100;Dn.current&&jn.current===""&&Bn(new Jy(bs))},vs.promise.then(function(ts){jn.current=ts.loadingTask.docId,Dn.current&&Bn(new Xx(ts))},function(ts){return Dn.current&&!ks.destroyed&&Bn(new qx({message:ts.message||"Cannot load document",name:ts.name}))}),function(){vs.destroy(),ks.destroy()}},[Gt]),Rn instanceof Zy?_e.createElement(Pw,{passwordStatus:Rn.passwordStatus,renderProtectedView:ln,verifyPassword:Rn.verifyPassword,onDocumentAskPassword:un}):Rn instanceof Xx?Jt(Rn.doc):Rn instanceof qx?nn?nn(Rn.error):_e.createElement("div",{className:ut({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":Mn})},_e.createElement("div",{className:"rpv-core__doc-error-text"},Rn.error.message)):_e.createElement("div",{"data-testid":"core__doc-loading",className:ut({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":Mn})},pn?pn(Rn.percentages):_e.createElement(pt,null))},Fw=function(wt,Rt){var Gt=_e.useMemo(function(){return wt==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":wt},[]),qt=_e.useState(Gt),Jt=qt[0],nn=qt[1],pn=Yt(Jt);return _e.useEffect(function(){if(wt==="auto"){var ln=window.matchMedia("(prefers-color-scheme: dark)"),Kt=function(dn){nn(dn.matches?"dark":"light")};return ln.addEventListener("change",Kt),function(){return ln.removeEventListener("change",Kt)}}},[]),_e.useEffect(function(){Jt!==pn&&Rt&&Rt(Jt)},[Jt]),_e.useEffect(function(){wt!==Jt&&nn(wt)},[wt]),{currentTheme:Jt,setCurrentTheme:nn}},Lw=function(wt){return{startPage:wt.startPage-3,endPage:wt.endPage+3}};a.Button=function(wt){var Rt=wt.children,Gt=wt.testId,qt=wt.onClick,Jt=_e.useContext(ot).direction===a.TextDirection.RightToLeft,nn=Gt?{"data-testid":Gt}:{};return _e.createElement("button",st({className:ut({"rpv-core__button":!0,"rpv-core__button--rtl":Jt}),type:"button",onClick:qt},nn),Rt)},a.Icon=ft,a.LazyRender=function(wt){var Rt=wt.attrs,Gt=wt.children,qt=wt.testId,Jt=_e.useState(!1),nn=Jt[0],pn=Jt[1],ln=qt?st(st({},Rt),{"data-testid":qt}):Rt,Kt=dt({once:!0,onVisibilityChanged:function(dn){dn.isVisible&&pn(!0)}});return _e.createElement("div",st({ref:Kt},ln),nn&&Gt)},a.LocalizationContext=Zt,a.Menu=function(wt){var Rt=wt.children,Gt=_e.useRef(),qt=_e.useRef([]),Jt=_e.useContext(ot).direction===a.TextDirection.RightToLeft,nn=function(ln){if(Gt.current)switch(ln.key){case"Tab":ln.preventDefault();break;case"ArrowDown":ln.preventDefault(),pn(function(Kt,dn){return dn+1});break;case"ArrowUp":ln.preventDefault(),pn(function(Kt,dn){return dn-1});break;case"End":ln.preventDefault(),pn(function(Kt,dn){return Kt.length-1});break;case"Home":ln.preventDefault(),pn(function(Kt,dn){return 0})}},pn=function(ln){if(Gt.current){var Kt=qt.current,dn=Kt.findIndex(function(Mn){return Mn.getAttribute("tabindex")==="0"}),un=Math.min(Kt.length-1,Math.max(0,ln(Kt,dn)));dn>=0&&dn<=Kt.length-1&&Kt[dn].setAttribute("tabindex","-1"),Kt[un].setAttribute("tabindex","0"),Kt[un].focus()}};return ct(function(){var ln=Gt.current;if(ln){var Kt=function(dn){var un=[];return dn.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(Mn){if(Mn instanceof HTMLElement){var Pn=Mn.parentElement;(Pn===dn||window.getComputedStyle(Pn).display!=="none")&&un.push(Mn)}}),un}(ln);qt.current=Kt}},[]),ct(function(){return document.addEventListener("keydown",nn),function(){document.removeEventListener("keydown",nn)}},[]),_e.createElement("div",{ref:Gt,"aria-orientation":"vertical",className:ut({"rpv-core__menu":!0,"rpv-core__menu--rtl":Jt}),role:"menu",tabIndex:0},Rt)},a.MenuDivider=function(){return _e.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},a.MenuItem=function(wt){var Rt=wt.checked,Gt=Rt!==void 0&&Rt,qt=wt.children,Jt=wt.icon,nn=Jt===void 0?null:Jt,pn=wt.isDisabled,ln=pn!==void 0&&pn,Kt=wt.testId,dn=wt.onClick,un=_e.useContext(ot).direction===a.TextDirection.RightToLeft,Mn=Kt?{"data-testid":Kt}:{};return _e.createElement("button",st({className:ut({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":ln,"rpv-core__menu-item--ltr":!un,"rpv-core__menu-item--rtl":un}),role:"menuitem",tabIndex:-1,type:"button",onClick:dn},Mn),_e.createElement("div",{className:ut({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!un,"rpv-core__menu-item-icon--rtl":un})},nn),_e.createElement("div",{className:ut({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!un,"rpv-core__menu-item-label--rtl":un})},qt),_e.createElement("div",{className:ut({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!un,"rpv-core__menu-item-check--rtl":un})},Gt&&_e.createElement(lt,null)))},a.MinimalButton=function(wt){var Rt=wt.ariaLabel,Gt=Rt===void 0?"":Rt,qt=wt.ariaKeyShortcuts,Jt=qt===void 0?"":qt,nn=wt.children,pn=wt.isDisabled,ln=pn!==void 0&&pn,Kt=wt.isSelected,dn=Kt!==void 0&&Kt,un=wt.testId,Mn=wt.onClick,Pn=_e.useContext(ot).direction===a.TextDirection.RightToLeft,Rn=un?{"data-testid":un}:{};return _e.createElement("button",st({"aria-label":Gt},Jt&&{"aria-keyshortcuts":Jt},ln&&{"aria-disabled":!0},{className:ut({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":ln,"rpv-core__minimal-button--rtl":Pn,"rpv-core__minimal-button--selected":dn}),type:"button",onClick:Mn},Rn),nn)},a.Modal=function(wt){var Rt=wt.ariaControlsSuffix,Gt=wt.closeOnClickOutside,qt=wt.closeOnEscape,Jt=wt.content,nn=wt.isOpened,pn=nn!==void 0&&nn,ln=wt.target,Kt=Rt||"".concat(Et());return _e.createElement(gn,{target:ln?function(dn,un){return _e.createElement("div",{"aria-expanded":un?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(Kt)},ln(dn,un))}:null,content:function(dn){return _e.createElement(Nt,null,_e.createElement(jt,{ariaControlsSuffix:Kt,closeOnClickOutside:Gt,closeOnEscape:qt,onToggle:dn},Jt(dn)))},isOpened:pn})},a.Popover=function(wt){var Rt=wt.ariaHasPopup,Gt=Rt===void 0?"dialog":Rt,qt=wt.ariaControlsSuffix,Jt=wt.closeOnClickOutside,nn=wt.closeOnEscape,pn=wt.content,ln=wt.lockScroll,Kt=ln===void 0||ln,dn=wt.offset,un=wt.position,Mn=wt.target,Pn=tn(!1),Rn=Pn.opened,Bn=Pn.toggle,jn=_e.useRef(),Dn=_e.useMemo(function(){return qt||"".concat(Et())},[]);return _e.createElement("div",{ref:jn,"aria-expanded":Rn?"true":"false","aria-haspopup":Gt,"aria-controls":"rpv-core__popver-body-".concat(Dn)},Mn(Bn,Rn),Rn&&_e.createElement(_e.Fragment,null,Kt&&_e.createElement(xn,{closeOnEscape:nn,onClose:Bn}),_e.createElement(fn,{ariaControlsSuffix:Dn,closeOnClickOutside:Jt,offset:dn,position:un,targetRef:jn,onClose:Bn},pn(Bn))))},a.PrimaryButton=ht,a.ProgressBar=function(wt){var Rt=wt.progress,Gt=_e.useContext(ot).direction===a.TextDirection.RightToLeft;return _e.createElement("div",{className:ut({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":Gt})},_e.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(Rt,"%")}},Rt,"%"))},a.Separator=function(){return _e.createElement("div",{className:"rpv-core__separator"})},a.Spinner=pt,a.Splitter=function(wt){var Rt=wt.constrain,Gt=_e.useContext(ot).direction===a.TextDirection.RightToLeft,qt=_e.useRef(),Jt=_e.useRef(),nn=_e.useRef(),pn=_e.useRef(0),ln=_e.useRef(0),Kt=_e.useRef(0),dn=_e.useRef(0),un={capture:!0},Mn=function(Rn){var Bn=qt.current,jn=Jt.current,Dn=nn.current;if(Bn&&jn&&Dn){var ks=dn.current,cs=Rn.clientX-pn.current,hs=Kt.current+(Gt?-cs:cs),vs=Bn.parentElement.getBoundingClientRect().width,ts=100*hs/vs;if(Bn.classList.add("rpv-core__splitter--resizing"),Rt){var bs=vs-hs-ks;if(!Rt({firstHalfPercentage:ts,firstHalfSize:hs,secondHalfPercentage:100*bs/vs,secondHalfSize:bs}))return}jn.style.width="".concat(ts,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),jn.classList.add("rpv-core__splitter-sibling--resizing"),Dn.classList.add("rpv-core__splitter-sibling--resizing")}},Pn=function(Rn){var Bn=qt.current,jn=Jt.current,Dn=nn.current;Bn&&jn&&Dn&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),Bn.classList.remove("rpv-core__splitter--resizing"),jn.classList.remove("rpv-core__splitter-sibling--resizing"),Dn.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",Mn,un),document.removeEventListener("mouseup",Pn,un))};return _e.useEffect(function(){var Rn=qt.current;Rn&&(dn.current=Rn.getBoundingClientRect().width,Jt.current=Rn.previousElementSibling,nn.current=Rn.nextElementSibling)},[]),_e.createElement("div",{ref:qt,className:"rpv-core__splitter",onMouseDown:function(Rn){var Bn=Jt.current;Bn&&(pn.current=Rn.clientX,ln.current=Rn.clientY,Kt.current=Bn.getBoundingClientRect().width,document.addEventListener("mousemove",Mn,un),document.addEventListener("mouseup",Pn,un))}})},a.TextBox=vt,a.ThemeContext=ot,a.Tooltip=function(wt){var Rt=wt.ariaControlsSuffix,Gt=wt.content,qt=wt.offset,Jt=wt.position,nn=wt.target,pn=tn(!1),ln=pn.opened,Kt=pn.toggle,dn=_e.useRef(),un=_e.useRef(),Mn=_e.useMemo(function(){return Rt||"".concat(Et())},[]);kt(function(){dn.current&&document.activeElement&&dn.current.contains(document.activeElement)&&Rn()});var Pn=function(){Kt(a.ToggleStatus.Open)},Rn=function(){Kt(a.ToggleStatus.Close)};return _e.createElement(_e.Fragment,null,_e.createElement("div",{ref:dn,"aria-describedby":"rpv-core__tooltip-body-".concat(Mn),onBlur:function(Bn){Bn.relatedTarget instanceof HTMLElement&&Bn.currentTarget.parentElement&&Bn.currentTarget.parentElement.contains(Bn.relatedTarget)?un.current&&(un.current.style.display="none"):Rn()},onFocus:Pn,onMouseEnter:Pn,onMouseLeave:Rn},nn),ln&&_e.createElement(kn,{ariaControlsSuffix:Mn,contentRef:un,offset:qt,position:Jt,targetRef:dn},Gt()))},a.Viewer=function(wt){var Rt=wt.characterMap,Gt=wt.defaultScale,qt=wt.enableSmoothScroll,Jt=qt===void 0||qt,nn=wt.fileUrl,pn=wt.httpHeaders,ln=pn===void 0?{}:pn,Kt=wt.initialPage,dn=Kt===void 0?0:Kt,un=wt.pageLayout,Mn=wt.initialRotation,Pn=Mn===void 0?0:Mn,Rn=wt.localization,Bn=wt.plugins,jn=Bn===void 0?[]:Bn,Dn=wt.renderError,ks=wt.renderLoader,cs=wt.renderPage,hs=wt.renderProtectedView,vs=wt.scrollMode,ts=vs===void 0?a.ScrollMode.Vertical:vs,bs=wt.setRenderRange,ps=bs===void 0?Lw:bs,Os=wt.transformGetDocumentParams,Is=wt.theme,js=Is===void 0?{direction:a.TextDirection.LeftToRight,theme:"light"}:Is,Bs=wt.viewMode,zs=Bs===void 0?a.ViewMode.SinglePage:Bs,dr=wt.withCredentials,tr=dr!==void 0&&dr,pr=wt.onDocumentAskPassword,or=wt.onDocumentLoad,cr=or===void 0?function(){}:or,ur=wt.onPageChange,lr=ur===void 0?function(){}:ur,Rr=wt.onRotate,Po=Rr===void 0?function(){}:Rr,fo=wt.onRotatePage,br=fo===void 0?function(){}:fo,qr=wt.onSwitchTheme,Ko=qr===void 0?function(){}:qr,gs=wt.onZoom,ds=gs===void 0?function(){}:gs,ns=_e.useState({data:nn,name:typeof nn=="string"?nn:"",shouldLoad:!1}),as=ns[0],is=ns[1],xs=function(Zs,nr){is({data:nr,name:Zs,shouldLoad:!0})},As=_e.useState(!1),os=As[0],Kn=As[1],Cs=Yt(as);_e.useEffect(function(){var Zs,nr,vr,Gs;Zs=Cs.data,Gs=typeof(nr=nn),(vr=typeof Zs)=="string"&&Gs==="string"&&Zs===nr||vr==="object"&&Gs==="object"&&Zs.length===nr.length&&Zs.every(function(Yl,kp){return Yl===nr[kp]})||is({data:nn,name:typeof nn=="string"?nn:"",shouldLoad:os})},[nn,os]);var Rs=dt({onVisibilityChanged:function(Zs){Kn(Zs.isVisible),Zs.isVisible&&is(function(nr){return Object.assign({},nr,{shouldLoad:!0})})}}),Qs=typeof js=="string"?{direction:a.TextDirection.LeftToRight,theme:js}:js,qs=_e.useState(Rn||zt),Sr=qs[0],Zr=qs[1],Ts={l10n:Sr,setL10n:Zr},Cr=Object.assign({},{direction:Qs.direction},Fw(Qs.theme||"light",Ko));return _e.useEffect(function(){Rn&&Zr(Rn)},[Rn]),_e.createElement(Zt.Provider,{value:Ts},_e.createElement(ot.Provider,{value:Cr},_e.createElement("div",{ref:Rs,className:"rpv-core__viewer rpv-core__viewer--".concat(Cr.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},as.shouldLoad&&_e.createElement(Mw,{characterMap:Rt,file:as.data,httpHeaders:ln,render:function(Zs){return _e.createElement(Rw,{defaultScale:Gt,doc:Zs,render:function(nr,vr){return _e.createElement(kw,{currentFile:{data:as.data,name:as.name},defaultScale:Gt,doc:Zs,enableSmoothScroll:Jt,initialPage:dn,initialRotation:Pn,initialScale:vr,pageLayout:un,pageSizes:nr,plugins:jn,renderPage:cs,scrollMode:ts,setRenderRange:ps,viewMode:zs,viewerState:{file:as,fullScreenMode:a.FullScreenMode.Normal,pageIndex:-1,pageHeight:nr[0].pageHeight,pageWidth:nr[0].pageWidth,pagesRotation:new Map,rotation:Pn,scale:vr,scrollMode:ts,viewMode:zs},onDocumentLoad:cr,onOpenFile:xs,onPageChange:lr,onRotate:Po,onRotatePage:br,onZoom:ds})},scrollMode:ts,viewMode:zs})},renderError:Dn,renderLoader:ks,renderProtectedView:hs,transformGetDocumentParams:Os,withCredentials:tr,onDocumentAskPassword:pr}))))},a.Worker=function(wt){var Rt=wt.children,Gt=wt.workerUrl;return et.GlobalWorkerOptions.workerSrc=Gt,_e.createElement(_e.Fragment,null,Rt)},a.chunk=sn,a.classNames=ut,a.createStore=function(wt){var Rt=wt||{},Gt={},qt=function(nn,pn){var ln;Rt=st(st({},Rt),((ln={})[nn]=pn,ln)),(Gt[nn]||[]).forEach(function(Kt){return Kt(Rt[nn])})},Jt=function(nn){return Rt[nn]};return{subscribe:function(nn,pn){Gt[nn]=(Gt[nn]||[]).concat(pn)},unsubscribe:function(nn,pn){Gt[nn]=(Gt[nn]||[]).filter(function(ln){return ln!==pn})},update:function(nn,pn){qt(nn,pn)},updateCurrentValue:function(nn,pn){var ln=Jt(nn);ln!==void 0&&qt(nn,pn(ln))},get:function(nn){return Jt(nn)}}},a.getDestination=_i,a.getPage=zn,a.isFullScreenEnabled=St,a.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},a.useDebounceCallback=Qt,a.useIntersectionObserver=dt,a.useIsMounted=Xt,a.useIsomorphicLayoutEffect=ct,a.usePrevious=Yt,a.useRenderQueue=Lt})(core_min);const SISTNApplicationForm="/assets/SISTN%20Membership-Application%20Form-Final%202024-D-I5Ggpr.pdf",scriptRel="modulepreload",assetsURL=function(a){return"/"+a},seen={},__vitePreload=function a(i,s,o){let j=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const et=document.querySelector("meta[property=csp-nonce]"),nt=(et==null?void 0:et.nonce)||(et==null?void 0:et.getAttribute("nonce"));j=Promise.allSettled(s.map(it=>{if(it=assetsURL(it),it in seen)return;seen[it]=!0;const rt=it.endsWith(".css"),st=rt?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${it}"]${st}`))return;const at=document.createElement("link");if(at.rel=rt?"stylesheet":scriptRel,rt||(at.as="script"),at.crossOrigin="",at.href=it,nt&&at.setAttribute("nonce",nt),document.head.appendChild(at),rt)return new Promise((ot,ut)=>{at.addEventListener("load",ot),at.addEventListener("error",()=>ut(new Error(`Unable to preload CSS for ${it}`)))})}))}function _e(et){const nt=new Event("vite:preloadError",{cancelable:!0});if(nt.payload=et,window.dispatchEvent(nt),!nt.defaultPrevented)throw et}return j.then(et=>{for(const nt of et||[])nt.status==="rejected"&&_e(nt.reason);return i().catch(_e)})};var __webpack_require__={};__webpack_require__.d=(a,i)=>{for(var s in i)__webpack_require__.o(i,s)&&!__webpack_require__.o(a,s)&&Object.defineProperty(a,s,{enumerable:!0,get:i[s]})};__webpack_require__.o=(a,i)=>Object.prototype.hasOwnProperty.call(a,i);var __webpack_exports__=globalThis.pdfjsLib={};__webpack_require__.d(__webpack_exports__,{AbortException:()=>AbortException,AnnotationEditorLayer:()=>AnnotationEditorLayer,AnnotationEditorParamsType:()=>AnnotationEditorParamsType,AnnotationEditorType:()=>AnnotationEditorType,AnnotationEditorUIManager:()=>AnnotationEditorUIManager,AnnotationLayer:()=>AnnotationLayer,AnnotationMode:()=>AnnotationMode,CMapCompressionType:()=>CMapCompressionType,ColorPicker:()=>ColorPicker,DOMSVGFactory:()=>DOMSVGFactory,DrawLayer:()=>DrawLayer,FeatureTest:()=>util_FeatureTest,GlobalWorkerOptions:()=>GlobalWorkerOptions,ImageKind:()=>util_ImageKind,InvalidPDFException:()=>InvalidPDFException,MissingPDFException:()=>MissingPDFException,OPS:()=>OPS,Outliner:()=>Outliner,PDFDataRangeTransport:()=>PDFDataRangeTransport$1,PDFDateString:()=>PDFDateString,PDFWorker:()=>PDFWorker,PasswordResponses:()=>PasswordResponses$1,PermissionFlag:()=>PermissionFlag,PixelsPerInch:()=>PixelsPerInch,RenderingCancelledException:()=>RenderingCancelledException,TextLayer:()=>TextLayer,UnexpectedResponseException:()=>UnexpectedResponseException,Util:()=>Util,VerbosityLevel:()=>VerbosityLevel,XfaLayer:()=>XfaLayer,build:()=>build,createValidAbsoluteUrl:()=>createValidAbsoluteUrl,fetchData:()=>fetchData,getDocument:()=>getDocument,getFilenameFromUrl:()=>getFilenameFromUrl,getPdfFilenameFromUrl:()=>getPdfFilenameFromUrl,getXfaPageViewport:()=>getXfaPageViewport,isDataScheme:()=>isDataScheme,isPdfFile:()=>isPdfFile,noContextMenu:()=>noContextMenu,normalizeUnicode:()=>normalizeUnicode,renderTextLayer:()=>renderTextLayer,setLayerDimensions:()=>setLayerDimensions,shadow:()=>shadow,updateTextLayer:()=>updateTextLayer,version:()=>version});const isNodeJS=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),IDENTITY_MATRIX=[1,0,0,1,0,0],FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],MAX_IMAGE_SIZE_TO_CACHE=1e7,LINE_FACTOR=1.35,RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},AnnotationEditorPrefix="pdfjs_internal_editor_",AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},AnnotationEditorParamsType={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},util_ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},VerbosityLevel={ERRORS:0,WARNINGS:1,INFOS:5},CMapCompressionType={NONE:0,BINARY:1},OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},PasswordResponses$1={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let verbosity=VerbosityLevel.WARNINGS;function setVerbosityLevel(a){Number.isInteger(a)&&(verbosity=a)}function getVerbosityLevel(){return verbosity}function info(a){verbosity>=VerbosityLevel.INFOS&&console.log(`Info: ${a}`)}function warn(a){verbosity>=VerbosityLevel.WARNINGS&&console.log(`Warning: ${a}`)}function unreachable(a){throw new Error(a)}function assert(a,i){a||unreachable(i)}function _isValidProtocol(a){switch(a==null?void 0:a.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function createValidAbsoluteUrl(a,i=null,s=null){if(!a)return null;try{if(s&&typeof a=="string"){if(s.addDefaultProtocol&&a.startsWith("www.")){const j=a.match(/\./g);(j==null?void 0:j.length)>=2&&(a=`http://${a}`)}if(s.tryConvertEncoding)try{a=stringToUTF8String(a)}catch{}}const o=i?new URL(a,i):new URL(a);if(_isValidProtocol(o))return o}catch{}return null}function shadow(a,i,s,o=!1){return Object.defineProperty(a,i,{value:s,enumerable:!o,configurable:!0,writable:!1}),s}const BaseException=function a(){function i(s,o){this.constructor===i&&unreachable("Cannot initialize BaseException."),this.message=s,this.name=o}return i.prototype=new Error,i.constructor=i,i}();class PasswordException extends BaseException{constructor(i,s){super(i,"PasswordException"),this.code=s}}class UnknownErrorException extends BaseException{constructor(i,s){super(i,"UnknownErrorException"),this.details=s}}class InvalidPDFException extends BaseException{constructor(i){super(i,"InvalidPDFException")}}class MissingPDFException extends BaseException{constructor(i){super(i,"MissingPDFException")}}class UnexpectedResponseException extends BaseException{constructor(i,s){super(i,"UnexpectedResponseException"),this.status=s}}class FormatError extends BaseException{constructor(i){super(i,"FormatError")}}class AbortException extends BaseException{constructor(i){super(i,"AbortException")}}function bytesToString(a){(typeof a!="object"||(a==null?void 0:a.length)===void 0)&&unreachable("Invalid argument for bytesToString");const i=a.length,s=8192;if(i<s)return String.fromCharCode.apply(null,a);const o=[];for(let j=0;j<i;j+=s){const _e=Math.min(j+s,i),et=a.subarray(j,_e);o.push(String.fromCharCode.apply(null,et))}return o.join("")}function stringToBytes(a){typeof a!="string"&&unreachable("Invalid argument for stringToBytes");const i=a.length,s=new Uint8Array(i);for(let o=0;o<i;++o)s[o]=a.charCodeAt(o)&255;return s}function string32(a){return String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255)}function objectFromMap(a){const i=Object.create(null);for(const[s,o]of a)i[s]=o;return i}function isLittleEndian(){const a=new Uint8Array(4);return a[0]=1,new Uint32Array(a.buffer,0,1)[0]===1}function isEvalSupported(){try{return new Function(""),!0}catch{return!1}}class util_FeatureTest{static get isLittleEndian(){return shadow(this,"isLittleEndian",isLittleEndian())}static get isEvalSupported(){return shadow(this,"isEvalSupported",isEvalSupported())}static get isOffscreenCanvasSupported(){return shadow(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?shadow(this,"platform",{isMac:navigator.platform.includes("Mac")}):shadow(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var i,s;return shadow(this,"isCSSRoundSupported",(s=(i=globalThis.CSS)==null?void 0:i.supports)==null?void 0:s.call(i,"width: round(1.5px, 1px)"))}}const hexNumbers=Array.from(Array(256).keys(),a=>a.toString(16).padStart(2,"0"));var Wl,ry,U_;class Util{static makeHexColor(i,s,o){return`#${hexNumbers[i]}${hexNumbers[s]}${hexNumbers[o]}`}static scaleMinMax(i,s){let o;i[0]?(i[0]<0&&(o=s[0],s[0]=s[2],s[2]=o),s[0]*=i[0],s[2]*=i[0],i[3]<0&&(o=s[1],s[1]=s[3],s[3]=o),s[1]*=i[3],s[3]*=i[3]):(o=s[0],s[0]=s[1],s[1]=o,o=s[2],s[2]=s[3],s[3]=o,i[1]<0&&(o=s[1],s[1]=s[3],s[3]=o),s[1]*=i[1],s[3]*=i[1],i[2]<0&&(o=s[0],s[0]=s[2],s[2]=o),s[0]*=i[2],s[2]*=i[2]),s[0]+=i[4],s[1]+=i[5],s[2]+=i[4],s[3]+=i[5]}static transform(i,s){return[i[0]*s[0]+i[2]*s[1],i[1]*s[0]+i[3]*s[1],i[0]*s[2]+i[2]*s[3],i[1]*s[2]+i[3]*s[3],i[0]*s[4]+i[2]*s[5]+i[4],i[1]*s[4]+i[3]*s[5]+i[5]]}static applyTransform(i,s){const o=i[0]*s[0]+i[1]*s[2]+s[4],j=i[0]*s[1]+i[1]*s[3]+s[5];return[o,j]}static applyInverseTransform(i,s){const o=s[0]*s[3]-s[1]*s[2],j=(i[0]*s[3]-i[1]*s[2]+s[2]*s[5]-s[4]*s[3])/o,_e=(-i[0]*s[1]+i[1]*s[0]+s[4]*s[1]-s[5]*s[0])/o;return[j,_e]}static getAxialAlignedBoundingBox(i,s){const o=this.applyTransform(i,s),j=this.applyTransform(i.slice(2,4),s),_e=this.applyTransform([i[0],i[3]],s),et=this.applyTransform([i[2],i[1]],s);return[Math.min(o[0],j[0],_e[0],et[0]),Math.min(o[1],j[1],_e[1],et[1]),Math.max(o[0],j[0],_e[0],et[0]),Math.max(o[1],j[1],_e[1],et[1])]}static inverseTransform(i){const s=i[0]*i[3]-i[1]*i[2];return[i[3]/s,-i[1]/s,-i[2]/s,i[0]/s,(i[2]*i[5]-i[4]*i[3])/s,(i[4]*i[1]-i[5]*i[0])/s]}static singularValueDecompose2dScale(i){const s=[i[0],i[2],i[1],i[3]],o=i[0]*s[0]+i[1]*s[2],j=i[0]*s[1]+i[1]*s[3],_e=i[2]*s[0]+i[3]*s[2],et=i[2]*s[1]+i[3]*s[3],nt=(o+et)/2,it=Math.sqrt((o+et)**2-4*(o*et-_e*j))/2,rt=nt+it||1,st=nt-it||1;return[Math.sqrt(rt),Math.sqrt(st)]}static normalizeRect(i){const s=i.slice(0);return i[0]>i[2]&&(s[0]=i[2],s[2]=i[0]),i[1]>i[3]&&(s[1]=i[3],s[3]=i[1]),s}static intersect(i,s){const o=Math.max(Math.min(i[0],i[2]),Math.min(s[0],s[2])),j=Math.min(Math.max(i[0],i[2]),Math.max(s[0],s[2]));if(o>j)return null;const _e=Math.max(Math.min(i[1],i[3]),Math.min(s[1],s[3])),et=Math.min(Math.max(i[1],i[3]),Math.max(s[1],s[3]));return _e>et?null:[o,_e,j,et]}static bezierBoundingBox(i,s,o,j,_e,et,nt,it,rt){return rt?(rt[0]=Math.min(rt[0],i,nt),rt[1]=Math.min(rt[1],s,it),rt[2]=Math.max(rt[2],i,nt),rt[3]=Math.max(rt[3],s,it)):rt=[Math.min(i,nt),Math.min(s,it),Math.max(i,nt),Math.max(s,it)],yt(this,Wl,U_).call(this,i,o,_e,nt,s,j,et,it,3*(-i+3*(o-_e)+nt),6*(i-2*o+_e),3*(o-i),rt),yt(this,Wl,U_).call(this,i,o,_e,nt,s,j,et,it,3*(-s+3*(j-et)+it),6*(s-2*j+et),3*(j-s),rt),rt}}Wl=new WeakSet,ry=function(i,s,o,j,_e,et,nt,it,rt,st){if(rt<=0||rt>=1)return;const at=1-rt,ot=rt*rt,ut=ot*rt,ct=at*(at*(at*i+3*rt*s)+3*ot*o)+ut*j,dt=at*(at*(at*_e+3*rt*et)+3*ot*nt)+ut*it;st[0]=Math.min(st[0],ct),st[1]=Math.min(st[1],dt),st[2]=Math.max(st[2],ct),st[3]=Math.max(st[3],dt)},U_=function(i,s,o,j,_e,et,nt,it,rt,st,at,ot){if(Math.abs(rt)<1e-12){Math.abs(st)>=1e-12&&yt(this,Wl,ry).call(this,i,s,o,j,_e,et,nt,it,-at/st,ot);return}const ut=st**2-4*at*rt;if(ut<0)return;const ct=Math.sqrt(ut),dt=2*rt;yt(this,Wl,ry).call(this,i,s,o,j,_e,et,nt,it,(-st+ct)/dt,ot),yt(this,Wl,ry).call(this,i,s,o,j,_e,et,nt,it,(-st-ct)/dt,ot)},At(Util,Wl);function stringToUTF8String(a){return decodeURIComponent(escape(a))}let NormalizeRegex=null,NormalizationMap=null;function normalizeUnicode(a){return NormalizeRegex||(NormalizeRegex=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,NormalizationMap=new Map([["ﬅ","ſt"]])),a.replaceAll(NormalizeRegex,(i,s,o)=>s?s.normalize("NFKC"):NormalizationMap.get(o))}function getUuid(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const a=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(a);else for(let i=0;i<32;i++)a[i]=Math.floor(Math.random()*255);return bytesToString(a)}const AnnotationPrefix="pdfjs_internal_id_",FontRenderOps={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class BaseFilterFactory{constructor(){this.constructor===BaseFilterFactory&&unreachable("Cannot initialize BaseFilterFactory.")}addFilter(i){return"none"}addHCMFilter(i,s){return"none"}addAlphaFilter(i){return"none"}addLuminosityFilter(i){return"none"}addHighlightHCMFilter(i,s,o,j,_e){return"none"}destroy(i=!1){}}var rv;const Nx=class Nx{constructor({enableHWA:i=!1}={}){At(this,rv,!1);this.constructor===Nx&&unreachable("Cannot initialize BaseCanvasFactory."),xt(this,rv,i)}create(i,s){if(i<=0||s<=0)throw new Error("Invalid canvas size");const o=this._createCanvas(i,s);return{canvas:o,context:o.getContext("2d",{willReadFrequently:!tt(this,rv)})}}reset(i,s,o){if(!i.canvas)throw new Error("Canvas is not specified");if(s<=0||o<=0)throw new Error("Invalid canvas size");i.canvas.width=s,i.canvas.height=o}destroy(i){if(!i.canvas)throw new Error("Canvas is not specified");i.canvas.width=0,i.canvas.height=0,i.canvas=null,i.context=null}_createCanvas(i,s){unreachable("Abstract method `_createCanvas` called.")}};rv=new WeakMap;let BaseCanvasFactory=Nx;class BaseCMapReaderFactory{constructor({baseUrl:i=null,isCompressed:s=!0}){this.constructor===BaseCMapReaderFactory&&unreachable("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=i,this.isCompressed=s}async fetch({name:i}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!i)throw new Error("CMap name must be specified.");const s=this.baseUrl+i+(this.isCompressed?".bcmap":""),o=this.isCompressed?CMapCompressionType.BINARY:CMapCompressionType.NONE;return this._fetchData(s,o).catch(j=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${s}`)})}_fetchData(i,s){unreachable("Abstract method `_fetchData` called.")}}class BaseStandardFontDataFactory{constructor({baseUrl:i=null}){this.constructor===BaseStandardFontDataFactory&&unreachable("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=i}async fetch({filename:i}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!i)throw new Error("Font filename must be specified.");const s=`${this.baseUrl}${i}`;return this._fetchData(s).catch(o=>{throw new Error(`Unable to load font data at: ${s}`)})}_fetchData(i){unreachable("Abstract method `_fetchData` called.")}}class BaseSVGFactory{constructor(){this.constructor===BaseSVGFactory&&unreachable("Cannot initialize BaseSVGFactory.")}create(i,s,o=!1){if(i<=0||s<=0)throw new Error("Invalid SVG dimensions");const j=this._createSVG("svg:svg");return j.setAttribute("version","1.1"),o||(j.setAttribute("width",`${i}px`),j.setAttribute("height",`${s}px`)),j.setAttribute("preserveAspectRatio","none"),j.setAttribute("viewBox",`0 0 ${i} ${s}`),j}createElement(i){if(typeof i!="string")throw new Error("Invalid SVG element type");return this._createSVG(i)}_createSVG(i){unreachable("Abstract method `_createSVG` called.")}}const SVG_NS="http://www.w3.org/2000/svg",Mu=class Mu{};es(Mu,"CSS",96),es(Mu,"PDF",72),es(Mu,"PDF_TO_CSS_UNITS",Mu.CSS/Mu.PDF);let PixelsPerInch=Mu;var Lu,Mo,yl,Kr,Py,Iu,ls,$r,Dp,Np,ay,BE,z_,Op,Wm,Gm,V_,Xm;class DOMFilterFactory extends BaseFilterFactory{constructor({docId:s,ownerDocument:o=globalThis.document}={}){super();At(this,ls);At(this,Lu);At(this,Mo);At(this,yl);At(this,Kr);At(this,Py);At(this,Iu,0);xt(this,yl,s),xt(this,Kr,o)}addFilter(s){if(!s)return"none";let o=tt(this,ls,$r).get(s);if(o)return o;const[j,_e,et]=yt(this,ls,ay).call(this,s),nt=s.length===1?j:`${j}${_e}${et}`;if(o=tt(this,ls,$r).get(nt),o)return tt(this,ls,$r).set(s,o),o;const it=`g_${tt(this,yl)}_transfer_map_${Pr(this,Iu)._++}`,rt=`url(#${it})`;tt(this,ls,$r).set(s,rt),tt(this,ls,$r).set(nt,rt);const st=yt(this,ls,Op).call(this,it);return yt(this,ls,Gm).call(this,j,_e,et,st),rt}addHCMFilter(s,o){var ct;const j=`${s}-${o}`,_e="base";let et=tt(this,ls,Dp).get(_e);if((et==null?void 0:et.key)===j||(et?((ct=et.filter)==null||ct.remove(),et.key=j,et.url="none",et.filter=null):(et={key:j,url:"none",filter:null},tt(this,ls,Dp).set(_e,et)),!s||!o))return et.url;const nt=yt(this,ls,Xm).call(this,s);s=Util.makeHexColor(...nt);const it=yt(this,ls,Xm).call(this,o);if(o=Util.makeHexColor(...it),tt(this,ls,Np).style.color="",s==="#000000"&&o==="#ffffff"||s===o)return et.url;const rt=new Array(256);for(let dt=0;dt<=255;dt++){const ft=dt/255;rt[dt]=ft<=.03928?ft/12.92:((ft+.055)/1.055)**2.4}const st=rt.join(","),at=`g_${tt(this,yl)}_hcm_filter`,ot=et.filter=yt(this,ls,Op).call(this,at);yt(this,ls,Gm).call(this,st,st,st,ot),yt(this,ls,z_).call(this,ot);const ut=(dt,ft)=>{const lt=nt[dt]/255,ht=it[dt]/255,pt=new Array(ft+1);for(let vt=0;vt<=ft;vt++)pt[vt]=lt+vt/ft*(ht-lt);return pt.join(",")};return yt(this,ls,Gm).call(this,ut(0,5),ut(1,5),ut(2,5),ot),et.url=`url(#${at})`,et.url}addAlphaFilter(s){let o=tt(this,ls,$r).get(s);if(o)return o;const[j]=yt(this,ls,ay).call(this,[s]),_e=`alpha_${j}`;if(o=tt(this,ls,$r).get(_e),o)return tt(this,ls,$r).set(s,o),o;const et=`g_${tt(this,yl)}_alpha_map_${Pr(this,Iu)._++}`,nt=`url(#${et})`;tt(this,ls,$r).set(s,nt),tt(this,ls,$r).set(_e,nt);const it=yt(this,ls,Op).call(this,et);return yt(this,ls,V_).call(this,j,it),nt}addLuminosityFilter(s){let o=tt(this,ls,$r).get(s||"luminosity");if(o)return o;let j,_e;if(s?([j]=yt(this,ls,ay).call(this,[s]),_e=`luminosity_${j}`):_e="luminosity",o=tt(this,ls,$r).get(_e),o)return tt(this,ls,$r).set(s,o),o;const et=`g_${tt(this,yl)}_luminosity_map_${Pr(this,Iu)._++}`,nt=`url(#${et})`;tt(this,ls,$r).set(s,nt),tt(this,ls,$r).set(_e,nt);const it=yt(this,ls,Op).call(this,et);return yt(this,ls,BE).call(this,it),s&&yt(this,ls,V_).call(this,j,it),nt}addHighlightHCMFilter(s,o,j,_e,et){var ht;const nt=`${o}-${j}-${_e}-${et}`;let it=tt(this,ls,Dp).get(s);if((it==null?void 0:it.key)===nt||(it?((ht=it.filter)==null||ht.remove(),it.key=nt,it.url="none",it.filter=null):(it={key:nt,url:"none",filter:null},tt(this,ls,Dp).set(s,it)),!o||!j))return it.url;const[rt,st]=[o,j].map(yt(this,ls,Xm).bind(this));let at=Math.round(.2126*rt[0]+.7152*rt[1]+.0722*rt[2]),ot=Math.round(.2126*st[0]+.7152*st[1]+.0722*st[2]),[ut,ct]=[_e,et].map(yt(this,ls,Xm).bind(this));ot<at&&([at,ot,ut,ct]=[ot,at,ct,ut]),tt(this,ls,Np).style.color="";const dt=(pt,vt,gt)=>{const _t=new Array(256),mt=(ot-at)/gt,bt=pt/255,Ct=(vt-pt)/(255*gt);let Pt=0;for(let St=0;St<=gt;St++){const Mt=Math.round(at+St*mt),Dt=bt+St*Ct;for(let Qt=Pt;Qt<=Mt;Qt++)_t[Qt]=Dt;Pt=Mt+1}for(let St=Pt;St<256;St++)_t[St]=_t[Pt-1];return _t.join(",")},ft=`g_${tt(this,yl)}_hcm_${s}_filter`,lt=it.filter=yt(this,ls,Op).call(this,ft);return yt(this,ls,z_).call(this,lt),yt(this,ls,Gm).call(this,dt(ut[0],ct[0],5),dt(ut[1],ct[1],5),dt(ut[2],ct[2],5),lt),it.url=`url(#${ft})`,it.url}destroy(s=!1){s&&tt(this,ls,Dp).size!==0||(tt(this,Mo)&&(tt(this,Mo).parentNode.parentNode.remove(),xt(this,Mo,null)),tt(this,Lu)&&(tt(this,Lu).clear(),xt(this,Lu,null)),xt(this,Iu,0))}}Lu=new WeakMap,Mo=new WeakMap,yl=new WeakMap,Kr=new WeakMap,Py=new WeakMap,Iu=new WeakMap,ls=new WeakSet,$r=function(){return tt(this,Lu)||xt(this,Lu,new Map)},Dp=function(){return tt(this,Py)||xt(this,Py,new Map)},Np=function(){if(!tt(this,Mo)){const s=tt(this,Kr).createElement("div"),{style:o}=s;o.visibility="hidden",o.contain="strict",o.width=o.height=0,o.position="absolute",o.top=o.left=0,o.zIndex=-1;const j=tt(this,Kr).createElementNS(SVG_NS,"svg");j.setAttribute("width",0),j.setAttribute("height",0),xt(this,Mo,tt(this,Kr).createElementNS(SVG_NS,"defs")),s.append(j),j.append(tt(this,Mo)),tt(this,Kr).body.append(s)}return tt(this,Mo)},ay=function(s){if(s.length===1){const rt=s[0],st=new Array(256);for(let ot=0;ot<256;ot++)st[ot]=rt[ot]/255;const at=st.join(",");return[at,at,at]}const[o,j,_e]=s,et=new Array(256),nt=new Array(256),it=new Array(256);for(let rt=0;rt<256;rt++)et[rt]=o[rt]/255,nt[rt]=j[rt]/255,it[rt]=_e[rt]/255;return[et.join(","),nt.join(","),it.join(",")]},BE=function(s){const o=tt(this,Kr).createElementNS(SVG_NS,"feColorMatrix");o.setAttribute("type","matrix"),o.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),s.append(o)},z_=function(s){const o=tt(this,Kr).createElementNS(SVG_NS,"feColorMatrix");o.setAttribute("type","matrix"),o.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),s.append(o)},Op=function(s){const o=tt(this,Kr).createElementNS(SVG_NS,"filter");return o.setAttribute("color-interpolation-filters","sRGB"),o.setAttribute("id",s),tt(this,ls,Np).append(o),o},Wm=function(s,o,j){const _e=tt(this,Kr).createElementNS(SVG_NS,o);_e.setAttribute("type","discrete"),_e.setAttribute("tableValues",j),s.append(_e)},Gm=function(s,o,j,_e){const et=tt(this,Kr).createElementNS(SVG_NS,"feComponentTransfer");_e.append(et),yt(this,ls,Wm).call(this,et,"feFuncR",s),yt(this,ls,Wm).call(this,et,"feFuncG",o),yt(this,ls,Wm).call(this,et,"feFuncB",j)},V_=function(s,o){const j=tt(this,Kr).createElementNS(SVG_NS,"feComponentTransfer");o.append(j),yt(this,ls,Wm).call(this,j,"feFuncA",s)},Xm=function(s){return tt(this,ls,Np).style.color=s,getRGB(getComputedStyle(tt(this,ls,Np)).getPropertyValue("color"))};class DOMCanvasFactory extends BaseCanvasFactory{constructor({ownerDocument:i=globalThis.document,enableHWA:s=!1}={}){super({enableHWA:s}),this._document=i}_createCanvas(i,s){const o=this._document.createElement("canvas");return o.width=i,o.height=s,o}}async function fetchData(a,i="text"){if(isValidFetchUrl(a,document.baseURI)){const s=await fetch(a);if(!s.ok)throw new Error(s.statusText);switch(i){case"arraybuffer":return s.arrayBuffer();case"blob":return s.blob();case"json":return s.json()}return s.text()}return new Promise((s,o)=>{const j=new XMLHttpRequest;j.open("GET",a,!0),j.responseType=i,j.onreadystatechange=()=>{if(j.readyState===XMLHttpRequest.DONE){if(j.status===200||j.status===0){switch(i){case"arraybuffer":case"blob":case"json":s(j.response);return}s(j.responseText);return}o(new Error(j.statusText))}},j.send(null)})}class DOMCMapReaderFactory extends BaseCMapReaderFactory{_fetchData(i,s){return fetchData(i,this.isCompressed?"arraybuffer":"text").then(o=>({cMapData:o instanceof ArrayBuffer?new Uint8Array(o):stringToBytes(o),compressionType:s}))}}class DOMStandardFontDataFactory extends BaseStandardFontDataFactory{_fetchData(i){return fetchData(i,"arraybuffer").then(s=>new Uint8Array(s))}}class DOMSVGFactory extends BaseSVGFactory{_createSVG(i){return document.createElementNS(SVG_NS,i)}}class PageViewport{constructor({viewBox:i,scale:s,rotation:o,offsetX:j=0,offsetY:_e=0,dontFlip:et=!1}){this.viewBox=i,this.scale=s,this.rotation=o,this.offsetX=j,this.offsetY=_e;const nt=(i[2]+i[0])/2,it=(i[3]+i[1])/2;let rt,st,at,ot;switch(o%=360,o<0&&(o+=360),o){case 180:rt=-1,st=0,at=0,ot=1;break;case 90:rt=0,st=1,at=1,ot=0;break;case 270:rt=0,st=-1,at=-1,ot=0;break;case 0:rt=1,st=0,at=0,ot=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}et&&(at=-at,ot=-ot);let ut,ct,dt,ft;rt===0?(ut=Math.abs(it-i[1])*s+j,ct=Math.abs(nt-i[0])*s+_e,dt=(i[3]-i[1])*s,ft=(i[2]-i[0])*s):(ut=Math.abs(nt-i[0])*s+j,ct=Math.abs(it-i[1])*s+_e,dt=(i[2]-i[0])*s,ft=(i[3]-i[1])*s),this.transform=[rt*s,st*s,at*s,ot*s,ut-rt*s*nt-at*s*it,ct-st*s*nt-ot*s*it],this.width=dt,this.height=ft}get rawDims(){const{viewBox:i}=this;return shadow(this,"rawDims",{pageWidth:i[2]-i[0],pageHeight:i[3]-i[1],pageX:i[0],pageY:i[1]})}clone({scale:i=this.scale,rotation:s=this.rotation,offsetX:o=this.offsetX,offsetY:j=this.offsetY,dontFlip:_e=!1}={}){return new PageViewport({viewBox:this.viewBox.slice(),scale:i,rotation:s,offsetX:o,offsetY:j,dontFlip:_e})}convertToViewportPoint(i,s){return Util.applyTransform([i,s],this.transform)}convertToViewportRectangle(i){const s=Util.applyTransform([i[0],i[1]],this.transform),o=Util.applyTransform([i[2],i[3]],this.transform);return[s[0],s[1],o[0],o[1]]}convertToPdfPoint(i,s){return Util.applyInverseTransform([i,s],this.transform)}}class RenderingCancelledException extends BaseException{constructor(i,s=0){super(i,"RenderingCancelledException"),this.extraDelay=s}}function isDataScheme(a){const i=a.length;let s=0;for(;s<i&&a[s].trim()==="";)s++;return a.substring(s,s+5).toLowerCase()==="data:"}function isPdfFile(a){return typeof a=="string"&&/\.pdf$/i.test(a)}function getFilenameFromUrl(a){return[a]=a.split(/[#?]/,1),a.substring(a.lastIndexOf("/")+1)}function getPdfFilenameFromUrl(a,i="document.pdf"){if(typeof a!="string")return i;if(isDataScheme(a))return warn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),i;const s=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,o=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,j=s.exec(a);let _e=o.exec(j[1])||o.exec(j[2])||o.exec(j[3]);if(_e&&(_e=_e[0],_e.includes("%")))try{_e=o.exec(decodeURIComponent(_e))[0]}catch{}return _e||i}class StatTimer{constructor(){es(this,"started",Object.create(null));es(this,"times",[])}time(i){i in this.started&&warn(`Timer is already running for ${i}`),this.started[i]=Date.now()}timeEnd(i){i in this.started||warn(`Timer has not been started for ${i}`),this.times.push({name:i,start:this.started[i],end:Date.now()}),delete this.started[i]}toString(){const i=[];let s=0;for(const{name:o}of this.times)s=Math.max(o.length,s);for(const{name:o,start:j,end:_e}of this.times)i.push(`${o.padEnd(s)} ${_e-j}ms
`);return i.join("")}}function isValidFetchUrl(a,i){try{const{protocol:s}=i?new URL(a,i):new URL(a);return s==="http:"||s==="https:"}catch{return!1}}function noContextMenu(a){a.preventDefault()}function deprecated(a){console.log("Deprecated API usage: "+a)}let pdfDateStringRegex;class PDFDateString{static toDateObject(i){if(!i||typeof i!="string")return null;pdfDateStringRegex||(pdfDateStringRegex=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const s=pdfDateStringRegex.exec(i);if(!s)return null;const o=parseInt(s[1],10);let j=parseInt(s[2],10);j=j>=1&&j<=12?j-1:0;let _e=parseInt(s[3],10);_e=_e>=1&&_e<=31?_e:1;let et=parseInt(s[4],10);et=et>=0&&et<=23?et:0;let nt=parseInt(s[5],10);nt=nt>=0&&nt<=59?nt:0;let it=parseInt(s[6],10);it=it>=0&&it<=59?it:0;const rt=s[7]||"Z";let st=parseInt(s[8],10);st=st>=0&&st<=23?st:0;let at=parseInt(s[9],10)||0;return at=at>=0&&at<=59?at:0,rt==="-"?(et+=st,nt+=at):rt==="+"&&(et-=st,nt-=at),new Date(Date.UTC(o,j,_e,et,nt,it))}}function getXfaPageViewport(a,{scale:i=1,rotation:s=0}){const{width:o,height:j}=a.attributes.style,_e=[0,0,parseInt(o),parseInt(j)];return new PageViewport({viewBox:_e,scale:i,rotation:s})}function getRGB(a){if(a.startsWith("#")){const i=parseInt(a.slice(1),16);return[(i&16711680)>>16,(i&65280)>>8,i&255]}return a.startsWith("rgb(")?a.slice(4,-1).split(",").map(i=>parseInt(i)):a.startsWith("rgba(")?a.slice(5,-1).split(",").map(i=>parseInt(i)).slice(0,3):(warn(`Not a valid color format: "${a}"`),[0,0,0])}function getColorValues(a){const i=document.createElement("span");i.style.visibility="hidden",document.body.append(i);for(const s of a.keys()){i.style.color=s;const o=window.getComputedStyle(i).color;a.set(s,getRGB(o))}i.remove()}function getCurrentTransform(a){const{a:i,b:s,c:o,d:j,e:_e,f:et}=a.getTransform();return[i,s,o,j,_e,et]}function getCurrentTransformInverse(a){const{a:i,b:s,c:o,d:j,e:_e,f:et}=a.getTransform().invertSelf();return[i,s,o,j,_e,et]}function setLayerDimensions(a,i,s=!1,o=!0){if(i instanceof PageViewport){const{pageWidth:j,pageHeight:_e}=i.rawDims,{style:et}=a,nt=util_FeatureTest.isCSSRoundSupported,it=`var(--scale-factor) * ${j}px`,rt=`var(--scale-factor) * ${_e}px`,st=nt?`round(${it}, 1px)`:`calc(${it})`,at=nt?`round(${rt}, 1px)`:`calc(${rt})`;!s||i.rotation%180===0?(et.width=st,et.height=at):(et.width=at,et.height=st)}o&&a.setAttribute("data-main-rotation",i.rotation)}var Du,Nu,ga,Ou,My,HE,Gr,UE,zE,oy,VE,W_;const Fy=class Fy{constructor(i){At(this,Gr);At(this,Du,null);At(this,Nu,null);At(this,ga);At(this,Ou,null);xt(this,ga,i)}render(){const i=xt(this,Du,document.createElement("div"));i.className="editToolbar",i.setAttribute("role","toolbar");const s=tt(this,ga)._uiManager._signal;i.addEventListener("contextmenu",noContextMenu,{signal:s}),i.addEventListener("pointerdown",yt(Fy,My,HE),{signal:s});const o=xt(this,Ou,document.createElement("div"));o.className="buttons",i.append(o);const j=tt(this,ga).toolbarPosition;if(j){const{style:_e}=i,et=tt(this,ga)._uiManager.direction==="ltr"?1-j[0]:j[0];_e.insetInlineEnd=`${100*et}%`,_e.top=`calc(${100*j[1]}% + var(--editor-toolbar-vert-offset))`}return yt(this,Gr,VE).call(this),i}hide(){var i;tt(this,Du).classList.add("hidden"),(i=tt(this,Nu))==null||i.hideDropdown()}show(){tt(this,Du).classList.remove("hidden")}addAltTextButton(i){yt(this,Gr,oy).call(this,i),tt(this,Ou).prepend(i,tt(this,Gr,W_))}addColorPicker(i){xt(this,Nu,i);const s=i.renderButton();yt(this,Gr,oy).call(this,s),tt(this,Ou).prepend(s,tt(this,Gr,W_))}remove(){var i;tt(this,Du).remove(),(i=tt(this,Nu))==null||i.destroy(),xt(this,Nu,null)}};Du=new WeakMap,Nu=new WeakMap,ga=new WeakMap,Ou=new WeakMap,My=new WeakSet,HE=function(i){i.stopPropagation()},Gr=new WeakSet,UE=function(i){tt(this,ga)._focusEventsAllowed=!1,i.preventDefault(),i.stopPropagation()},zE=function(i){tt(this,ga)._focusEventsAllowed=!0,i.preventDefault(),i.stopPropagation()},oy=function(i){const s=tt(this,ga)._uiManager._signal;i.addEventListener("focusin",yt(this,Gr,UE).bind(this),{capture:!0,signal:s}),i.addEventListener("focusout",yt(this,Gr,zE).bind(this),{capture:!0,signal:s}),i.addEventListener("contextmenu",noContextMenu,{signal:s})},VE=function(){const i=document.createElement("button");i.className="delete",i.tabIndex=0,i.setAttribute("data-l10n-id",`pdfjs-editor-remove-${tt(this,ga).editorType}-button`),yt(this,Gr,oy).call(this,i),i.addEventListener("click",s=>{tt(this,ga)._uiManager.delete()},{signal:tt(this,ga)._uiManager._signal}),tt(this,Ou).append(i)},W_=function(){const i=document.createElement("div");return i.className="divider",i},At(Fy,My);let EditorToolbar=Fy;var av,ju,$u,Au,WE,GE,XE;class HighlightToolbar{constructor(i){At(this,Au);At(this,av,null);At(this,ju,null);At(this,$u);xt(this,$u,i)}show(i,s,o){const[j,_e]=yt(this,Au,GE).call(this,s,o),{style:et}=tt(this,ju)||xt(this,ju,yt(this,Au,WE).call(this));i.append(tt(this,ju)),et.insetInlineEnd=`${100*j}%`,et.top=`calc(${100*_e}% + var(--editor-toolbar-vert-offset))`}hide(){tt(this,ju).remove()}}av=new WeakMap,ju=new WeakMap,$u=new WeakMap,Au=new WeakSet,WE=function(){const i=xt(this,ju,document.createElement("div"));i.className="editToolbar",i.setAttribute("role","toolbar"),i.addEventListener("contextmenu",noContextMenu,{signal:tt(this,$u)._signal});const s=xt(this,av,document.createElement("div"));return s.className="buttons",i.append(s),yt(this,Au,XE).call(this),i},GE=function(i,s){let o=0,j=0;for(const _e of i){const et=_e.y+_e.height;if(et<o)continue;const nt=_e.x+(s?_e.width:0);if(et>o){j=nt,o=et;continue}s?nt>j&&(j=nt):nt<j&&(j=nt)}return[s?1-j:j,o]},XE=function(){const i=document.createElement("button");i.className="highlightButton",i.tabIndex=0,i.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const s=document.createElement("span");i.append(s),s.className="visuallyHidden",s.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const o=tt(this,$u)._signal;i.addEventListener("contextmenu",noContextMenu,{signal:o}),i.addEventListener("click",()=>{tt(this,$u).highlightSelection("floating_button")},{signal:o}),tt(this,av).append(i)};function bindEvents(a,i,s){for(const o of s)i.addEventListener(o,a[o].bind(a))}function opacityToHex(a){return Math.round(Math.min(255,Math.max(1,255*a))).toString(16).padStart(2,"0")}var Ly;class IdManager{constructor(){At(this,Ly,0)}get id(){return`${AnnotationEditorPrefix}${Pr(this,Ly)._++}`}}Ly=new WeakMap;var ov,Iy,ro,lv,G_;const Ox=class Ox{constructor(){At(this,lv);At(this,ov,getUuid());At(this,Iy,0);At(this,ro,null)}static get _isSVGFittingCanvas(){const i='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',o=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),j=new Image;j.src=i;const _e=j.decode().then(()=>(o.drawImage(j,0,0,1,1,0,0,1,3),new Uint32Array(o.getImageData(0,0,1,1).data.buffer)[0]===0));return shadow(this,"_isSVGFittingCanvas",_e)}async getFromFile(i){const{lastModified:s,name:o,size:j,type:_e}=i;return yt(this,lv,G_).call(this,`${s}_${o}_${j}_${_e}`,i)}async getFromUrl(i){return yt(this,lv,G_).call(this,i,i)}async getFromId(i){tt(this,ro)||xt(this,ro,new Map);const s=tt(this,ro).get(i);return s?s.bitmap?(s.refCounter+=1,s):s.file?this.getFromFile(s.file):this.getFromUrl(s.url):null}getSvgUrl(i){const s=tt(this,ro).get(i);return s!=null&&s.isSvg?s.svgUrl:null}deleteId(i){tt(this,ro)||xt(this,ro,new Map);const s=tt(this,ro).get(i);s&&(s.refCounter-=1,s.refCounter===0&&(s.bitmap=null))}isValidId(i){return i.startsWith(`image_${tt(this,ov)}_`)}};ov=new WeakMap,Iy=new WeakMap,ro=new WeakMap,lv=new WeakSet,G_=async function(i,s){tt(this,ro)||xt(this,ro,new Map);let o=tt(this,ro).get(i);if(o===null)return null;if(o!=null&&o.bitmap)return o.refCounter+=1,o;try{o||(o={bitmap:null,id:`image_${tt(this,ov)}_${Pr(this,Iy)._++}`,refCounter:0,isSvg:!1});let j;if(typeof s=="string"?(o.url=s,j=await fetchData(s,"blob")):j=o.file=s,j.type==="image/svg+xml"){const _e=Ox._isSVGFittingCanvas,et=new FileReader,nt=new Image,it=new Promise((rt,st)=>{nt.onload=()=>{o.bitmap=nt,o.isSvg=!0,rt()},et.onload=async()=>{const at=o.svgUrl=et.result;nt.src=await _e?`${at}#svgView(preserveAspectRatio(none))`:at},nt.onerror=et.onerror=st});et.readAsDataURL(j),await it}else o.bitmap=await createImageBitmap(j);o.refCounter=1}catch(j){console.error(j),o=null}return tt(this,ro).set(i,o),o&&tt(this,ro).set(o.id,o),o};let ImageManager=Ox;var Tr,nu,cv,kr;class CommandManager{constructor(i=128){At(this,Tr,[]);At(this,nu,!1);At(this,cv);At(this,kr,-1);xt(this,cv,i)}add({cmd:i,undo:s,post:o,mustExec:j,type:_e=NaN,overwriteIfSameType:et=!1,keepUndo:nt=!1}){if(j&&i(),tt(this,nu))return;const it={cmd:i,undo:s,post:o,type:_e};if(tt(this,kr)===-1){tt(this,Tr).length>0&&(tt(this,Tr).length=0),xt(this,kr,0),tt(this,Tr).push(it);return}if(et&&tt(this,Tr)[tt(this,kr)].type===_e){nt&&(it.undo=tt(this,Tr)[tt(this,kr)].undo),tt(this,Tr)[tt(this,kr)]=it;return}const rt=tt(this,kr)+1;rt===tt(this,cv)?tt(this,Tr).splice(0,1):(xt(this,kr,rt),rt<tt(this,Tr).length&&tt(this,Tr).splice(rt)),tt(this,Tr).push(it)}undo(){if(tt(this,kr)===-1)return;xt(this,nu,!0);const{undo:i,post:s}=tt(this,Tr)[tt(this,kr)];i(),s==null||s(),xt(this,nu,!1),xt(this,kr,tt(this,kr)-1)}redo(){if(tt(this,kr)<tt(this,Tr).length-1){xt(this,kr,tt(this,kr)+1),xt(this,nu,!0);const{cmd:i,post:s}=tt(this,Tr)[tt(this,kr)];i(),s==null||s(),xt(this,nu,!1)}}hasSomethingToUndo(){return tt(this,kr)!==-1}hasSomethingToRedo(){return tt(this,kr)<tt(this,Tr).length-1}destroy(){xt(this,Tr,null)}}Tr=new WeakMap,nu=new WeakMap,cv=new WeakMap,kr=new WeakMap;var Dy,qE;class KeyboardManager{constructor(i){At(this,Dy);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:s}=util_FeatureTest.platform;for(const[o,j,_e={}]of i)for(const et of o){const nt=et.startsWith("mac+");s&&nt?(this.callbacks.set(et.slice(4),{callback:j,options:_e}),this.allKeys.add(et.split("+").at(-1))):!s&&!nt&&(this.callbacks.set(et,{callback:j,options:_e}),this.allKeys.add(et.split("+").at(-1)))}}exec(i,s){if(!this.allKeys.has(s.key))return;const o=this.callbacks.get(yt(this,Dy,qE).call(this,s));if(!o)return;const{callback:j,options:{bubbles:_e=!1,args:et=[],checker:nt=null}}=o;nt&&!nt(i,s)||(j.bind(i,...et,s)(),_e||(s.stopPropagation(),s.preventDefault()))}}Dy=new WeakSet,qE=function(i){i.altKey&&this.buffer.push("alt"),i.ctrlKey&&this.buffer.push("ctrl"),i.metaKey&&this.buffer.push("meta"),i.shiftKey&&this.buffer.push("shift"),this.buffer.push(i.key);const s=this.buffer.join("+");return this.buffer.length=0,s};const Ny=class Ny{get _colors(){const i=new Map([["CanvasText",null],["Canvas",null]]);return getColorValues(i),shadow(this,"_colors",i)}convert(i){const s=getRGB(i);if(!window.matchMedia("(forced-colors: active)").matches)return s;for(const[o,j]of this._colors)if(j.every((_e,et)=>_e===s[et]))return Ny._colorsMapping.get(o);return s}getHexCode(i){const s=this._colors.get(i);return s?Util.makeHexColor(...s):i}};es(Ny,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ColorManager=Ny;var Up,_a,xr,Fr,zp,_l,Vp,go,Wp,Bu,Fo,mo,Hu,uv,hv,Lo,Gp,iu,Io,Oy,su,dv,Uu,fv,Xp,Lr,Ys,xl,zu,pv,gv,mv,vv,yv,_v,bv,xv,Ev,Av,wv,Sv,Cv,ru,Do,El,Tv,Zn,ly,KE,YE,cy,QE,ZE,JE,X_,eA,q_,K_,tA,zr,eu,nA,iA,Y_,sA,qm,Q_;const Hp=class Hp{constructor(i,s,o,j,_e,et,nt,it,rt){At(this,Zn);At(this,Up,new AbortController);At(this,_a,null);At(this,xr,new Map);At(this,Fr,new Map);At(this,zp,null);At(this,_l,null);At(this,Vp,null);At(this,go,new CommandManager);At(this,Wp,0);At(this,Bu,new Set);At(this,Fo,null);At(this,mo,null);At(this,Hu,new Set);At(this,uv,!1);At(this,hv,null);At(this,Lo,null);At(this,Gp,null);At(this,iu,!1);At(this,Io,null);At(this,Oy,new IdManager);At(this,su,!1);At(this,dv,!1);At(this,Uu,null);At(this,fv,null);At(this,Xp,null);At(this,Lr,AnnotationEditorType.NONE);At(this,Ys,new Set);At(this,xl,null);At(this,zu,null);At(this,pv,null);At(this,gv,this.blur.bind(this));At(this,mv,this.focus.bind(this));At(this,vv,this.copy.bind(this));At(this,yv,this.cut.bind(this));At(this,_v,this.paste.bind(this));At(this,bv,this.keydown.bind(this));At(this,xv,this.keyup.bind(this));At(this,Ev,this.onEditingAction.bind(this));At(this,Av,this.onPageChanging.bind(this));At(this,wv,this.onScaleChanging.bind(this));At(this,Sv,this.onRotationChanging.bind(this));At(this,Cv,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});At(this,ru,[0,0]);At(this,Do,null);At(this,El,null);At(this,Tv,null);this._signal=tt(this,Up).signal,xt(this,El,i),xt(this,Tv,s),xt(this,zp,o),this._eventBus=j,this._eventBus._on("editingaction",tt(this,Ev)),this._eventBus._on("pagechanging",tt(this,Av)),this._eventBus._on("scalechanging",tt(this,wv)),this._eventBus._on("rotationchanging",tt(this,Sv)),yt(this,Zn,QE).call(this),yt(this,Zn,tA).call(this),yt(this,Zn,X_).call(this),xt(this,_l,_e.annotationStorage),xt(this,hv,_e.filterFactory),xt(this,zu,et),xt(this,Gp,nt||null),xt(this,uv,it),xt(this,Xp,rt||null),this.viewParameters={realScale:PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const i=Hp.prototype,s=et=>tt(et,El).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&et.hasSomethingToControl(),o=(et,{target:nt})=>{if(nt instanceof HTMLInputElement){const{type:it}=nt;return it!=="text"&&it!=="number"}return!0},j=this.TRANSLATE_SMALL,_e=this.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+a","mac+meta+a"],i.selectAll,{checker:o}],[["ctrl+z","mac+meta+z"],i.undo,{checker:o}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],i.redo,{checker:o}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],i.delete,{checker:o}],[["Enter","mac+Enter"],i.addNewEditorFromKeyboard,{checker:(et,{target:nt})=>!(nt instanceof HTMLButtonElement)&&tt(et,El).contains(nt)&&!et.isEnterHandled}],[[" ","mac+ "],i.addNewEditorFromKeyboard,{checker:(et,{target:nt})=>!(nt instanceof HTMLButtonElement)&&tt(et,El).contains(document.activeElement)}],[["Escape","mac+Escape"],i.unselectAll],[["ArrowLeft","mac+ArrowLeft"],i.translateSelectedEditors,{args:[-j,0],checker:s}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],i.translateSelectedEditors,{args:[-_e,0],checker:s}],[["ArrowRight","mac+ArrowRight"],i.translateSelectedEditors,{args:[j,0],checker:s}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],i.translateSelectedEditors,{args:[_e,0],checker:s}],[["ArrowUp","mac+ArrowUp"],i.translateSelectedEditors,{args:[0,-j],checker:s}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],i.translateSelectedEditors,{args:[0,-_e],checker:s}],[["ArrowDown","mac+ArrowDown"],i.translateSelectedEditors,{args:[0,j],checker:s}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],i.translateSelectedEditors,{args:[0,_e],checker:s}]]))}destroy(){var i,s,o;(i=tt(this,Up))==null||i.abort(),xt(this,Up,null),this._signal=null,this._eventBus._off("editingaction",tt(this,Ev)),this._eventBus._off("pagechanging",tt(this,Av)),this._eventBus._off("scalechanging",tt(this,wv)),this._eventBus._off("rotationchanging",tt(this,Sv));for(const j of tt(this,Fr).values())j.destroy();tt(this,Fr).clear(),tt(this,xr).clear(),tt(this,Hu).clear(),xt(this,_a,null),tt(this,Ys).clear(),tt(this,go).destroy(),(s=tt(this,zp))==null||s.destroy(),(o=tt(this,Io))==null||o.hide(),xt(this,Io,null),tt(this,Lo)&&(clearTimeout(tt(this,Lo)),xt(this,Lo,null)),tt(this,Do)&&(clearTimeout(tt(this,Do)),xt(this,Do,null))}async mlGuess(i){var s;return((s=tt(this,Xp))==null?void 0:s.guess(i))||null}get hasMLManager(){return!!tt(this,Xp)}get hcmFilter(){return shadow(this,"hcmFilter",tt(this,zu)?tt(this,hv).addHCMFilter(tt(this,zu).foreground,tt(this,zu).background):"none")}get direction(){return shadow(this,"direction",getComputedStyle(tt(this,El)).direction)}get highlightColors(){return shadow(this,"highlightColors",tt(this,Gp)?new Map(tt(this,Gp).split(",").map(i=>i.split("=").map(s=>s.trim()))):null)}get highlightColorNames(){return shadow(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,i=>i.reverse())):null)}setMainHighlightColorPicker(i){xt(this,fv,i)}editAltText(i){var s;(s=tt(this,zp))==null||s.editAltText(this,i)}onPageChanging({pageNumber:i}){xt(this,Wp,i-1)}focusMainContainer(){tt(this,El).focus()}findParent(i,s){for(const o of tt(this,Fr).values()){const{x:j,y:_e,width:et,height:nt}=o.div.getBoundingClientRect();if(i>=j&&i<=j+et&&s>=_e&&s<=_e+nt)return o}return null}disableUserSelect(i=!1){tt(this,Tv).classList.toggle("noUserSelect",i)}addShouldRescale(i){tt(this,Hu).add(i)}removeShouldRescale(i){tt(this,Hu).delete(i)}onScaleChanging({scale:i}){this.commitOrRemove(),this.viewParameters.realScale=i*PixelsPerInch.PDF_TO_CSS_UNITS;for(const s of tt(this,Hu))s.onScaleChanging()}onRotationChanging({pagesRotation:i}){this.commitOrRemove(),this.viewParameters.rotation=i}highlightSelection(i=""){const s=document.getSelection();if(!s||s.isCollapsed)return;const{anchorNode:o,anchorOffset:j,focusNode:_e,focusOffset:et}=s,nt=s.toString(),rt=yt(this,Zn,ly).call(this,s).closest(".textLayer"),st=this.getSelectionBoxes(rt);if(st){s.empty(),tt(this,Lr)===AnnotationEditorType.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:AnnotationEditorType.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const at of tt(this,Fr).values())if(at.hasTextLayer(rt)){at.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:i,boxes:st,anchorNode:o,anchorOffset:j,focusNode:_e,focusOffset:et,text:nt});break}}}addToAnnotationStorage(i){!i.isEmpty()&&tt(this,_l)&&!tt(this,_l).has(i.id)&&tt(this,_l).setValue(i.id,i)}blur(){if(this.isShiftKeyDown=!1,tt(this,iu)&&(xt(this,iu,!1),yt(this,Zn,cy).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:i}=document;for(const s of tt(this,Ys))if(s.div.contains(i)){xt(this,Uu,[s,i]),s._focusEventsAllowed=!1;break}}focus(){if(!tt(this,Uu))return;const[i,s]=tt(this,Uu);xt(this,Uu,null),s.addEventListener("focusin",()=>{i._focusEventsAllowed=!0},{once:!0,signal:this._signal}),s.focus()}addEditListeners(){yt(this,Zn,X_).call(this),yt(this,Zn,q_).call(this)}removeEditListeners(){yt(this,Zn,eA).call(this),yt(this,Zn,K_).call(this)}dragOver(i){for(const{type:s}of i.dataTransfer.items)for(const o of tt(this,mo))if(o.isHandlingMimeForPasting(s)){i.dataTransfer.dropEffect="copy",i.preventDefault();return}}drop(i){for(const s of i.dataTransfer.items)for(const o of tt(this,mo))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer),i.preventDefault();return}}copy(i){var o;if(i.preventDefault(),(o=tt(this,_a))==null||o.commitOrRemove(),!this.hasSelection)return;const s=[];for(const j of tt(this,Ys)){const _e=j.serialize(!0);_e&&s.push(_e)}s.length!==0&&i.clipboardData.setData("application/pdfjs",JSON.stringify(s))}cut(i){this.copy(i),this.delete()}paste(i){i.preventDefault();const{clipboardData:s}=i;for(const _e of s.items)for(const et of tt(this,mo))if(et.isHandlingMimeForPasting(_e.type)){et.paste(_e,this.currentLayer);return}let o=s.getData("application/pdfjs");if(!o)return;try{o=JSON.parse(o)}catch(_e){warn(`paste: "${_e.message}".`);return}if(!Array.isArray(o))return;this.unselectAll();const j=this.currentLayer;try{const _e=[];for(const it of o){const rt=j.deserialize(it);if(!rt)return;_e.push(rt)}const et=()=>{for(const it of _e)yt(this,Zn,Y_).call(this,it);yt(this,Zn,Q_).call(this,_e)},nt=()=>{for(const it of _e)it.remove()};this.addCommands({cmd:et,undo:nt,mustExec:!0})}catch(_e){warn(`paste: "${_e.message}".`)}}keydown(i){!this.isShiftKeyDown&&i.key==="Shift"&&(this.isShiftKeyDown=!0),tt(this,Lr)!==AnnotationEditorType.NONE&&!this.isEditorHandlingKeyboard&&Hp._keyboardManager.exec(this,i)}keyup(i){this.isShiftKeyDown&&i.key==="Shift"&&(this.isShiftKeyDown=!1,tt(this,iu)&&(xt(this,iu,!1),yt(this,Zn,cy).call(this,"main_toolbar")))}onEditingAction({name:i}){switch(i){case"undo":case"redo":case"delete":case"selectAll":this[i]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(i){i?(yt(this,Zn,ZE).call(this),yt(this,Zn,q_).call(this),yt(this,Zn,zr).call(this,{isEditing:tt(this,Lr)!==AnnotationEditorType.NONE,isEmpty:yt(this,Zn,qm).call(this),hasSomethingToUndo:tt(this,go).hasSomethingToUndo(),hasSomethingToRedo:tt(this,go).hasSomethingToRedo(),hasSelectedEditor:!1})):(yt(this,Zn,JE).call(this),yt(this,Zn,K_).call(this),yt(this,Zn,zr).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(i){if(!tt(this,mo)){xt(this,mo,i);for(const s of tt(this,mo))yt(this,Zn,eu).call(this,s.defaultPropertiesToUpdate)}}getId(){return tt(this,Oy).id}get currentLayer(){return tt(this,Fr).get(tt(this,Wp))}getLayer(i){return tt(this,Fr).get(i)}get currentPageIndex(){return tt(this,Wp)}addLayer(i){tt(this,Fr).set(i.pageIndex,i),tt(this,su)?i.enable():i.disable()}removeLayer(i){tt(this,Fr).delete(i.pageIndex)}updateMode(i,s=null,o=!1){if(tt(this,Lr)!==i){if(xt(this,Lr,i),i===AnnotationEditorType.NONE){this.setEditingState(!1),yt(this,Zn,iA).call(this);return}this.setEditingState(!0),yt(this,Zn,nA).call(this),this.unselectAll();for(const j of tt(this,Fr).values())j.updateMode(i);if(!s&&o){this.addNewEditorFromKeyboard();return}if(s){for(const j of tt(this,xr).values())if(j.annotationElementId===s){this.setSelected(j),j.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(i){i!==tt(this,Lr)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:i})}updateParams(i,s){var o;if(tt(this,mo)){switch(i){case AnnotationEditorParamsType.CREATE:this.currentLayer.addNewEditor();return;case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:(o=tt(this,fv))==null||o.updateColor(s);break;case AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(tt(this,pv)||xt(this,pv,new Map)).set(i,s),this.showAllEditors("highlight",s);break}for(const j of tt(this,Ys))j.updateParams(i,s);for(const j of tt(this,mo))j.updateDefaultParams(i,s)}}showAllEditors(i,s,o=!1){var _e;for(const et of tt(this,xr).values())et.editorType===i&&et.show(s);(((_e=tt(this,pv))==null?void 0:_e.get(AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL))??!0)!==s&&yt(this,Zn,eu).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL,s]])}enableWaiting(i=!1){if(tt(this,dv)!==i){xt(this,dv,i);for(const s of tt(this,Fr).values())i?s.disableClick():s.enableClick(),s.div.classList.toggle("waiting",i)}}getEditors(i){const s=[];for(const o of tt(this,xr).values())o.pageIndex===i&&s.push(o);return s}getEditor(i){return tt(this,xr).get(i)}addEditor(i){tt(this,xr).set(i.id,i)}removeEditor(i){var s;i.div.contains(document.activeElement)&&(tt(this,Lo)&&clearTimeout(tt(this,Lo)),xt(this,Lo,setTimeout(()=>{this.focusMainContainer(),xt(this,Lo,null)},0))),tt(this,xr).delete(i.id),this.unselect(i),(!i.annotationElementId||!tt(this,Bu).has(i.annotationElementId))&&((s=tt(this,_l))==null||s.remove(i.id))}addDeletedAnnotationElement(i){tt(this,Bu).add(i.annotationElementId),this.addChangedExistingAnnotation(i),i.deleted=!0}isDeletedAnnotationElement(i){return tt(this,Bu).has(i)}removeDeletedAnnotationElement(i){tt(this,Bu).delete(i.annotationElementId),this.removeChangedExistingAnnotation(i),i.deleted=!1}setActiveEditor(i){tt(this,_a)!==i&&(xt(this,_a,i),i&&yt(this,Zn,eu).call(this,i.propertiesToUpdate))}updateUI(i){tt(this,Zn,sA)===i&&yt(this,Zn,eu).call(this,i.propertiesToUpdate)}toggleSelected(i){if(tt(this,Ys).has(i)){tt(this,Ys).delete(i),i.unselect(),yt(this,Zn,zr).call(this,{hasSelectedEditor:this.hasSelection});return}tt(this,Ys).add(i),i.select(),yt(this,Zn,eu).call(this,i.propertiesToUpdate),yt(this,Zn,zr).call(this,{hasSelectedEditor:!0})}setSelected(i){for(const s of tt(this,Ys))s!==i&&s.unselect();tt(this,Ys).clear(),tt(this,Ys).add(i),i.select(),yt(this,Zn,eu).call(this,i.propertiesToUpdate),yt(this,Zn,zr).call(this,{hasSelectedEditor:!0})}isSelected(i){return tt(this,Ys).has(i)}get firstSelectedEditor(){return tt(this,Ys).values().next().value}unselect(i){i.unselect(),tt(this,Ys).delete(i),yt(this,Zn,zr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return tt(this,Ys).size!==0}get isEnterHandled(){return tt(this,Ys).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){tt(this,go).undo(),yt(this,Zn,zr).call(this,{hasSomethingToUndo:tt(this,go).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:yt(this,Zn,qm).call(this)})}redo(){tt(this,go).redo(),yt(this,Zn,zr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:tt(this,go).hasSomethingToRedo(),isEmpty:yt(this,Zn,qm).call(this)})}addCommands(i){tt(this,go).add(i),yt(this,Zn,zr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:yt(this,Zn,qm).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const i=[...tt(this,Ys)],s=()=>{for(const j of i)j.remove()},o=()=>{for(const j of i)yt(this,Zn,Y_).call(this,j)};this.addCommands({cmd:s,undo:o,mustExec:!0})}commitOrRemove(){var i;(i=tt(this,_a))==null||i.commitOrRemove()}hasSomethingToControl(){return tt(this,_a)||this.hasSelection}selectAll(){for(const i of tt(this,Ys))i.commit();yt(this,Zn,Q_).call(this,tt(this,xr).values())}unselectAll(){if(!(tt(this,_a)&&(tt(this,_a).commitOrRemove(),tt(this,Lr)!==AnnotationEditorType.NONE))&&this.hasSelection){for(const i of tt(this,Ys))i.unselect();tt(this,Ys).clear(),yt(this,Zn,zr).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(i,s,o=!1){if(o||this.commitOrRemove(),!this.hasSelection)return;tt(this,ru)[0]+=i,tt(this,ru)[1]+=s;const[j,_e]=tt(this,ru),et=[...tt(this,Ys)],nt=1e3;tt(this,Do)&&clearTimeout(tt(this,Do)),xt(this,Do,setTimeout(()=>{xt(this,Do,null),tt(this,ru)[0]=tt(this,ru)[1]=0,this.addCommands({cmd:()=>{for(const it of et)tt(this,xr).has(it.id)&&it.translateInPage(j,_e)},undo:()=>{for(const it of et)tt(this,xr).has(it.id)&&it.translateInPage(-j,-_e)},mustExec:!1})},nt));for(const it of et)it.translateInPage(i,s)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),xt(this,Fo,new Map);for(const i of tt(this,Ys))tt(this,Fo).set(i,{savedX:i.x,savedY:i.y,savedPageIndex:i.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!tt(this,Fo))return!1;this.disableUserSelect(!1);const i=tt(this,Fo);xt(this,Fo,null);let s=!1;for(const[{x:j,y:_e,pageIndex:et},nt]of i)nt.newX=j,nt.newY=_e,nt.newPageIndex=et,s||(s=j!==nt.savedX||_e!==nt.savedY||et!==nt.savedPageIndex);if(!s)return!1;const o=(j,_e,et,nt)=>{if(tt(this,xr).has(j.id)){const it=tt(this,Fr).get(nt);it?j._setParentAndPosition(it,_e,et):(j.pageIndex=nt,j.x=_e,j.y=et)}};return this.addCommands({cmd:()=>{for(const[j,{newX:_e,newY:et,newPageIndex:nt}]of i)o(j,_e,et,nt)},undo:()=>{for(const[j,{savedX:_e,savedY:et,savedPageIndex:nt}]of i)o(j,_e,et,nt)},mustExec:!0}),!0}dragSelectedEditors(i,s){if(tt(this,Fo))for(const o of tt(this,Fo).keys())o.drag(i,s)}rebuild(i){if(i.parent===null){const s=this.getLayer(i.pageIndex);s?(s.changeParent(i),s.addOrRebuild(i)):(this.addEditor(i),this.addToAnnotationStorage(i),i.rebuild())}else i.parent.addOrRebuild(i)}get isEditorHandlingKeyboard(){var i;return((i=this.getActive())==null?void 0:i.shouldGetKeyboardEvents())||tt(this,Ys).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(i){return tt(this,_a)===i}getActive(){return tt(this,_a)}getMode(){return tt(this,Lr)}get imageManager(){return shadow(this,"imageManager",new ImageManager)}getSelectionBoxes(i){if(!i)return null;const s=document.getSelection();for(let rt=0,st=s.rangeCount;rt<st;rt++)if(!i.contains(s.getRangeAt(rt).commonAncestorContainer))return null;const{x:o,y:j,width:_e,height:et}=i.getBoundingClientRect();let nt;switch(i.getAttribute("data-main-rotation")){case"90":nt=(rt,st,at,ot)=>({x:(st-j)/et,y:1-(rt+at-o)/_e,width:ot/et,height:at/_e});break;case"180":nt=(rt,st,at,ot)=>({x:1-(rt+at-o)/_e,y:1-(st+ot-j)/et,width:at/_e,height:ot/et});break;case"270":nt=(rt,st,at,ot)=>({x:1-(st+ot-j)/et,y:(rt-o)/_e,width:ot/et,height:at/_e});break;default:nt=(rt,st,at,ot)=>({x:(rt-o)/_e,y:(st-j)/et,width:at/_e,height:ot/et});break}const it=[];for(let rt=0,st=s.rangeCount;rt<st;rt++){const at=s.getRangeAt(rt);if(!at.collapsed)for(const{x:ot,y:ut,width:ct,height:dt}of at.getClientRects())ct===0||dt===0||it.push(nt(ot,ut,ct,dt))}return it.length===0?null:it}addChangedExistingAnnotation({annotationElementId:i,id:s}){(tt(this,Vp)||xt(this,Vp,new Map)).set(i,s)}removeChangedExistingAnnotation({annotationElementId:i}){var s;(s=tt(this,Vp))==null||s.delete(i)}renderAnnotationElement(i){var j;const s=(j=tt(this,Vp))==null?void 0:j.get(i.data.id);if(!s)return;const o=tt(this,_l).getRawValue(s);o&&(tt(this,Lr)===AnnotationEditorType.NONE&&!o.hasBeenModified||o.renderAnnotationElement(i))}};Up=new WeakMap,_a=new WeakMap,xr=new WeakMap,Fr=new WeakMap,zp=new WeakMap,_l=new WeakMap,Vp=new WeakMap,go=new WeakMap,Wp=new WeakMap,Bu=new WeakMap,Fo=new WeakMap,mo=new WeakMap,Hu=new WeakMap,uv=new WeakMap,hv=new WeakMap,Lo=new WeakMap,Gp=new WeakMap,iu=new WeakMap,Io=new WeakMap,Oy=new WeakMap,su=new WeakMap,dv=new WeakMap,Uu=new WeakMap,fv=new WeakMap,Xp=new WeakMap,Lr=new WeakMap,Ys=new WeakMap,xl=new WeakMap,zu=new WeakMap,pv=new WeakMap,gv=new WeakMap,mv=new WeakMap,vv=new WeakMap,yv=new WeakMap,_v=new WeakMap,bv=new WeakMap,xv=new WeakMap,Ev=new WeakMap,Av=new WeakMap,wv=new WeakMap,Sv=new WeakMap,Cv=new WeakMap,ru=new WeakMap,Do=new WeakMap,El=new WeakMap,Tv=new WeakMap,Zn=new WeakSet,ly=function({anchorNode:i}){return i.nodeType===Node.TEXT_NODE?i.parentElement:i},KE=function(){const i=document.getSelection();if(!i||i.isCollapsed)return;const o=yt(this,Zn,ly).call(this,i).closest(".textLayer"),j=this.getSelectionBoxes(o);j&&(tt(this,Io)||xt(this,Io,new HighlightToolbar(this)),tt(this,Io).show(o,j,this.direction==="ltr"))},YE=function(){var _e,et,nt;const i=document.getSelection();if(!i||i.isCollapsed){tt(this,xl)&&((_e=tt(this,Io))==null||_e.hide(),xt(this,xl,null),yt(this,Zn,zr).call(this,{hasSelectedText:!1}));return}const{anchorNode:s}=i;if(s===tt(this,xl))return;if(!yt(this,Zn,ly).call(this,i).closest(".textLayer")){tt(this,xl)&&((et=tt(this,Io))==null||et.hide(),xt(this,xl,null),yt(this,Zn,zr).call(this,{hasSelectedText:!1}));return}if((nt=tt(this,Io))==null||nt.hide(),xt(this,xl,s),yt(this,Zn,zr).call(this,{hasSelectedText:!0}),!(tt(this,Lr)!==AnnotationEditorType.HIGHLIGHT&&tt(this,Lr)!==AnnotationEditorType.NONE)&&(tt(this,Lr)===AnnotationEditorType.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),xt(this,iu,this.isShiftKeyDown),!this.isShiftKeyDown)){const it=this._signal,rt=st=>{st.type==="pointerup"&&st.button!==0||(window.removeEventListener("pointerup",rt),window.removeEventListener("blur",rt),st.type==="pointerup"&&yt(this,Zn,cy).call(this,"main_toolbar"))};window.addEventListener("pointerup",rt,{signal:it}),window.addEventListener("blur",rt,{signal:it})}},cy=function(i=""){tt(this,Lr)===AnnotationEditorType.HIGHLIGHT?this.highlightSelection(i):tt(this,uv)&&yt(this,Zn,KE).call(this)},QE=function(){document.addEventListener("selectionchange",yt(this,Zn,YE).bind(this),{signal:this._signal})},ZE=function(){const i=this._signal;window.addEventListener("focus",tt(this,mv),{signal:i}),window.addEventListener("blur",tt(this,gv),{signal:i})},JE=function(){window.removeEventListener("focus",tt(this,mv)),window.removeEventListener("blur",tt(this,gv))},X_=function(){const i=this._signal;window.addEventListener("keydown",tt(this,bv),{signal:i}),window.addEventListener("keyup",tt(this,xv),{signal:i})},eA=function(){window.removeEventListener("keydown",tt(this,bv)),window.removeEventListener("keyup",tt(this,xv))},q_=function(){const i=this._signal;document.addEventListener("copy",tt(this,vv),{signal:i}),document.addEventListener("cut",tt(this,yv),{signal:i}),document.addEventListener("paste",tt(this,_v),{signal:i})},K_=function(){document.removeEventListener("copy",tt(this,vv)),document.removeEventListener("cut",tt(this,yv)),document.removeEventListener("paste",tt(this,_v))},tA=function(){const i=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:i}),document.addEventListener("drop",this.drop.bind(this),{signal:i})},zr=function(i){Object.entries(i).some(([o,j])=>tt(this,Cv)[o]!==j)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(tt(this,Cv),i)}),tt(this,Lr)===AnnotationEditorType.HIGHLIGHT&&i.hasSelectedEditor===!1&&yt(this,Zn,eu).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_FREE,!0]]))},eu=function(i){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:i})},nA=function(){if(!tt(this,su)){xt(this,su,!0);for(const i of tt(this,Fr).values())i.enable();for(const i of tt(this,xr).values())i.enable()}},iA=function(){if(this.unselectAll(),tt(this,su)){xt(this,su,!1);for(const i of tt(this,Fr).values())i.disable();for(const i of tt(this,xr).values())i.disable()}},Y_=function(i){const s=tt(this,Fr).get(i.pageIndex);s?s.addOrRebuild(i):(this.addEditor(i),this.addToAnnotationStorage(i))},sA=function(){let i=null;for(i of tt(this,Ys));return i},qm=function(){if(tt(this,xr).size===0)return!0;if(tt(this,xr).size===1)for(const i of tt(this,xr).values())return i.isEmpty();return!1},Q_=function(i){for(const s of tt(this,Ys))s.unselect();tt(this,Ys).clear();for(const s of i)s.isEmpty()||(tt(this,Ys).add(s),s.select());yt(this,Zn,zr).call(this,{hasSelectedEditor:this.hasSelection})},es(Hp,"TRANSLATE_SMALL",1),es(Hp,"TRANSLATE_BIG",10);let AnnotationEditorUIManager=Hp;var Al,wl,vo,Sl,ba,qp,yo,kv,Z_;const Qo=class Qo{constructor(i){At(this,kv);At(this,Al,"");At(this,wl,!1);At(this,vo,null);At(this,Sl,null);At(this,ba,null);At(this,qp,!1);At(this,yo,null);xt(this,yo,i)}static initialize(i){Qo._l10nPromise||(Qo._l10nPromise=i)}async render(){const i=xt(this,vo,document.createElement("button"));i.className="altText";const s=await Qo._l10nPromise.get("pdfjs-editor-alt-text-button-label");i.textContent=s,i.setAttribute("aria-label",s),i.tabIndex="0";const o=tt(this,yo)._uiManager._signal;i.addEventListener("contextmenu",noContextMenu,{signal:o}),i.addEventListener("pointerdown",_e=>_e.stopPropagation(),{signal:o});const j=_e=>{_e.preventDefault(),tt(this,yo)._uiManager.editAltText(tt(this,yo))};return i.addEventListener("click",j,{capture:!0,signal:o}),i.addEventListener("keydown",_e=>{_e.target===i&&_e.key==="Enter"&&(xt(this,qp,!0),j(_e))},{signal:o}),await yt(this,kv,Z_).call(this),i}finish(){tt(this,vo)&&(tt(this,vo).focus({focusVisible:tt(this,qp)}),xt(this,qp,!1))}isEmpty(){return!tt(this,Al)&&!tt(this,wl)}get data(){return{altText:tt(this,Al),decorative:tt(this,wl)}}set data({altText:i,decorative:s}){tt(this,Al)===i&&tt(this,wl)===s||(xt(this,Al,i),xt(this,wl,s),yt(this,kv,Z_).call(this))}toggle(i=!1){tt(this,vo)&&(!i&&tt(this,ba)&&(clearTimeout(tt(this,ba)),xt(this,ba,null)),tt(this,vo).disabled=!i)}destroy(){var i;(i=tt(this,vo))==null||i.remove(),xt(this,vo,null),xt(this,Sl,null)}};Al=new WeakMap,wl=new WeakMap,vo=new WeakMap,Sl=new WeakMap,ba=new WeakMap,qp=new WeakMap,yo=new WeakMap,kv=new WeakSet,Z_=async function(){var j;const i=tt(this,vo);if(!i)return;if(!tt(this,Al)&&!tt(this,wl)){i.classList.remove("done"),(j=tt(this,Sl))==null||j.remove();return}i.classList.add("done"),Qo._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(_e=>{i.setAttribute("aria-label",_e)});let s=tt(this,Sl);if(!s){xt(this,Sl,s=document.createElement("span")),s.className="tooltip",s.setAttribute("role","tooltip");const _e=s.id=`alt-text-tooltip-${tt(this,yo).id}`;i.setAttribute("aria-describedby",_e);const et=100,nt=tt(this,yo)._uiManager._signal;nt.addEventListener("abort",()=>{clearTimeout(tt(this,ba)),xt(this,ba,null)},{once:!0}),i.addEventListener("mouseenter",()=>{xt(this,ba,setTimeout(()=>{xt(this,ba,null),tt(this,Sl).classList.add("show"),tt(this,yo)._reportTelemetry({action:"alt_text_tooltip"})},et))},{signal:nt}),i.addEventListener("mouseleave",()=>{var it;tt(this,ba)&&(clearTimeout(tt(this,ba)),xt(this,ba,null)),(it=tt(this,Sl))==null||it.classList.remove("show")},{signal:nt})}s.innerText=tt(this,wl)?await Qo._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):tt(this,Al),s.parentNode||i.append(s);const o=tt(this,yo).getImageForAltText();o==null||o.setAttribute("aria-describedby",s.id)},es(Qo,"_l10nPromise",null);let AltText=Qo;var Vu,_o,Hr,Kp,Wu,Ir,Gu,Yp,Qp,Ur,Rv,Xu,au,Pv,qu,Cl,No,Zp,Jp,ao,Mv,jy,Ds,J_,Fv,_b,ex,rA,aA,tx,nx,ix,oA,lA,cA,uA,sx,Km;const ir=class ir{constructor(i){At(this,Ds);At(this,Vu,null);At(this,_o,null);At(this,Hr,null);At(this,Kp,!1);At(this,Wu,!1);At(this,Ir,null);At(this,Gu,null);At(this,Yp,this.focusin.bind(this));At(this,Qp,this.focusout.bind(this));At(this,Ur,null);At(this,Rv,"");At(this,Xu,!1);At(this,au,null);At(this,Pv,!1);At(this,qu,!1);At(this,Cl,!1);At(this,No,null);At(this,Zp,0);At(this,Jp,0);At(this,ao,null);es(this,"_initialOptions",Object.create(null));es(this,"_isVisible",!0);es(this,"_uiManager",null);es(this,"_focusEventsAllowed",!0);es(this,"_l10nPromise",null);At(this,Mv,!1);At(this,jy,ir._zIndex++);this.constructor===ir&&unreachable("Cannot initialize AnnotationEditor."),this.parent=i.parent,this.id=i.id,this.width=this.height=null,this.pageIndex=i.parent.pageIndex,this.name=i.name,this.div=null,this._uiManager=i.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=i.isCentered,this._structTreeParentId=null;const{rotation:s,rawDims:{pageWidth:o,pageHeight:j,pageX:_e,pageY:et}}=this.parent.viewport;this.rotation=s,this.pageRotation=(360+s-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[o,j],this.pageTranslation=[_e,et];const[nt,it]=this.parentDimensions;this.x=i.x/nt,this.y=i.y/it,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const i=ir.prototype._resizeWithKeyboard,s=AnnotationEditorUIManager.TRANSLATE_SMALL,o=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_resizerKeyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],i,{args:[-s,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],i,{args:[-o,0]}],[["ArrowRight","mac+ArrowRight"],i,{args:[s,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],i,{args:[o,0]}],[["ArrowUp","mac+ArrowUp"],i,{args:[0,-s]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],i,{args:[0,-o]}],[["ArrowDown","mac+ArrowDown"],i,{args:[0,s]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],i,{args:[0,o]}],[["Escape","mac+Escape"],ir.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return shadow(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(i){const s=new FakeEditor({id:i.parent.getNextId(),parent:i.parent,uiManager:i._uiManager});s.annotationElementId=i.annotationElementId,s.deleted=!0,s._uiManager.addToAnnotationStorage(s)}static initialize(i,s,o){if(ir._l10nPromise||(ir._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(_e=>[_e,i.get(_e.replaceAll(/([A-Z])/g,et=>`-${et.toLowerCase()}`))]))),o!=null&&o.strings)for(const _e of o.strings)ir._l10nPromise.set(_e,i.get(_e));if(ir._borderLineWidth!==-1)return;const j=getComputedStyle(document.documentElement);ir._borderLineWidth=parseFloat(j.getPropertyValue("--outline-width"))||0}static updateDefaultParams(i,s){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(i){return!1}static paste(i,s){unreachable("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return tt(this,Mv)}set _isDraggable(i){var s;xt(this,Mv,i),(s=this.div)==null||s.classList.toggle("draggable",i)}get isEnterHandled(){return!0}center(){const[i,s]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*s/(i*2),this.y+=this.width*i/(s*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*s/(i*2),this.y-=this.width*i/(s*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(i){this._uiManager.addCommands(i)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=tt(this,jy)}setParent(i){i!==null?(this.pageIndex=i.pageIndex,this.pageDimensions=i.pageDimensions):yt(this,Ds,Km).call(this),this.parent=i}focusin(i){this._focusEventsAllowed&&(tt(this,Xu)?xt(this,Xu,!1):this.parent.setSelected(this))}focusout(i){var o;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const s=i.relatedTarget;s!=null&&s.closest(`#${this.id}`)||(i.preventDefault(),(o=this.parent)!=null&&o.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(i,s,o,j){const[_e,et]=this.parentDimensions;[o,j]=this.screenToPageTranslation(o,j),this.x=(i+o)/_e,this.y=(s+j)/et,this.fixAndSetPosition()}translate(i,s){yt(this,Ds,J_).call(this,this.parentDimensions,i,s)}translateInPage(i,s){tt(this,au)||xt(this,au,[this.x,this.y]),yt(this,Ds,J_).call(this,this.pageDimensions,i,s),this.div.scrollIntoView({block:"nearest"})}drag(i,s){tt(this,au)||xt(this,au,[this.x,this.y]);const[o,j]=this.parentDimensions;if(this.x+=i/o,this.y+=s/j,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:rt,y:st}=this.div.getBoundingClientRect();this.parent.findNewParent(this,rt,st)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:_e,y:et}=this;const[nt,it]=this.getBaseTranslation();_e+=nt,et+=it,this.div.style.left=`${(100*_e).toFixed(2)}%`,this.div.style.top=`${(100*et).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!tt(this,au)&&(tt(this,au)[0]!==this.x||tt(this,au)[1]!==this.y)}getBaseTranslation(){const[i,s]=this.parentDimensions,{_borderLineWidth:o}=ir,j=o/i,_e=o/s;switch(this.rotation){case 90:return[-j,_e];case 180:return[j,_e];case 270:return[j,-_e];default:return[-j,-_e]}}get _mustFixPosition(){return!0}fixAndSetPosition(i=this.rotation){const[s,o]=this.pageDimensions;let{x:j,y:_e,width:et,height:nt}=this;if(et*=s,nt*=o,j*=s,_e*=o,this._mustFixPosition)switch(i){case 0:j=Math.max(0,Math.min(s-et,j)),_e=Math.max(0,Math.min(o-nt,_e));break;case 90:j=Math.max(0,Math.min(s-nt,j)),_e=Math.min(o,Math.max(et,_e));break;case 180:j=Math.min(s,Math.max(et,j)),_e=Math.min(o,Math.max(nt,_e));break;case 270:j=Math.min(s,Math.max(nt,j)),_e=Math.max(0,Math.min(o-et,_e));break}this.x=j/=s,this.y=_e/=o;const[it,rt]=this.getBaseTranslation();j+=it,_e+=rt;const{style:st}=this.div;st.left=`${(100*j).toFixed(2)}%`,st.top=`${(100*_e).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(i,s){var o;return yt(o=ir,Fv,_b).call(o,i,s,this.parentRotation)}pageTranslationToScreen(i,s){var o;return yt(o=ir,Fv,_b).call(o,i,s,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:i,pageDimensions:[s,o]}=this,j=s*i,_e=o*i;return util_FeatureTest.isCSSRoundSupported?[Math.round(j),Math.round(_e)]:[j,_e]}setDims(i,s){const[o,j]=this.parentDimensions;this.div.style.width=`${(100*i/o).toFixed(2)}%`,tt(this,Wu)||(this.div.style.height=`${(100*s/j).toFixed(2)}%`)}fixDims(){const{style:i}=this.div,{height:s,width:o}=i,j=o.endsWith("%"),_e=!tt(this,Wu)&&s.endsWith("%");if(j&&_e)return;const[et,nt]=this.parentDimensions;j||(i.width=`${(100*parseFloat(o)/et).toFixed(2)}%`),!tt(this,Wu)&&!_e&&(i.height=`${(100*parseFloat(s)/nt).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var i;(i=tt(this,Hr))==null||i.finish()}async addEditToolbar(){return tt(this,Ur)||tt(this,qu)?tt(this,Ur):(xt(this,Ur,new EditorToolbar(this)),this.div.append(tt(this,Ur).render()),tt(this,Hr)&&tt(this,Ur).addAltTextButton(await tt(this,Hr).render()),tt(this,Ur))}removeEditToolbar(){var i;tt(this,Ur)&&(tt(this,Ur).remove(),xt(this,Ur,null),(i=tt(this,Hr))==null||i.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){tt(this,Hr)||(AltText.initialize(ir._l10nPromise),xt(this,Hr,new AltText(this)),tt(this,Vu)&&(tt(this,Hr).data=tt(this,Vu),xt(this,Vu,null)),await this.addEditToolbar())}get altTextData(){var i;return(i=tt(this,Hr))==null?void 0:i.data}set altTextData(i){tt(this,Hr)&&(tt(this,Hr).data=i)}hasAltText(){var i;return!((i=tt(this,Hr))!=null&&i.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=tt(this,Kp)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const i=this._uiManager._signal;this.div.addEventListener("focusin",tt(this,Yp),{signal:i}),this.div.addEventListener("focusout",tt(this,Qp),{signal:i});const[s,o]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*o/s).toFixed(2)}%`,this.div.style.maxHeight=`${(100*s/o).toFixed(2)}%`);const[j,_e]=this.getInitialTranslation();return this.translate(j,_e),bindEvents(this,this.div,["pointerdown"]),this.div}pointerdown(i){const{isMac:s}=util_FeatureTest.platform;if(i.button!==0||i.ctrlKey&&s){i.preventDefault();return}if(xt(this,Xu,!0),this._isDraggable){yt(this,Ds,oA).call(this,i);return}yt(this,Ds,ix).call(this,i)}moveInDOM(){tt(this,No)&&clearTimeout(tt(this,No)),xt(this,No,setTimeout(()=>{var i;xt(this,No,null),(i=this.parent)==null||i.moveEditorInDOM(this)},0))}_setParentAndPosition(i,s,o){i.changeParent(this),this.x=s,this.y=o,this.fixAndSetPosition()}getRect(i,s,o=this.rotation){const j=this.parentScale,[_e,et]=this.pageDimensions,[nt,it]=this.pageTranslation,rt=i/j,st=s/j,at=this.x*_e,ot=this.y*et,ut=this.width*_e,ct=this.height*et;switch(o){case 0:return[at+rt+nt,et-ot-st-ct+it,at+rt+ut+nt,et-ot-st+it];case 90:return[at+st+nt,et-ot+rt+it,at+st+ct+nt,et-ot+rt+ut+it];case 180:return[at-rt-ut+nt,et-ot+st+it,at-rt+nt,et-ot+st+ct+it];case 270:return[at-st-ct+nt,et-ot-rt-ut+it,at-st+nt,et-ot-rt+it];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(i,s){const[o,j,_e,et]=i,nt=_e-o,it=et-j;switch(this.rotation){case 0:return[o,s-et,nt,it];case 90:return[o,s-j,it,nt];case 180:return[_e,s-j,nt,it];case 270:return[_e,s-et,it,nt];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){xt(this,qu,!0)}disableEditMode(){xt(this,qu,!1)}isInEditMode(){return tt(this,qu)}shouldGetKeyboardEvents(){return tt(this,Cl)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var s,o;const i=this._uiManager._signal;(s=this.div)==null||s.addEventListener("focusin",tt(this,Yp),{signal:i}),(o=this.div)==null||o.addEventListener("focusout",tt(this,Qp),{signal:i})}rotate(i){}serialize(i=!1,s=null){unreachable("An editor must be serializable")}static deserialize(i,s,o){const j=new this.prototype.constructor({parent:s,id:s.getNextId(),uiManager:o});j.rotation=i.rotation,xt(j,Vu,i.accessibilityData);const[_e,et]=j.pageDimensions,[nt,it,rt,st]=j.getRectInCurrentCoords(i.rect,et);return j.x=nt/_e,j.y=it/et,j.width=rt/_e,j.height=st/et,j}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",tt(this,Yp)),this.div.removeEventListener("focusout",tt(this,Qp)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),tt(this,No)&&(clearTimeout(tt(this,No)),xt(this,No,null)),yt(this,Ds,Km).call(this),this.removeEditToolbar(),tt(this,ao)){for(const i of tt(this,ao).values())clearTimeout(i);xt(this,ao,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(yt(this,Ds,rA).call(this),tt(this,Ir).classList.remove("hidden"),bindEvents(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(i){if(!this.isResizable||i.target!==this.div||i.key!=="Enter")return;this._uiManager.setSelected(this),xt(this,Gu,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const s=tt(this,Ir).children;if(!tt(this,_o)){xt(this,_o,Array.from(s));const et=yt(this,Ds,lA).bind(this),nt=yt(this,Ds,cA).bind(this),it=this._uiManager._signal;for(const rt of tt(this,_o)){const st=rt.getAttribute("data-resizer-name");rt.setAttribute("role","spinbutton"),rt.addEventListener("keydown",et,{signal:it}),rt.addEventListener("blur",nt,{signal:it}),rt.addEventListener("focus",yt(this,Ds,uA).bind(this,st),{signal:it}),ir._l10nPromise.get(`pdfjs-editor-resizer-label-${st}`).then(at=>rt.setAttribute("aria-label",at))}}const o=tt(this,_o)[0];let j=0;for(const et of s){if(et===o)break;j++}const _e=(360-this.rotation+this.parentRotation)%360/90*(tt(this,_o).length/4);if(_e!==j){if(_e<j)for(let nt=0;nt<j-_e;nt++)tt(this,Ir).append(tt(this,Ir).firstChild);else if(_e>j)for(let nt=0;nt<_e-j;nt++)tt(this,Ir).firstChild.before(tt(this,Ir).lastChild);let et=0;for(const nt of s){const rt=tt(this,_o)[et++].getAttribute("data-resizer-name");ir._l10nPromise.get(`pdfjs-editor-resizer-label-${rt}`).then(st=>nt.setAttribute("aria-label",st))}}yt(this,Ds,sx).call(this,0),xt(this,Cl,!0),tt(this,Ir).firstChild.focus({focusVisible:!0}),i.preventDefault(),i.stopImmediatePropagation()}_resizeWithKeyboard(i,s){tt(this,Cl)&&yt(this,Ds,nx).call(this,tt(this,Rv),{movementX:i,movementY:s})}_stopResizingWithKeyboard(){yt(this,Ds,Km).call(this),this.div.focus()}select(){var i,s;if(this.makeResizable(),(i=this.div)==null||i.classList.add("selectedEditor"),!tt(this,Ur)){this.addEditToolbar().then(()=>{var o,j;(o=this.div)!=null&&o.classList.contains("selectedEditor")&&((j=tt(this,Ur))==null||j.show())});return}(s=tt(this,Ur))==null||s.show()}unselect(){var i,s,o,j;(i=tt(this,Ir))==null||i.classList.add("hidden"),(s=this.div)==null||s.classList.remove("selectedEditor"),(o=this.div)!=null&&o.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(j=tt(this,Ur))==null||j.hide()}updateParams(i,s){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return tt(this,Pv)}set isEditing(i){xt(this,Pv,i),this.parent&&(i?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(i,s){xt(this,Wu,!0);const o=i/s,{style:j}=this.div;j.aspectRatio=o,j.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(i,s=!1){if(s){tt(this,ao)||xt(this,ao,new Map);const{action:o}=i;let j=tt(this,ao).get(o);j&&clearTimeout(j),j=setTimeout(()=>{this._reportTelemetry(i),tt(this,ao).delete(o),tt(this,ao).size===0&&xt(this,ao,null)},ir._telemetryTimeout),tt(this,ao).set(o,j);return}i.type||(i.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:i}})}show(i=this._isVisible){this.div.classList.toggle("hidden",!i),this._isVisible=i}enable(){this.div&&(this.div.tabIndex=0),xt(this,Kp,!1)}disable(){this.div&&(this.div.tabIndex=-1),xt(this,Kp,!0)}renderAnnotationElement(i){let s=i.container.querySelector(".annotationContent");if(!s)s=document.createElement("div"),s.classList.add("annotationContent",this.editorType),i.container.prepend(s);else if(s.nodeName==="CANVAS"){const o=s;s=document.createElement("div"),s.classList.add("annotationContent",this.editorType),o.before(s)}return s}resetAnnotationElement(i){const{firstChild:s}=i.container;s.nodeName==="DIV"&&s.classList.contains("annotationContent")&&s.remove()}};Vu=new WeakMap,_o=new WeakMap,Hr=new WeakMap,Kp=new WeakMap,Wu=new WeakMap,Ir=new WeakMap,Gu=new WeakMap,Yp=new WeakMap,Qp=new WeakMap,Ur=new WeakMap,Rv=new WeakMap,Xu=new WeakMap,au=new WeakMap,Pv=new WeakMap,qu=new WeakMap,Cl=new WeakMap,No=new WeakMap,Zp=new WeakMap,Jp=new WeakMap,ao=new WeakMap,Mv=new WeakMap,jy=new WeakMap,Ds=new WeakSet,J_=function([i,s],o,j){[o,j]=this.screenToPageTranslation(o,j),this.x+=o/i,this.y+=j/s,this.fixAndSetPosition()},Fv=new WeakSet,_b=function(i,s,o){switch(o){case 90:return[s,-i];case 180:return[-i,-s];case 270:return[-s,i];default:return[i,s]}},ex=function(i){switch(i){case 90:{const[s,o]=this.pageDimensions;return[0,-s/o,o/s,0]}case 180:return[-1,0,0,-1];case 270:{const[s,o]=this.pageDimensions;return[0,s/o,-o/s,0]}default:return[1,0,0,1]}},rA=function(){if(tt(this,Ir))return;xt(this,Ir,document.createElement("div")),tt(this,Ir).classList.add("resizers");const i=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],s=this._uiManager._signal;for(const o of i){const j=document.createElement("div");tt(this,Ir).append(j),j.classList.add("resizer",o),j.setAttribute("data-resizer-name",o),j.addEventListener("pointerdown",yt(this,Ds,aA).bind(this,o),{signal:s}),j.addEventListener("contextmenu",noContextMenu,{signal:s}),j.tabIndex=-1}this.div.prepend(tt(this,Ir))},aA=function(i,s){var dt;s.preventDefault();const{isMac:o}=util_FeatureTest.platform;if(s.button!==0||s.ctrlKey&&o)return;(dt=tt(this,Hr))==null||dt.toggle(!1);const j=yt(this,Ds,nx).bind(this,i),_e=this._isDraggable;this._isDraggable=!1;const et=this._uiManager._signal,nt={passive:!0,capture:!0,signal:et};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",j,nt),window.addEventListener("contextmenu",noContextMenu,{signal:et});const it=this.x,rt=this.y,st=this.width,at=this.height,ot=this.parent.div.style.cursor,ut=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(s.target).cursor;const ct=()=>{var ft;this.parent.togglePointerEvents(!0),(ft=tt(this,Hr))==null||ft.toggle(!0),this._isDraggable=_e,window.removeEventListener("pointerup",ct),window.removeEventListener("blur",ct),window.removeEventListener("pointermove",j,nt),window.removeEventListener("contextmenu",noContextMenu),this.parent.div.style.cursor=ot,this.div.style.cursor=ut,yt(this,Ds,tx).call(this,it,rt,st,at)};window.addEventListener("pointerup",ct,{signal:et}),window.addEventListener("blur",ct,{signal:et})},tx=function(i,s,o,j){const _e=this.x,et=this.y,nt=this.width,it=this.height;_e===i&&et===s&&nt===o&&it===j||this.addCommands({cmd:()=>{this.width=nt,this.height=it,this.x=_e,this.y=et;const[rt,st]=this.parentDimensions;this.setDims(rt*nt,st*it),this.fixAndSetPosition()},undo:()=>{this.width=o,this.height=j,this.x=i,this.y=s;const[rt,st]=this.parentDimensions;this.setDims(rt*o,st*j),this.fixAndSetPosition()},mustExec:!0})},nx=function(i,s){const[o,j]=this.parentDimensions,_e=this.x,et=this.y,nt=this.width,it=this.height,rt=ir.MIN_SIZE/o,st=ir.MIN_SIZE/j,at=Ht=>Math.round(Ht*1e4)/1e4,ot=yt(this,Ds,ex).call(this,this.rotation),ut=(Ht,Ut)=>[ot[0]*Ht+ot[2]*Ut,ot[1]*Ht+ot[3]*Ut],ct=yt(this,Ds,ex).call(this,360-this.rotation),dt=(Ht,Ut)=>[ct[0]*Ht+ct[2]*Ut,ct[1]*Ht+ct[3]*Ut];let ft,lt,ht=!1,pt=!1;switch(i){case"topLeft":ht=!0,ft=(Ht,Ut)=>[0,0],lt=(Ht,Ut)=>[Ht,Ut];break;case"topMiddle":ft=(Ht,Ut)=>[Ht/2,0],lt=(Ht,Ut)=>[Ht/2,Ut];break;case"topRight":ht=!0,ft=(Ht,Ut)=>[Ht,0],lt=(Ht,Ut)=>[0,Ut];break;case"middleRight":pt=!0,ft=(Ht,Ut)=>[Ht,Ut/2],lt=(Ht,Ut)=>[0,Ut/2];break;case"bottomRight":ht=!0,ft=(Ht,Ut)=>[Ht,Ut],lt=(Ht,Ut)=>[0,0];break;case"bottomMiddle":ft=(Ht,Ut)=>[Ht/2,Ut],lt=(Ht,Ut)=>[Ht/2,0];break;case"bottomLeft":ht=!0,ft=(Ht,Ut)=>[0,Ut],lt=(Ht,Ut)=>[Ht,0];break;case"middleLeft":pt=!0,ft=(Ht,Ut)=>[0,Ut/2],lt=(Ht,Ut)=>[Ht,Ut/2];break}const vt=ft(nt,it),gt=lt(nt,it);let _t=ut(...gt);const mt=at(_e+_t[0]),bt=at(et+_t[1]);let Ct=1,Pt=1,[St,Mt]=this.screenToPageTranslation(s.movementX,s.movementY);if([St,Mt]=dt(St/o,Mt/j),ht){const Ht=Math.hypot(nt,it);Ct=Pt=Math.max(Math.min(Math.hypot(gt[0]-vt[0]-St,gt[1]-vt[1]-Mt)/Ht,1/nt,1/it),rt/nt,st/it)}else pt?Ct=Math.max(rt,Math.min(1,Math.abs(gt[0]-vt[0]-St)))/nt:Pt=Math.max(st,Math.min(1,Math.abs(gt[1]-vt[1]-Mt)))/it;const Dt=at(nt*Ct),Qt=at(it*Pt);_t=ut(...lt(Dt,Qt));const Xt=mt-_t[0],Yt=bt-_t[1];this.width=Dt,this.height=Qt,this.x=Xt,this.y=Yt,this.setDims(o*Dt,j*Qt),this.fixAndSetPosition()},ix=function(i){const{isMac:s}=util_FeatureTest.platform;i.ctrlKey&&!s||i.shiftKey||i.metaKey&&s?this.parent.toggleSelected(this):this.parent.setSelected(this)},oA=function(i){const s=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let o,j;const _e=this._uiManager._signal;s&&(this.div.classList.add("moving"),o={passive:!0,capture:!0,signal:_e},xt(this,Zp,i.clientX),xt(this,Jp,i.clientY),j=nt=>{const{clientX:it,clientY:rt}=nt,[st,at]=this.screenToPageTranslation(it-tt(this,Zp),rt-tt(this,Jp));xt(this,Zp,it),xt(this,Jp,rt),this._uiManager.dragSelectedEditors(st,at)},window.addEventListener("pointermove",j,o));const et=()=>{window.removeEventListener("pointerup",et),window.removeEventListener("blur",et),s&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",j,o)),xt(this,Xu,!1),this._uiManager.endDragSession()||yt(this,Ds,ix).call(this,i)};window.addEventListener("pointerup",et,{signal:_e}),window.addEventListener("blur",et,{signal:_e})},lA=function(i){ir._resizerKeyboardManager.exec(this,i)},cA=function(i){var s;tt(this,Cl)&&((s=i.relatedTarget)==null?void 0:s.parentNode)!==tt(this,Ir)&&yt(this,Ds,Km).call(this)},uA=function(i){xt(this,Rv,tt(this,Cl)?i:"")},sx=function(i){if(tt(this,_o))for(const s of tt(this,_o))s.tabIndex=i},Km=function(){if(xt(this,Cl,!1),yt(this,Ds,sx).call(this,-1),tt(this,Gu)){const{savedX:i,savedY:s,savedWidth:o,savedHeight:j}=tt(this,Gu);yt(this,Ds,tx).call(this,i,s,o,j),xt(this,Gu,null)}},At(ir,Fv),es(ir,"_borderLineWidth",-1),es(ir,"_colorManager",new ColorManager),es(ir,"_zIndex",1),es(ir,"_telemetryTimeout",1e3);let AnnotationEditor=ir;class FakeEditor extends AnnotationEditor{constructor(i){super(i),this.annotationElementId=i.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const SEED=3285377520,MASK_HIGH=4294901760,MASK_LOW=65535;class MurmurHash3_64{constructor(i){this.h1=i?i&4294967295:SEED,this.h2=i?i&4294967295:SEED}update(i){let s,o;if(typeof i=="string"){s=new Uint8Array(i.length*2),o=0;for(let dt=0,ft=i.length;dt<ft;dt++){const lt=i.charCodeAt(dt);lt<=255?s[o++]=lt:(s[o++]=lt>>>8,s[o++]=lt&255)}}else if(ArrayBuffer.isView(i))s=i.slice(),o=s.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const j=o>>2,_e=o-j*4,et=new Uint32Array(s.buffer,0,j);let nt=0,it=0,rt=this.h1,st=this.h2;const at=3432918353,ot=461845907,ut=at&MASK_LOW,ct=ot&MASK_LOW;for(let dt=0;dt<j;dt++)dt&1?(nt=et[dt],nt=nt*at&MASK_HIGH|nt*ut&MASK_LOW,nt=nt<<15|nt>>>17,nt=nt*ot&MASK_HIGH|nt*ct&MASK_LOW,rt^=nt,rt=rt<<13|rt>>>19,rt=rt*5+3864292196):(it=et[dt],it=it*at&MASK_HIGH|it*ut&MASK_LOW,it=it<<15|it>>>17,it=it*ot&MASK_HIGH|it*ct&MASK_LOW,st^=it,st=st<<13|st>>>19,st=st*5+3864292196);switch(nt=0,_e){case 3:nt^=s[j*4+2]<<16;case 2:nt^=s[j*4+1]<<8;case 1:nt^=s[j*4],nt=nt*at&MASK_HIGH|nt*ut&MASK_LOW,nt=nt<<15|nt>>>17,nt=nt*ot&MASK_HIGH|nt*ct&MASK_LOW,j&1?rt^=nt:st^=nt}this.h1=rt,this.h2=st}hexdigest(){let i=this.h1,s=this.h2;return i^=s>>>1,i=i*3981806797&MASK_HIGH|i*36045&MASK_LOW,s=s*4283543511&MASK_HIGH|((s<<16|i>>>16)*2950163797&MASK_HIGH)>>>16,i^=s>>>1,i=i*444984403&MASK_HIGH|i*60499&MASK_LOW,s=s*3301882366&MASK_HIGH|((s<<16|i>>>16)*3120437893&MASK_HIGH)>>>16,i^=s>>>1,(i>>>0).toString(16).padStart(8,"0")+(s>>>0).toString(16).padStart(8,"0")}}const SerializableEmpty=Object.freeze({map:null,hash:"",transfer:void 0});var Ku,Dr,$y,hA;class AnnotationStorage{constructor(){At(this,$y);At(this,Ku,!1);At(this,Dr,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(i,s){const o=tt(this,Dr).get(i);return o===void 0?s:Object.assign(s,o)}getRawValue(i){return tt(this,Dr).get(i)}remove(i){if(tt(this,Dr).delete(i),tt(this,Dr).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const s of tt(this,Dr).values())if(s instanceof AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(i,s){const o=tt(this,Dr).get(i);let j=!1;if(o!==void 0)for(const[_e,et]of Object.entries(s))o[_e]!==et&&(j=!0,o[_e]=et);else j=!0,tt(this,Dr).set(i,s);j&&yt(this,$y,hA).call(this),s instanceof AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(s.constructor._type)}has(i){return tt(this,Dr).has(i)}getAll(){return tt(this,Dr).size>0?objectFromMap(tt(this,Dr)):null}setAll(i){for(const[s,o]of Object.entries(i))this.setValue(s,o)}get size(){return tt(this,Dr).size}resetModified(){tt(this,Ku)&&(xt(this,Ku,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new PrintAnnotationStorage(this)}get serializable(){if(tt(this,Dr).size===0)return SerializableEmpty;const i=new Map,s=new MurmurHash3_64,o=[],j=Object.create(null);let _e=!1;for(const[et,nt]of tt(this,Dr)){const it=nt instanceof AnnotationEditor?nt.serialize(!1,j):nt;it&&(i.set(et,it),s.update(`${et}:${JSON.stringify(it)}`),_e||(_e=!!it.bitmap))}if(_e)for(const et of i.values())et.bitmap&&o.push(et.bitmap);return i.size>0?{map:i,hash:s.hexdigest(),transfer:o}:SerializableEmpty}get editorStats(){let i=null;const s=new Map;for(const o of tt(this,Dr).values()){if(!(o instanceof AnnotationEditor))continue;const j=o.telemetryFinalData;if(!j)continue;const{type:_e}=j;s.has(_e)||s.set(_e,Object.getPrototypeOf(o).constructor),i||(i=Object.create(null));const et=i[_e]||(i[_e]=new Map);for(const[nt,it]of Object.entries(j)){if(nt==="type")continue;let rt=et.get(nt);rt||(rt=new Map,et.set(nt,rt));const st=rt.get(it)??0;rt.set(it,st+1)}}for(const[o,j]of s)i[o]=j.computeTelemetryFinalData(i[o]);return i}}Ku=new WeakMap,Dr=new WeakMap,$y=new WeakSet,hA=function(){tt(this,Ku)||(xt(this,Ku,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Lv;class PrintAnnotationStorage extends AnnotationStorage{constructor(s){super();At(this,Lv);const{map:o,hash:j,transfer:_e}=s.serializable,et=structuredClone(o,_e?{transfer:_e}:null);xt(this,Lv,{map:et,hash:j,transfer:_e})}get print(){unreachable("Should not call PrintAnnotationStorage.print")}get serializable(){return tt(this,Lv)}}Lv=new WeakMap;var _g;class FontLoader{constructor({ownerDocument:i=globalThis.document,styleElement:s=null}){At(this,_g,new Set);this._document=i,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(i){this.nativeFontFaces.add(i),this._document.fonts.add(i)}removeNativeFontFace(i){this.nativeFontFaces.delete(i),this._document.fonts.delete(i)}insertRule(i){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const s=this.styleElement.sheet;s.insertRule(i,s.cssRules.length)}clear(){for(const i of this.nativeFontFaces)this._document.fonts.delete(i);this.nativeFontFaces.clear(),tt(this,_g).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:i,_inspectFont:s}){if(!(!i||tt(this,_g).has(i.loadedName))){if(assert(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:o,src:j,style:_e}=i,et=new FontFace(o,j,_e);this.addNativeFontFace(et);try{await et.load(),tt(this,_g).add(o),s==null||s(i)}catch{warn(`Cannot load system font: ${i.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(et)}return}unreachable("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(i){if(i.attached||i.missingFile&&!i.systemFontInfo)return;if(i.attached=!0,i.systemFontInfo){await this.loadSystemFont(i);return}if(this.isFontLoadingAPISupported){const o=i.createNativeFontFace();if(o){this.addNativeFontFace(o);try{await o.loaded}catch(j){throw warn(`Failed to load font '${o.family}': '${j}'.`),i.disableFontFace=!0,j}}return}const s=i.createFontFaceRule();if(s){if(this.insertRule(s),this.isSyncFontLoadingSupported)return;await new Promise(o=>{const j=this._queueLoadingCallback(o);this._prepareFontLoadEvent(i,j)})}}get isFontLoadingAPISupported(){var s;const i=!!((s=this._document)!=null&&s.fonts);return shadow(this,"isFontLoadingAPISupported",i)}get isSyncFontLoadingSupported(){let i=!1;return(isNodeJS||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(i=!0),shadow(this,"isSyncFontLoadingSupported",i)}_queueLoadingCallback(i){function s(){for(assert(!j.done,"completeRequest() cannot be called twice."),j.done=!0;o.length>0&&o[0].done;){const _e=o.shift();setTimeout(_e.callback,0)}}const{loadingRequests:o}=this,j={done:!1,complete:s,callback:i};return o.push(j),j}get _loadTestFont(){const i=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return shadow(this,"_loadTestFont",i)}_prepareFontLoadEvent(i,s){function o(vt,gt){return vt.charCodeAt(gt)<<24|vt.charCodeAt(gt+1)<<16|vt.charCodeAt(gt+2)<<8|vt.charCodeAt(gt+3)&255}function j(vt,gt,_t,mt){const bt=vt.substring(0,gt),Ct=vt.substring(gt+_t);return bt+mt+Ct}let _e,et;const nt=this._document.createElement("canvas");nt.width=1,nt.height=1;const it=nt.getContext("2d");let rt=0;function st(vt,gt){if(++rt>30){warn("Load test font never loaded."),gt();return}if(it.font="30px "+vt,it.fillText(".",0,20),it.getImageData(0,0,1,1).data[3]>0){gt();return}setTimeout(st.bind(null,vt,gt))}const at=`lt${Date.now()}${this.loadTestFontId++}`;let ot=this._loadTestFont;ot=j(ot,976,at.length,at);const ct=16,dt=1482184792;let ft=o(ot,ct);for(_e=0,et=at.length-3;_e<et;_e+=4)ft=ft-dt+o(at,_e)|0;_e<at.length&&(ft=ft-dt+o(at+"XXX",_e)|0),ot=j(ot,ct,4,string32(ft));const lt=`url(data:font/opentype;base64,${btoa(ot)});`,ht=`@font-face {font-family:"${at}";src:${lt}}`;this.insertRule(ht);const pt=this._document.createElement("div");pt.style.visibility="hidden",pt.style.width=pt.style.height="10px",pt.style.position="absolute",pt.style.top=pt.style.left="0px";for(const vt of[i.loadedName,at]){const gt=this._document.createElement("span");gt.textContent="Hi",gt.style.fontFamily=vt,pt.append(gt)}this._document.body.append(pt),st(at,()=>{pt.remove(),s.complete()})}}_g=new WeakMap;class FontFaceObject{constructor(i,{disableFontFace:s=!1,inspectFont:o=null}){this.compiledGlyphs=Object.create(null);for(const j in i)this[j]=i[j];this.disableFontFace=s===!0,this._inspectFont=o}createNativeFontFace(){var s;if(!this.data||this.disableFontFace)return null;let i;if(!this.cssFontInfo)i=new FontFace(this.loadedName,this.data,{});else{const o={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(o.style=`oblique ${this.cssFontInfo.italicAngle}deg`),i=new FontFace(this.cssFontInfo.fontFamily,this.data,o)}return(s=this._inspectFont)==null||s.call(this,this),i}createFontFaceRule(){var j;if(!this.data||this.disableFontFace)return null;const i=bytesToString(this.data),s=`url(data:${this.mimetype};base64,${btoa(i)});`;let o;if(!this.cssFontInfo)o=`@font-face {font-family:"${this.loadedName}";src:${s}}`;else{let _e=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(_e+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),o=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${_e}src:${s}}`}return(j=this._inspectFont)==null||j.call(this,this,s),o}getPathGenerator(i,s){if(this.compiledGlyphs[s]!==void 0)return this.compiledGlyphs[s];let o;try{o=i.get(this.loadedName+"_path_"+s)}catch(_e){warn(`getPathGenerator - ignoring character: "${_e}".`)}if(!Array.isArray(o)||o.length===0)return this.compiledGlyphs[s]=function(_e,et){};const j=[];for(let _e=0,et=o.length;_e<et;)switch(o[_e++]){case FontRenderOps.BEZIER_CURVE_TO:{const[nt,it,rt,st,at,ot]=o.slice(_e,_e+6);j.push(ut=>ut.bezierCurveTo(nt,it,rt,st,at,ot)),_e+=6}break;case FontRenderOps.MOVE_TO:{const[nt,it]=o.slice(_e,_e+2);j.push(rt=>rt.moveTo(nt,it)),_e+=2}break;case FontRenderOps.LINE_TO:{const[nt,it]=o.slice(_e,_e+2);j.push(rt=>rt.lineTo(nt,it)),_e+=2}break;case FontRenderOps.QUADRATIC_CURVE_TO:{const[nt,it,rt,st]=o.slice(_e,_e+4);j.push(at=>at.quadraticCurveTo(nt,it,rt,st)),_e+=4}break;case FontRenderOps.RESTORE:j.push(nt=>nt.restore());break;case FontRenderOps.SAVE:j.push(nt=>nt.save());break;case FontRenderOps.SCALE:assert(j.length===2,"Scale command is only valid at the third position.");break;case FontRenderOps.TRANSFORM:{const[nt,it,rt,st,at,ot]=o.slice(_e,_e+6);j.push(ut=>ut.transform(nt,it,rt,st,at,ot)),_e+=6}break;case FontRenderOps.TRANSLATE:{const[nt,it]=o.slice(_e,_e+2);j.push(rt=>rt.translate(nt,it)),_e+=2}break}return this.compiledGlyphs[s]=function(et,nt){j[0](et),j[1](et),et.scale(nt,-nt);for(let it=2,rt=j.length;it<rt;it++)j[it](et)}}}if(isNodeJS){var packageCapability=Promise.withResolvers(),packageMap=null;(async()=>{const i=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),[]),s=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0),o=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0),j=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0);let _e,et;return new Map(Object.entries({fs:i,http:s,https:o,url:j,canvas:_e,path2d:et}))})().then(i=>{packageMap=i,packageCapability.resolve()},i=>{warn(`loadPackages: ${i}`),packageMap=new Map,packageCapability.resolve()})}class NodePackages{static get promise(){return packageCapability.promise}static get(i){return packageMap==null?void 0:packageMap.get(i)}}const node_utils_fetchData=function(a){return NodePackages.get("fs").promises.readFile(a).then(s=>new Uint8Array(s))};class NodeFilterFactory extends BaseFilterFactory{}class NodeCanvasFactory extends BaseCanvasFactory{_createCanvas(i,s){return NodePackages.get("canvas").createCanvas(i,s)}}class NodeCMapReaderFactory extends BaseCMapReaderFactory{_fetchData(i,s){return node_utils_fetchData(i).then(o=>({cMapData:o,compressionType:s}))}}class NodeStandardFontDataFactory extends BaseStandardFontDataFactory{_fetchData(i){return node_utils_fetchData(i)}}const PathType={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function applyBoundingBox(a,i){if(!i)return;const s=i[2]-i[0],o=i[3]-i[1],j=new Path2D;j.rect(i[0],i[1],s,o),a.clip(j)}class BaseShadingPattern{constructor(){this.constructor===BaseShadingPattern&&unreachable("Cannot initialize BaseShadingPattern.")}getPattern(){unreachable("Abstract method `getPattern` called.")}}class RadialAxialShadingPattern extends BaseShadingPattern{constructor(i){super(),this._type=i[1],this._bbox=i[2],this._colorStops=i[3],this._p0=i[4],this._p1=i[5],this._r0=i[6],this._r1=i[7],this.matrix=null}_createGradient(i){let s;this._type==="axial"?s=i.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(s=i.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const o of this._colorStops)s.addColorStop(o[0],o[1]);return s}getPattern(i,s,o,j){let _e;if(j===PathType.STROKE||j===PathType.FILL){const et=s.current.getClippedPathBoundingBox(j,getCurrentTransform(i))||[0,0,0,0],nt=Math.ceil(et[2]-et[0])||1,it=Math.ceil(et[3]-et[1])||1,rt=s.cachedCanvases.getCanvas("pattern",nt,it,!0),st=rt.context;st.clearRect(0,0,st.canvas.width,st.canvas.height),st.beginPath(),st.rect(0,0,st.canvas.width,st.canvas.height),st.translate(-et[0],-et[1]),o=Util.transform(o,[1,0,0,1,et[0],et[1]]),st.transform(...s.baseTransform),this.matrix&&st.transform(...this.matrix),applyBoundingBox(st,this._bbox),st.fillStyle=this._createGradient(st),st.fill(),_e=i.createPattern(rt.canvas,"no-repeat");const at=new DOMMatrix(o);_e.setTransform(at)}else applyBoundingBox(i,this._bbox),_e=this._createGradient(i);return _e}}function drawTriangle(a,i,s,o,j,_e,et,nt){const it=i.coords,rt=i.colors,st=a.data,at=a.width*4;let ot;it[s+1]>it[o+1]&&(ot=s,s=o,o=ot,ot=_e,_e=et,et=ot),it[o+1]>it[j+1]&&(ot=o,o=j,j=ot,ot=et,et=nt,nt=ot),it[s+1]>it[o+1]&&(ot=s,s=o,o=ot,ot=_e,_e=et,et=ot);const ut=(it[s]+i.offsetX)*i.scaleX,ct=(it[s+1]+i.offsetY)*i.scaleY,dt=(it[o]+i.offsetX)*i.scaleX,ft=(it[o+1]+i.offsetY)*i.scaleY,lt=(it[j]+i.offsetX)*i.scaleX,ht=(it[j+1]+i.offsetY)*i.scaleY;if(ct>=ht)return;const pt=rt[_e],vt=rt[_e+1],gt=rt[_e+2],_t=rt[et],mt=rt[et+1],bt=rt[et+2],Ct=rt[nt],Pt=rt[nt+1],St=rt[nt+2],Mt=Math.round(ct),Dt=Math.round(ht);let Qt,Xt,Yt,Ht,Ut,Lt,zt,Zt;for(let Ft=Mt;Ft<=Dt;Ft++){if(Ft<ft){const Nt=Ft<ct?0:(ct-Ft)/(ct-ft);Qt=ut-(ut-dt)*Nt,Xt=pt-(pt-_t)*Nt,Yt=vt-(vt-mt)*Nt,Ht=gt-(gt-bt)*Nt}else{let Nt;Ft>ht?Nt=1:ft===ht?Nt=0:Nt=(ft-Ft)/(ft-ht),Qt=dt-(dt-lt)*Nt,Xt=_t-(_t-Ct)*Nt,Yt=mt-(mt-Pt)*Nt,Ht=bt-(bt-St)*Nt}let Et;Ft<ct?Et=0:Ft>ht?Et=1:Et=(ct-Ft)/(ct-ht),Ut=ut-(ut-lt)*Et,Lt=pt-(pt-Ct)*Et,zt=vt-(vt-Pt)*Et,Zt=gt-(gt-St)*Et;const Tt=Math.round(Math.min(Qt,Ut)),kt=Math.round(Math.max(Qt,Ut));let jt=at*Ft+Tt*4;for(let Nt=Tt;Nt<=kt;Nt++)Et=(Qt-Nt)/(Qt-Ut),Et<0?Et=0:Et>1&&(Et=1),st[jt++]=Xt-(Xt-Lt)*Et|0,st[jt++]=Yt-(Yt-zt)*Et|0,st[jt++]=Ht-(Ht-Zt)*Et|0,st[jt++]=255}}function drawFigure(a,i,s){const o=i.coords,j=i.colors;let _e,et;switch(i.type){case"lattice":const nt=i.verticesPerRow,it=Math.floor(o.length/nt)-1,rt=nt-1;for(_e=0;_e<it;_e++){let st=_e*nt;for(let at=0;at<rt;at++,st++)drawTriangle(a,s,o[st],o[st+1],o[st+nt],j[st],j[st+1],j[st+nt]),drawTriangle(a,s,o[st+nt+1],o[st+1],o[st+nt],j[st+nt+1],j[st+1],j[st+nt])}break;case"triangles":for(_e=0,et=o.length;_e<et;_e+=3)drawTriangle(a,s,o[_e],o[_e+1],o[_e+2],j[_e],j[_e+1],j[_e+2]);break;default:throw new Error("illegal figure")}}class MeshShadingPattern extends BaseShadingPattern{constructor(i){super(),this._coords=i[2],this._colors=i[3],this._figures=i[4],this._bounds=i[5],this._bbox=i[7],this._background=i[8],this.matrix=null}_createMeshCanvas(i,s,o){const nt=Math.floor(this._bounds[0]),it=Math.floor(this._bounds[1]),rt=Math.ceil(this._bounds[2])-nt,st=Math.ceil(this._bounds[3])-it,at=Math.min(Math.ceil(Math.abs(rt*i[0]*1.1)),3e3),ot=Math.min(Math.ceil(Math.abs(st*i[1]*1.1)),3e3),ut=rt/at,ct=st/ot,dt={coords:this._coords,colors:this._colors,offsetX:-nt,offsetY:-it,scaleX:1/ut,scaleY:1/ct},ft=at+2*2,lt=ot+2*2,ht=o.getCanvas("mesh",ft,lt,!1),pt=ht.context,vt=pt.createImageData(at,ot);if(s){const _t=vt.data;for(let mt=0,bt=_t.length;mt<bt;mt+=4)_t[mt]=s[0],_t[mt+1]=s[1],_t[mt+2]=s[2],_t[mt+3]=255}for(const _t of this._figures)drawFigure(vt,_t,dt);return pt.putImageData(vt,2,2),{canvas:ht.canvas,offsetX:nt-2*ut,offsetY:it-2*ct,scaleX:ut,scaleY:ct}}getPattern(i,s,o,j){applyBoundingBox(i,this._bbox);let _e;if(j===PathType.SHADING)_e=Util.singularValueDecompose2dScale(getCurrentTransform(i));else if(_e=Util.singularValueDecompose2dScale(s.baseTransform),this.matrix){const nt=Util.singularValueDecompose2dScale(this.matrix);_e=[_e[0]*nt[0],_e[1]*nt[1]]}const et=this._createMeshCanvas(_e,j===PathType.SHADING?null:this._background,s.cachedCanvases);return j!==PathType.SHADING&&(i.setTransform(...s.baseTransform),this.matrix&&i.transform(...this.matrix)),i.translate(et.offsetX,et.offsetY),i.scale(et.scaleX,et.scaleY),i.createPattern(et.canvas,"no-repeat")}}class DummyShadingPattern extends BaseShadingPattern{getPattern(){return"hotpink"}}function getShadingPattern(a){switch(a[0]){case"RadialAxial":return new RadialAxialShadingPattern(a);case"Mesh":return new MeshShadingPattern(a);case"Dummy":return new DummyShadingPattern}throw new Error(`Unknown IR type: ${a[0]}`)}const PaintType={COLORED:1,UNCOLORED:2},By=class By{constructor(i,s,o,j,_e){this.operatorList=i[2],this.matrix=i[3],this.bbox=i[4],this.xstep=i[5],this.ystep=i[6],this.paintType=i[7],this.tilingType=i[8],this.color=s,this.ctx=o,this.canvasGraphicsFactory=j,this.baseTransform=_e}createPatternCanvas(i){const s=this.operatorList,o=this.bbox,j=this.xstep,_e=this.ystep,et=this.paintType,nt=this.tilingType,it=this.color,rt=this.canvasGraphicsFactory;info("TilingType: "+nt);const st=o[0],at=o[1],ot=o[2],ut=o[3],ct=Util.singularValueDecompose2dScale(this.matrix),dt=Util.singularValueDecompose2dScale(this.baseTransform),ft=[ct[0]*dt[0],ct[1]*dt[1]],lt=this.getSizeAndScale(j,this.ctx.canvas.width,ft[0]),ht=this.getSizeAndScale(_e,this.ctx.canvas.height,ft[1]),pt=i.cachedCanvases.getCanvas("pattern",lt.size,ht.size,!0),vt=pt.context,gt=rt.createCanvasGraphics(vt);gt.groupLevel=i.groupLevel,this.setFillAndStrokeStyleToContext(gt,et,it);let _t=st,mt=at,bt=ot,Ct=ut;return st<0&&(_t=0,bt+=Math.abs(st)),at<0&&(mt=0,Ct+=Math.abs(at)),vt.translate(-(lt.scale*_t),-(ht.scale*mt)),gt.transform(lt.scale,0,0,ht.scale,0,0),vt.save(),this.clipBbox(gt,_t,mt,bt,Ct),gt.baseTransform=getCurrentTransform(gt.ctx),gt.executeOperatorList(s),gt.endDrawing(),{canvas:pt.canvas,scaleX:lt.scale,scaleY:ht.scale,offsetX:_t,offsetY:mt}}getSizeAndScale(i,s,o){i=Math.abs(i);const j=Math.max(By.MAX_PATTERN_SIZE,s);let _e=Math.ceil(i*o);return _e>=j?_e=j:o=_e/i,{scale:o,size:_e}}clipBbox(i,s,o,j,_e){const et=j-s,nt=_e-o;i.ctx.rect(s,o,et,nt),i.current.updateRectMinMax(getCurrentTransform(i.ctx),[s,o,j,_e]),i.clip(),i.endPath()}setFillAndStrokeStyleToContext(i,s,o){const j=i.ctx,_e=i.current;switch(s){case PaintType.COLORED:const et=this.ctx;j.fillStyle=et.fillStyle,j.strokeStyle=et.strokeStyle,_e.fillColor=et.fillStyle,_e.strokeColor=et.strokeStyle;break;case PaintType.UNCOLORED:const nt=Util.makeHexColor(o[0],o[1],o[2]);j.fillStyle=nt,j.strokeStyle=nt,_e.fillColor=nt,_e.strokeColor=nt;break;default:throw new FormatError(`Unsupported paint type: ${s}`)}}getPattern(i,s,o,j){let _e=o;j!==PathType.SHADING&&(_e=Util.transform(_e,s.baseTransform),this.matrix&&(_e=Util.transform(_e,this.matrix)));const et=this.createPatternCanvas(s);let nt=new DOMMatrix(_e);nt=nt.translate(et.offsetX,et.offsetY),nt=nt.scale(1/et.scaleX,1/et.scaleY);const it=i.createPattern(et.canvas,"repeat");return it.setTransform(nt),it}};es(By,"MAX_PATTERN_SIZE",3e3);let TilingPattern=By;function convertBlackAndWhiteToRGBA({src:a,srcPos:i=0,dest:s,width:o,height:j,nonBlackColor:_e=4294967295,inverseDecode:et=!1}){const nt=util_FeatureTest.isLittleEndian?4278190080:255,[it,rt]=et?[_e,nt]:[nt,_e],st=o>>3,at=o&7,ot=a.length;s=new Uint32Array(s.buffer);let ut=0;for(let ct=0;ct<j;ct++){for(const ft=i+st;i<ft;i++){const lt=i<ot?a[i]:255;s[ut++]=lt&128?rt:it,s[ut++]=lt&64?rt:it,s[ut++]=lt&32?rt:it,s[ut++]=lt&16?rt:it,s[ut++]=lt&8?rt:it,s[ut++]=lt&4?rt:it,s[ut++]=lt&2?rt:it,s[ut++]=lt&1?rt:it}if(at===0)continue;const dt=i<ot?a[i++]:255;for(let ft=0;ft<at;ft++)s[ut++]=dt&1<<7-ft?rt:it}return{srcPos:i,destPos:ut}}const MIN_FONT_SIZE=16,MAX_FONT_SIZE=100,EXECUTION_TIME=15,EXECUTION_STEPS=10,MAX_SIZE_TO_COMPILE=1e3,FULL_CHUNK_HEIGHT=16;function mirrorContextOperations(a,i){if(a._removeMirroring)throw new Error("Context is already forwarding operations.");a.__originalSave=a.save,a.__originalRestore=a.restore,a.__originalRotate=a.rotate,a.__originalScale=a.scale,a.__originalTranslate=a.translate,a.__originalTransform=a.transform,a.__originalSetTransform=a.setTransform,a.__originalResetTransform=a.resetTransform,a.__originalClip=a.clip,a.__originalMoveTo=a.moveTo,a.__originalLineTo=a.lineTo,a.__originalBezierCurveTo=a.bezierCurveTo,a.__originalRect=a.rect,a.__originalClosePath=a.closePath,a.__originalBeginPath=a.beginPath,a._removeMirroring=()=>{a.save=a.__originalSave,a.restore=a.__originalRestore,a.rotate=a.__originalRotate,a.scale=a.__originalScale,a.translate=a.__originalTranslate,a.transform=a.__originalTransform,a.setTransform=a.__originalSetTransform,a.resetTransform=a.__originalResetTransform,a.clip=a.__originalClip,a.moveTo=a.__originalMoveTo,a.lineTo=a.__originalLineTo,a.bezierCurveTo=a.__originalBezierCurveTo,a.rect=a.__originalRect,a.closePath=a.__originalClosePath,a.beginPath=a.__originalBeginPath,delete a._removeMirroring},a.save=function(){i.save(),this.__originalSave()},a.restore=function(){i.restore(),this.__originalRestore()},a.translate=function(o,j){i.translate(o,j),this.__originalTranslate(o,j)},a.scale=function(o,j){i.scale(o,j),this.__originalScale(o,j)},a.transform=function(o,j,_e,et,nt,it){i.transform(o,j,_e,et,nt,it),this.__originalTransform(o,j,_e,et,nt,it)},a.setTransform=function(o,j,_e,et,nt,it){i.setTransform(o,j,_e,et,nt,it),this.__originalSetTransform(o,j,_e,et,nt,it)},a.resetTransform=function(){i.resetTransform(),this.__originalResetTransform()},a.rotate=function(o){i.rotate(o),this.__originalRotate(o)},a.clip=function(o){i.clip(o),this.__originalClip(o)},a.moveTo=function(s,o){i.moveTo(s,o),this.__originalMoveTo(s,o)},a.lineTo=function(s,o){i.lineTo(s,o),this.__originalLineTo(s,o)},a.bezierCurveTo=function(s,o,j,_e,et,nt){i.bezierCurveTo(s,o,j,_e,et,nt),this.__originalBezierCurveTo(s,o,j,_e,et,nt)},a.rect=function(s,o,j,_e){i.rect(s,o,j,_e),this.__originalRect(s,o,j,_e)},a.closePath=function(){i.closePath(),this.__originalClosePath()},a.beginPath=function(){i.beginPath(),this.__originalBeginPath()}}class CachedCanvases{constructor(i){this.canvasFactory=i,this.cache=Object.create(null)}getCanvas(i,s,o){let j;return this.cache[i]!==void 0?(j=this.cache[i],this.canvasFactory.reset(j,s,o)):(j=this.canvasFactory.create(s,o),this.cache[i]=j),j}delete(i){delete this.cache[i]}clear(){for(const i in this.cache){const s=this.cache[i];this.canvasFactory.destroy(s),delete this.cache[i]}}}function drawImageAtIntegerCoords(a,i,s,o,j,_e,et,nt,it,rt){const[st,at,ot,ut,ct,dt]=getCurrentTransform(a);if(at===0&&ot===0){const ht=et*st+ct,pt=Math.round(ht),vt=nt*ut+dt,gt=Math.round(vt),_t=(et+it)*st+ct,mt=Math.abs(Math.round(_t)-pt)||1,bt=(nt+rt)*ut+dt,Ct=Math.abs(Math.round(bt)-gt)||1;return a.setTransform(Math.sign(st),0,0,Math.sign(ut),pt,gt),a.drawImage(i,s,o,j,_e,0,0,mt,Ct),a.setTransform(st,at,ot,ut,ct,dt),[mt,Ct]}if(st===0&&ut===0){const ht=nt*ot+ct,pt=Math.round(ht),vt=et*at+dt,gt=Math.round(vt),_t=(nt+rt)*ot+ct,mt=Math.abs(Math.round(_t)-pt)||1,bt=(et+it)*at+dt,Ct=Math.abs(Math.round(bt)-gt)||1;return a.setTransform(0,Math.sign(at),Math.sign(ot),0,pt,gt),a.drawImage(i,s,o,j,_e,0,0,Ct,mt),a.setTransform(st,at,ot,ut,ct,dt),[Ct,mt]}a.drawImage(i,s,o,j,_e,et,nt,it,rt);const ft=Math.hypot(st,at),lt=Math.hypot(ot,ut);return[ft*it,lt*rt]}function compileType3Glyph(a){const{width:i,height:s}=a;if(i>MAX_SIZE_TO_COMPILE||s>MAX_SIZE_TO_COMPILE)return null;const o=1e3,j=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),_e=i+1;let et=new Uint8Array(_e*(s+1)),nt,it,rt;const st=i+7&-8;let at=new Uint8Array(st*s),ot=0;for(const lt of a.data){let ht=128;for(;ht>0;)at[ot++]=lt&ht?0:255,ht>>=1}let ut=0;for(ot=0,at[ot]!==0&&(et[0]=1,++ut),it=1;it<i;it++)at[ot]!==at[ot+1]&&(et[it]=at[ot]?2:1,++ut),ot++;for(at[ot]!==0&&(et[it]=2,++ut),nt=1;nt<s;nt++){ot=nt*st,rt=nt*_e,at[ot-st]!==at[ot]&&(et[rt]=at[ot]?1:8,++ut);let lt=(at[ot]?4:0)+(at[ot-st]?8:0);for(it=1;it<i;it++)lt=(lt>>2)+(at[ot+1]?4:0)+(at[ot-st+1]?8:0),j[lt]&&(et[rt+it]=j[lt],++ut),ot++;if(at[ot-st]!==at[ot]&&(et[rt+it]=at[ot]?2:4,++ut),ut>o)return null}for(ot=st*(s-1),rt=nt*_e,at[ot]!==0&&(et[rt]=8,++ut),it=1;it<i;it++)at[ot]!==at[ot+1]&&(et[rt+it]=at[ot]?4:8,++ut),ot++;if(at[ot]!==0&&(et[rt+it]=4,++ut),ut>o)return null;const ct=new Int32Array([0,_e,-1,0,-_e,0,0,0,1]),dt=new Path2D;for(nt=0;ut&&nt<=s;nt++){let lt=nt*_e;const ht=lt+i;for(;lt<ht&&!et[lt];)lt++;if(lt===ht)continue;dt.moveTo(lt%_e,nt);const pt=lt;let vt=et[lt];do{const gt=ct[vt];do lt+=gt;while(!et[lt]);const _t=et[lt];_t!==5&&_t!==10?(vt=_t,et[lt]=0):(vt=_t&51*vt>>4,et[lt]&=vt>>2|vt<<2),dt.lineTo(lt%_e,lt/_e|0),et[lt]||--ut}while(pt!==lt);--nt}return at=null,et=null,function(lt){lt.save(),lt.scale(1/i,-1/s),lt.translate(0,-s),lt.fill(dt),lt.beginPath(),lt.restore()}}class CanvasExtraState{constructor(i,s){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,i,s])}clone(){const i=Object.create(this);return i.clipBox=this.clipBox.slice(),i}setCurrentPoint(i,s){this.x=i,this.y=s}updatePathMinMax(i,s,o){[s,o]=Util.applyTransform([s,o],i),this.minX=Math.min(this.minX,s),this.minY=Math.min(this.minY,o),this.maxX=Math.max(this.maxX,s),this.maxY=Math.max(this.maxY,o)}updateRectMinMax(i,s){const o=Util.applyTransform(s,i),j=Util.applyTransform(s.slice(2),i),_e=Util.applyTransform([s[0],s[3]],i),et=Util.applyTransform([s[2],s[1]],i);this.minX=Math.min(this.minX,o[0],j[0],_e[0],et[0]),this.minY=Math.min(this.minY,o[1],j[1],_e[1],et[1]),this.maxX=Math.max(this.maxX,o[0],j[0],_e[0],et[0]),this.maxY=Math.max(this.maxY,o[1],j[1],_e[1],et[1])}updateScalingPathMinMax(i,s){Util.scaleMinMax(i,s),this.minX=Math.min(this.minX,s[0]),this.minY=Math.min(this.minY,s[1]),this.maxX=Math.max(this.maxX,s[2]),this.maxY=Math.max(this.maxY,s[3])}updateCurvePathMinMax(i,s,o,j,_e,et,nt,it,rt,st){const at=Util.bezierBoundingBox(s,o,j,_e,et,nt,it,rt,st);st||this.updateRectMinMax(i,at)}getPathBoundingBox(i=PathType.FILL,s=null){const o=[this.minX,this.minY,this.maxX,this.maxY];if(i===PathType.STROKE){s||unreachable("Stroke bounding box must include transform.");const j=Util.singularValueDecompose2dScale(s),_e=j[0]*this.lineWidth/2,et=j[1]*this.lineWidth/2;o[0]-=_e,o[1]-=et,o[2]+=_e,o[3]+=et}return o}updateClipFromPath(){const i=Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(i||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(i){this.clipBox=i,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(i=PathType.FILL,s=null){return Util.intersect(this.clipBox,this.getPathBoundingBox(i,s))}}function putBinaryImageData(a,i){if(typeof ImageData<"u"&&i instanceof ImageData){a.putImageData(i,0,0);return}const s=i.height,o=i.width,j=s%FULL_CHUNK_HEIGHT,_e=(s-j)/FULL_CHUNK_HEIGHT,et=j===0?_e:_e+1,nt=a.createImageData(o,FULL_CHUNK_HEIGHT);let it=0,rt;const st=i.data,at=nt.data;let ot,ut,ct,dt;if(i.kind===util_ImageKind.GRAYSCALE_1BPP){const ft=st.byteLength,lt=new Uint32Array(at.buffer,0,at.byteLength>>2),ht=lt.length,pt=o+7>>3,vt=4294967295,gt=util_FeatureTest.isLittleEndian?4278190080:255;for(ot=0;ot<et;ot++){for(ct=ot<_e?FULL_CHUNK_HEIGHT:j,rt=0,ut=0;ut<ct;ut++){const _t=ft-it;let mt=0;const bt=_t>pt?o:_t*8-7,Ct=bt&-8;let Pt=0,St=0;for(;mt<Ct;mt+=8)St=st[it++],lt[rt++]=St&128?vt:gt,lt[rt++]=St&64?vt:gt,lt[rt++]=St&32?vt:gt,lt[rt++]=St&16?vt:gt,lt[rt++]=St&8?vt:gt,lt[rt++]=St&4?vt:gt,lt[rt++]=St&2?vt:gt,lt[rt++]=St&1?vt:gt;for(;mt<bt;mt++)Pt===0&&(St=st[it++],Pt=128),lt[rt++]=St&Pt?vt:gt,Pt>>=1}for(;rt<ht;)lt[rt++]=0;a.putImageData(nt,0,ot*FULL_CHUNK_HEIGHT)}}else if(i.kind===util_ImageKind.RGBA_32BPP){for(ut=0,dt=o*FULL_CHUNK_HEIGHT*4,ot=0;ot<_e;ot++)at.set(st.subarray(it,it+dt)),it+=dt,a.putImageData(nt,0,ut),ut+=FULL_CHUNK_HEIGHT;ot<et&&(dt=o*j*4,at.set(st.subarray(it,it+dt)),a.putImageData(nt,0,ut))}else if(i.kind===util_ImageKind.RGB_24BPP)for(ct=FULL_CHUNK_HEIGHT,dt=o*ct,ot=0;ot<et;ot++){for(ot>=_e&&(ct=j,dt=o*ct),rt=0,ut=dt;ut--;)at[rt++]=st[it++],at[rt++]=st[it++],at[rt++]=st[it++],at[rt++]=255;a.putImageData(nt,0,ot*FULL_CHUNK_HEIGHT)}else throw new Error(`bad image kind: ${i.kind}`)}function putBinaryImageMask(a,i){if(i.bitmap){a.drawImage(i.bitmap,0,0);return}const s=i.height,o=i.width,j=s%FULL_CHUNK_HEIGHT,_e=(s-j)/FULL_CHUNK_HEIGHT,et=j===0?_e:_e+1,nt=a.createImageData(o,FULL_CHUNK_HEIGHT);let it=0;const rt=i.data,st=nt.data;for(let at=0;at<et;at++){const ot=at<_e?FULL_CHUNK_HEIGHT:j;({srcPos:it}=convertBlackAndWhiteToRGBA({src:rt,srcPos:it,dest:st,width:o,height:ot,nonBlackColor:0})),a.putImageData(nt,0,at*FULL_CHUNK_HEIGHT)}}function copyCtxState(a,i){const s=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const o of s)a[o]!==void 0&&(i[o]=a[o]);a.setLineDash!==void 0&&(i.setLineDash(a.getLineDash()),i.lineDashOffset=a.lineDashOffset)}function resetCtxToDefault(a){if(a.strokeStyle=a.fillStyle="#000000",a.fillRule="nonzero",a.globalAlpha=1,a.lineWidth=1,a.lineCap="butt",a.lineJoin="miter",a.miterLimit=10,a.globalCompositeOperation="source-over",a.font="10px sans-serif",a.setLineDash!==void 0&&(a.setLineDash([]),a.lineDashOffset=0),!isNodeJS){const{filter:i}=a;i!=="none"&&i!==""&&(a.filter="none")}}function getImageSmoothingEnabled(a,i){if(i)return!0;const s=Util.singularValueDecompose2dScale(a);s[0]=Math.fround(s[0]),s[1]=Math.fround(s[1]);const o=Math.fround((globalThis.devicePixelRatio||1)*PixelsPerInch.PDF_TO_CSS_UNITS);return s[0]<=o&&s[1]<=o}const LINE_CAP_STYLES=["butt","round","square"],LINE_JOIN_STYLES=["miter","round","bevel"],NORMAL_CLIP={},EO_CLIP={};var wu,rx,ax;const jx=class jx{constructor(i,s,o,j,_e,{optionalContentConfig:et,markedContentStack:nt=null},it,rt){At(this,wu);this.ctx=i,this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=s,this.objs=o,this.canvasFactory=j,this.filterFactory=_e,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=nt||[],this.optionalContentConfig=et,this.cachedCanvases=new CachedCanvases(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=it,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=rt,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(i,s=null){return typeof i=="string"?i.startsWith("g_")?this.commonObjs.get(i):this.objs.get(i):s}beginDrawing({transform:i,viewport:s,transparency:o=!1,background:j=null}){const _e=this.ctx.canvas.width,et=this.ctx.canvas.height,nt=this.ctx.fillStyle;if(this.ctx.fillStyle=j||"#ffffff",this.ctx.fillRect(0,0,_e,et),this.ctx.fillStyle=nt,o){const it=this.cachedCanvases.getCanvas("transparent",_e,et);this.compositeCtx=this.ctx,this.transparentCanvas=it.canvas,this.ctx=it.context,this.ctx.save(),this.ctx.transform(...getCurrentTransform(this.compositeCtx))}this.ctx.save(),resetCtxToDefault(this.ctx),i&&(this.ctx.transform(...i),this.outputScaleX=i[0],this.outputScaleY=i[0]),this.ctx.transform(...s.transform),this.viewportScale=s.scale,this.baseTransform=getCurrentTransform(this.ctx)}executeOperatorList(i,s,o,j){const _e=i.argsArray,et=i.fnArray;let nt=s||0;const it=_e.length;if(it===nt)return nt;const rt=it-nt>EXECUTION_STEPS&&typeof o=="function",st=rt?Date.now()+EXECUTION_TIME:0;let at=0;const ot=this.commonObjs,ut=this.objs;let ct;for(;;){if(j!==void 0&&nt===j.nextBreakPoint)return j.breakIt(nt,o),nt;if(ct=et[nt],ct!==OPS.dependency)this[ct].apply(this,_e[nt]);else for(const dt of _e[nt]){const ft=dt.startsWith("g_")?ot:ut;if(!ft.has(dt))return ft.get(dt,o),nt}if(nt++,nt===it)return nt;if(rt&&++at>EXECUTION_STEPS){if(Date.now()>st)return o(),nt;at=0}}}endDrawing(){yt(this,wu,rx).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const i of this._cachedBitmapsMap.values()){for(const s of i.values())typeof HTMLCanvasElement<"u"&&s instanceof HTMLCanvasElement&&(s.width=s.height=0);i.clear()}this._cachedBitmapsMap.clear(),yt(this,wu,ax).call(this)}_scaleImage(i,s){const o=i.width,j=i.height;let _e=Math.max(Math.hypot(s[0],s[1]),1),et=Math.max(Math.hypot(s[2],s[3]),1),nt=o,it=j,rt="prescale1",st,at;for(;_e>2&&nt>1||et>2&&it>1;){let ot=nt,ut=it;_e>2&&nt>1&&(ot=nt>=16384?Math.floor(nt/2)-1||1:Math.ceil(nt/2),_e/=nt/ot),et>2&&it>1&&(ut=it>=16384?Math.floor(it/2)-1||1:Math.ceil(it)/2,et/=it/ut),st=this.cachedCanvases.getCanvas(rt,ot,ut),at=st.context,at.clearRect(0,0,ot,ut),at.drawImage(i,0,0,nt,it,0,0,ot,ut),i=st.canvas,nt=ot,it=ut,rt=rt==="prescale1"?"prescale2":"prescale1"}return{img:i,paintWidth:nt,paintHeight:it}}_createMaskCanvas(i){const s=this.ctx,{width:o,height:j}=i,_e=this.current.fillColor,et=this.current.patternFill,nt=getCurrentTransform(s);let it,rt,st,at;if((i.bitmap||i.data)&&i.count>1){const bt=i.bitmap||i.data.buffer;rt=JSON.stringify(et?nt:[nt.slice(0,4),_e]),it=this._cachedBitmapsMap.get(bt),it||(it=new Map,this._cachedBitmapsMap.set(bt,it));const Ct=it.get(rt);if(Ct&&!et){const Pt=Math.round(Math.min(nt[0],nt[2])+nt[4]),St=Math.round(Math.min(nt[1],nt[3])+nt[5]);return{canvas:Ct,offsetX:Pt,offsetY:St}}st=Ct}st||(at=this.cachedCanvases.getCanvas("maskCanvas",o,j),putBinaryImageMask(at.context,i));let ot=Util.transform(nt,[1/o,0,0,-1/j,0,0]);ot=Util.transform(ot,[1,0,0,1,0,-j]);const[ut,ct,dt,ft]=Util.getAxialAlignedBoundingBox([0,0,o,j],ot),lt=Math.round(dt-ut)||1,ht=Math.round(ft-ct)||1,pt=this.cachedCanvases.getCanvas("fillCanvas",lt,ht),vt=pt.context,gt=ut,_t=ct;vt.translate(-gt,-_t),vt.transform(...ot),st||(st=this._scaleImage(at.canvas,getCurrentTransformInverse(vt)),st=st.img,it&&et&&it.set(rt,st)),vt.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(vt),i.interpolate),drawImageAtIntegerCoords(vt,st,0,0,st.width,st.height,0,0,o,j),vt.globalCompositeOperation="source-in";const mt=Util.transform(getCurrentTransformInverse(vt),[1,0,0,1,-gt,-_t]);return vt.fillStyle=et?_e.getPattern(s,this,mt,PathType.FILL):_e,vt.fillRect(0,0,o,j),it&&!et&&(this.cachedCanvases.delete("fillCanvas"),it.set(rt,pt.canvas)),{canvas:pt.canvas,offsetX:Math.round(gt),offsetY:Math.round(_t)}}setLineWidth(i){i!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=i,this.ctx.lineWidth=i}setLineCap(i){this.ctx.lineCap=LINE_CAP_STYLES[i]}setLineJoin(i){this.ctx.lineJoin=LINE_JOIN_STYLES[i]}setMiterLimit(i){this.ctx.miterLimit=i}setDash(i,s){const o=this.ctx;o.setLineDash!==void 0&&(o.setLineDash(i),o.lineDashOffset=s)}setRenderingIntent(i){}setFlatness(i){}setGState(i){for(const[s,o]of i)switch(s){case"LW":this.setLineWidth(o);break;case"LC":this.setLineCap(o);break;case"LJ":this.setLineJoin(o);break;case"ML":this.setMiterLimit(o);break;case"D":this.setDash(o[0],o[1]);break;case"RI":this.setRenderingIntent(o);break;case"FL":this.setFlatness(o);break;case"Font":this.setFont(o[0],o[1]);break;case"CA":this.current.strokeAlpha=o;break;case"ca":this.current.fillAlpha=o,this.ctx.globalAlpha=o;break;case"BM":this.ctx.globalCompositeOperation=o;break;case"SMask":this.current.activeSMask=o?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(o);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const i=this.inSMaskMode;this.current.activeSMask&&!i?this.beginSMaskMode():!this.current.activeSMask&&i&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const i=this.ctx.canvas.width,s=this.ctx.canvas.height,o="smaskGroupAt"+this.groupLevel,j=this.cachedCanvases.getCanvas(o,i,s);this.suspendedCtx=this.ctx,this.ctx=j.context;const _e=this.ctx;_e.setTransform(...getCurrentTransform(this.suspendedCtx)),copyCtxState(this.suspendedCtx,_e),mirrorContextOperations(_e,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),copyCtxState(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(i){if(!this.current.activeSMask)return;i?(i[0]=Math.floor(i[0]),i[1]=Math.floor(i[1]),i[2]=Math.ceil(i[2]),i[3]=Math.ceil(i[3])):i=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const s=this.current.activeSMask,o=this.suspendedCtx;this.composeSMask(o,s,this.ctx,i),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(i,s,o,j){const _e=j[0],et=j[1],nt=j[2]-_e,it=j[3]-et;nt===0||it===0||(this.genericComposeSMask(s.context,o,nt,it,s.subtype,s.backdrop,s.transferMap,_e,et,s.offsetX,s.offsetY),i.save(),i.globalAlpha=1,i.globalCompositeOperation="source-over",i.setTransform(1,0,0,1,0,0),i.drawImage(o.canvas,0,0),i.restore())}genericComposeSMask(i,s,o,j,_e,et,nt,it,rt,st,at){let ot=i.canvas,ut=it-st,ct=rt-at;if(et){if(ut<0||ct<0||ut+o>ot.width||ct+j>ot.height){const ft=this.cachedCanvases.getCanvas("maskExtension",o,j),lt=ft.context;lt.drawImage(ot,-ut,-ct),et.some(ht=>ht!==0)&&(lt.globalCompositeOperation="destination-atop",lt.fillStyle=Util.makeHexColor(...et),lt.fillRect(0,0,o,j),lt.globalCompositeOperation="source-over"),ot=ft.canvas,ut=ct=0}else if(et.some(ft=>ft!==0)){i.save(),i.globalAlpha=1,i.setTransform(1,0,0,1,0,0);const ft=new Path2D;ft.rect(ut,ct,o,j),i.clip(ft),i.globalCompositeOperation="destination-atop",i.fillStyle=Util.makeHexColor(...et),i.fillRect(ut,ct,o,j),i.restore()}}s.save(),s.globalAlpha=1,s.setTransform(1,0,0,1,0,0),_e==="Alpha"&&nt?s.filter=this.filterFactory.addAlphaFilter(nt):_e==="Luminosity"&&(s.filter=this.filterFactory.addLuminosityFilter(nt));const dt=new Path2D;dt.rect(it,rt,o,j),s.clip(dt),s.globalCompositeOperation="destination-in",s.drawImage(ot,ut,ct,o,j,it,rt,o,j),s.restore()}save(){this.inSMaskMode?(copyCtxState(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const i=this.current;this.stateStack.push(i),this.current=i.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),copyCtxState(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(i,s,o,j,_e,et){this.ctx.transform(i,s,o,j,_e,et),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(i,s,o){const j=this.ctx,_e=this.current;let et=_e.x,nt=_e.y,it,rt;const st=getCurrentTransform(j),at=st[0]===0&&st[3]===0||st[1]===0&&st[2]===0,ot=at?o.slice(0):null;for(let ut=0,ct=0,dt=i.length;ut<dt;ut++)switch(i[ut]|0){case OPS.rectangle:et=s[ct++],nt=s[ct++];const ft=s[ct++],lt=s[ct++],ht=et+ft,pt=nt+lt;j.moveTo(et,nt),ft===0||lt===0?j.lineTo(ht,pt):(j.lineTo(ht,nt),j.lineTo(ht,pt),j.lineTo(et,pt)),at||_e.updateRectMinMax(st,[et,nt,ht,pt]),j.closePath();break;case OPS.moveTo:et=s[ct++],nt=s[ct++],j.moveTo(et,nt),at||_e.updatePathMinMax(st,et,nt);break;case OPS.lineTo:et=s[ct++],nt=s[ct++],j.lineTo(et,nt),at||_e.updatePathMinMax(st,et,nt);break;case OPS.curveTo:it=et,rt=nt,et=s[ct+4],nt=s[ct+5],j.bezierCurveTo(s[ct],s[ct+1],s[ct+2],s[ct+3],et,nt),_e.updateCurvePathMinMax(st,it,rt,s[ct],s[ct+1],s[ct+2],s[ct+3],et,nt,ot),ct+=6;break;case OPS.curveTo2:it=et,rt=nt,j.bezierCurveTo(et,nt,s[ct],s[ct+1],s[ct+2],s[ct+3]),_e.updateCurvePathMinMax(st,it,rt,et,nt,s[ct],s[ct+1],s[ct+2],s[ct+3],ot),et=s[ct+2],nt=s[ct+3],ct+=4;break;case OPS.curveTo3:it=et,rt=nt,et=s[ct+2],nt=s[ct+3],j.bezierCurveTo(s[ct],s[ct+1],et,nt,et,nt),_e.updateCurvePathMinMax(st,it,rt,s[ct],s[ct+1],et,nt,et,nt,ot),ct+=4;break;case OPS.closePath:j.closePath();break}at&&_e.updateScalingPathMinMax(st,ot),_e.setCurrentPoint(et,nt)}closePath(){this.ctx.closePath()}stroke(i=!0){const s=this.ctx,o=this.current.strokeColor;s.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof o=="object"&&(o!=null&&o.getPattern)?(s.save(),s.strokeStyle=o.getPattern(s,this,getCurrentTransformInverse(s),PathType.STROKE),this.rescaleAndStroke(!1),s.restore()):this.rescaleAndStroke(!0)),i&&this.consumePath(this.current.getClippedPathBoundingBox()),s.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(i=!0){const s=this.ctx,o=this.current.fillColor,j=this.current.patternFill;let _e=!1;j&&(s.save(),s.fillStyle=o.getPattern(s,this,getCurrentTransformInverse(s),PathType.FILL),_e=!0);const et=this.current.getClippedPathBoundingBox();this.contentVisible&&et!==null&&(this.pendingEOFill?(s.fill("evenodd"),this.pendingEOFill=!1):s.fill()),_e&&s.restore(),i&&this.consumePath(et)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=NORMAL_CLIP}eoClip(){this.pendingClip=EO_CLIP}beginText(){this.current.textMatrix=IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const i=this.pendingTextPaths,s=this.ctx;if(i===void 0){s.beginPath();return}s.save(),s.beginPath();for(const o of i)s.setTransform(...o.transform),s.translate(o.x,o.y),o.addToPath(s,o.fontSize);s.restore(),s.clip(),s.beginPath(),delete this.pendingTextPaths}setCharSpacing(i){this.current.charSpacing=i}setWordSpacing(i){this.current.wordSpacing=i}setHScale(i){this.current.textHScale=i/100}setLeading(i){this.current.leading=-i}setFont(i,s){var st;const o=this.commonObjs.get(i),j=this.current;if(!o)throw new Error(`Can't find font for ${i}`);if(j.fontMatrix=o.fontMatrix||FONT_IDENTITY_MATRIX,(j.fontMatrix[0]===0||j.fontMatrix[3]===0)&&warn("Invalid font matrix for font "+i),s<0?(s=-s,j.fontDirection=-1):j.fontDirection=1,this.current.font=o,this.current.fontSize=s,o.isType3Font)return;const _e=o.loadedName||"sans-serif",et=((st=o.systemFontInfo)==null?void 0:st.css)||`"${_e}", ${o.fallbackName}`;let nt="normal";o.black?nt="900":o.bold&&(nt="bold");const it=o.italic?"italic":"normal";let rt=s;s<MIN_FONT_SIZE?rt=MIN_FONT_SIZE:s>MAX_FONT_SIZE&&(rt=MAX_FONT_SIZE),this.current.fontSizeScale=s/rt,this.ctx.font=`${it} ${nt} ${rt}px ${et}`}setTextRenderingMode(i){this.current.textRenderingMode=i}setTextRise(i){this.current.textRise=i}moveText(i,s){this.current.x=this.current.lineX+=i,this.current.y=this.current.lineY+=s}setLeadingMoveText(i,s){this.setLeading(-s),this.moveText(i,s)}setTextMatrix(i,s,o,j,_e,et){this.current.textMatrix=[i,s,o,j,_e,et],this.current.textMatrixScale=Math.hypot(i,s),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(i,s,o,j){const _e=this.ctx,et=this.current,nt=et.font,it=et.textRenderingMode,rt=et.fontSize/et.fontSizeScale,st=it&TextRenderingMode.FILL_STROKE_MASK,at=!!(it&TextRenderingMode.ADD_TO_PATH_FLAG),ot=et.patternFill&&!nt.missingFile;let ut;(nt.disableFontFace||at||ot)&&(ut=nt.getPathGenerator(this.commonObjs,i)),nt.disableFontFace||ot?(_e.save(),_e.translate(s,o),_e.beginPath(),ut(_e,rt),j&&_e.setTransform(...j),(st===TextRenderingMode.FILL||st===TextRenderingMode.FILL_STROKE)&&_e.fill(),(st===TextRenderingMode.STROKE||st===TextRenderingMode.FILL_STROKE)&&_e.stroke(),_e.restore()):((st===TextRenderingMode.FILL||st===TextRenderingMode.FILL_STROKE)&&_e.fillText(i,s,o),(st===TextRenderingMode.STROKE||st===TextRenderingMode.FILL_STROKE)&&_e.strokeText(i,s,o)),at&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:getCurrentTransform(_e),x:s,y:o,fontSize:rt,addToPath:ut})}get isFontSubpixelAAEnabled(){const{context:i}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);i.scale(1.5,1),i.fillText("I",0,10);const s=i.getImageData(0,0,10,10).data;let o=!1;for(let j=3;j<s.length;j+=4)if(s[j]>0&&s[j]<255){o=!0;break}return shadow(this,"isFontSubpixelAAEnabled",o)}showText(i){const s=this.current,o=s.font;if(o.isType3Font)return this.showType3Text(i);const j=s.fontSize;if(j===0)return;const _e=this.ctx,et=s.fontSizeScale,nt=s.charSpacing,it=s.wordSpacing,rt=s.fontDirection,st=s.textHScale*rt,at=i.length,ot=o.vertical,ut=ot?1:-1,ct=o.defaultVMetrics,dt=j*s.fontMatrix[0],ft=s.textRenderingMode===TextRenderingMode.FILL&&!o.disableFontFace&&!s.patternFill;_e.save(),_e.transform(...s.textMatrix),_e.translate(s.x,s.y+s.textRise),rt>0?_e.scale(st,-1):_e.scale(st,1);let lt;if(s.patternFill){_e.save();const _t=s.fillColor.getPattern(_e,this,getCurrentTransformInverse(_e),PathType.FILL);lt=getCurrentTransform(_e),_e.restore(),_e.fillStyle=_t}let ht=s.lineWidth;const pt=s.textMatrixScale;if(pt===0||ht===0){const _t=s.textRenderingMode&TextRenderingMode.FILL_STROKE_MASK;(_t===TextRenderingMode.STROKE||_t===TextRenderingMode.FILL_STROKE)&&(ht=this.getSinglePixelWidth())}else ht/=pt;if(et!==1&&(_e.scale(et,et),ht/=et),_e.lineWidth=ht,o.isInvalidPDFjsFont){const _t=[];let mt=0;for(const bt of i)_t.push(bt.unicode),mt+=bt.width;_e.fillText(_t.join(""),0,0),s.x+=mt*dt*st,_e.restore(),this.compose();return}let vt=0,gt;for(gt=0;gt<at;++gt){const _t=i[gt];if(typeof _t=="number"){vt+=ut*_t*j/1e3;continue}let mt=!1;const bt=(_t.isSpace?it:0)+nt,Ct=_t.fontChar,Pt=_t.accent;let St,Mt,Dt=_t.width;if(ot){const Xt=_t.vmetric||ct,Yt=-(_t.vmetric?Xt[1]:Dt*.5)*dt,Ht=Xt[2]*dt;Dt=Xt?-Xt[0]:Dt,St=Yt/et,Mt=(vt+Ht)/et}else St=vt/et,Mt=0;if(o.remeasure&&Dt>0){const Xt=_e.measureText(Ct).width*1e3/j*et;if(Dt<Xt&&this.isFontSubpixelAAEnabled){const Yt=Dt/Xt;mt=!0,_e.save(),_e.scale(Yt,1),St/=Yt}else Dt!==Xt&&(St+=(Dt-Xt)/2e3*j/et)}if(this.contentVisible&&(_t.isInFont||o.missingFile)){if(ft&&!Pt)_e.fillText(Ct,St,Mt);else if(this.paintChar(Ct,St,Mt,lt),Pt){const Xt=St+j*Pt.offset.x/et,Yt=Mt-j*Pt.offset.y/et;this.paintChar(Pt.fontChar,Xt,Yt,lt)}}const Qt=ot?Dt*dt-bt*rt:Dt*dt+bt*rt;vt+=Qt,mt&&_e.restore()}ot?s.y-=vt:s.x+=vt*st,_e.restore(),this.compose()}showType3Text(i){const s=this.ctx,o=this.current,j=o.font,_e=o.fontSize,et=o.fontDirection,nt=j.vertical?1:-1,it=o.charSpacing,rt=o.wordSpacing,st=o.textHScale*et,at=o.fontMatrix||FONT_IDENTITY_MATRIX,ot=i.length,ut=o.textRenderingMode===TextRenderingMode.INVISIBLE;let ct,dt,ft,lt;if(!(ut||_e===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,s.save(),s.transform(...o.textMatrix),s.translate(o.x,o.y),s.scale(st,et),ct=0;ct<ot;++ct){if(dt=i[ct],typeof dt=="number"){lt=nt*dt*_e/1e3,this.ctx.translate(lt,0),o.x+=lt*st;continue}const ht=(dt.isSpace?rt:0)+it,pt=j.charProcOperatorList[dt.operatorListId];if(!pt){warn(`Type3 character "${dt.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=dt,this.save(),s.scale(_e,_e),s.transform(...at),this.executeOperatorList(pt),this.restore()),ft=Util.applyTransform([dt.width,0],at)[0]*_e+ht,s.translate(ft,0),o.x+=ft*st}s.restore(),this.processingType3=null}}setCharWidth(i,s){}setCharWidthAndBounds(i,s,o,j,_e,et){this.ctx.rect(o,j,_e-o,et-j),this.ctx.clip(),this.endPath()}getColorN_Pattern(i){let s;if(i[0]==="TilingPattern"){const o=i[1],j=this.baseTransform||getCurrentTransform(this.ctx),_e={createCanvasGraphics:et=>new jx(et,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};s=new TilingPattern(i,o,this.ctx,_e,j)}else s=this._getPattern(i[1],i[2]);return s}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(i,s,o){const j=Util.makeHexColor(i,s,o);this.ctx.strokeStyle=j,this.current.strokeColor=j}setFillRGBColor(i,s,o){const j=Util.makeHexColor(i,s,o);this.ctx.fillStyle=j,this.current.fillColor=j,this.current.patternFill=!1}_getPattern(i,s=null){let o;return this.cachedPatterns.has(i)?o=this.cachedPatterns.get(i):(o=getShadingPattern(this.getObject(i)),this.cachedPatterns.set(i,o)),s&&(o.matrix=s),o}shadingFill(i){if(!this.contentVisible)return;const s=this.ctx;this.save();const o=this._getPattern(i);s.fillStyle=o.getPattern(s,this,getCurrentTransformInverse(s),PathType.SHADING);const j=getCurrentTransformInverse(s);if(j){const{width:_e,height:et}=s.canvas,[nt,it,rt,st]=Util.getAxialAlignedBoundingBox([0,0,_e,et],j);this.ctx.fillRect(nt,it,rt-nt,st-it)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){unreachable("Should not call beginInlineImage")}beginImageData(){unreachable("Should not call beginImageData")}paintFormXObjectBegin(i,s){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),i&&this.transform(...i),this.baseTransform=getCurrentTransform(this.ctx),s)){const o=s[2]-s[0],j=s[3]-s[1];this.ctx.rect(s[0],s[1],o,j),this.current.updateRectMinMax(getCurrentTransform(this.ctx),s),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(i){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const s=this.ctx;i.isolated||info("TODO: Support non-isolated groups."),i.knockout&&warn("Knockout groups not supported.");const o=getCurrentTransform(s);if(i.matrix&&s.transform(...i.matrix),!i.bbox)throw new Error("Bounding box is required.");let j=Util.getAxialAlignedBoundingBox(i.bbox,getCurrentTransform(s));const _e=[0,0,s.canvas.width,s.canvas.height];j=Util.intersect(j,_e)||[0,0,0,0];const et=Math.floor(j[0]),nt=Math.floor(j[1]),it=Math.max(Math.ceil(j[2])-et,1),rt=Math.max(Math.ceil(j[3])-nt,1);this.current.startNewPathAndClipBox([0,0,it,rt]);let st="groupAt"+this.groupLevel;i.smask&&(st+="_smask_"+this.smaskCounter++%2);const at=this.cachedCanvases.getCanvas(st,it,rt),ot=at.context;ot.translate(-et,-nt),ot.transform(...o),i.smask?this.smaskStack.push({canvas:at.canvas,context:ot,offsetX:et,offsetY:nt,subtype:i.smask.subtype,backdrop:i.smask.backdrop,transferMap:i.smask.transferMap||null,startTransformInverse:null}):(s.setTransform(1,0,0,1,0,0),s.translate(et,nt),s.save()),copyCtxState(s,ot),this.ctx=ot,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(s),this.groupLevel++}endGroup(i){if(!this.contentVisible)return;this.groupLevel--;const s=this.ctx,o=this.groupStack.pop();if(this.ctx=o,this.ctx.imageSmoothingEnabled=!1,i.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const j=getCurrentTransform(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...j);const _e=Util.getAxialAlignedBoundingBox([0,0,s.canvas.width,s.canvas.height],j);this.ctx.drawImage(s.canvas,0,0),this.ctx.restore(),this.compose(_e)}}beginAnnotation(i,s,o,j,_e){if(yt(this,wu,rx).call(this),resetCtxToDefault(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),s){const et=s[2]-s[0],nt=s[3]-s[1];if(_e&&this.annotationCanvasMap){o=o.slice(),o[4]-=s[0],o[5]-=s[1],s=s.slice(),s[0]=s[1]=0,s[2]=et,s[3]=nt;const[it,rt]=Util.singularValueDecompose2dScale(getCurrentTransform(this.ctx)),{viewportScale:st}=this,at=Math.ceil(et*this.outputScaleX*st),ot=Math.ceil(nt*this.outputScaleY*st);this.annotationCanvas=this.canvasFactory.create(at,ot);const{canvas:ut,context:ct}=this.annotationCanvas;this.annotationCanvasMap.set(i,ut),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ct,this.ctx.save(),this.ctx.setTransform(it,0,0,-rt,0,nt*rt),resetCtxToDefault(this.ctx)}else resetCtxToDefault(this.ctx),this.ctx.rect(s[0],s[1],et,nt),this.ctx.clip(),this.endPath()}this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...o),this.transform(...j)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),yt(this,wu,ax).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(i){if(!this.contentVisible)return;const s=i.count;i=this.getObject(i.data,i),i.count=s;const o=this.ctx,j=this.processingType3;if(j&&(j.compiled===void 0&&(j.compiled=compileType3Glyph(i)),j.compiled)){j.compiled(o);return}const _e=this._createMaskCanvas(i),et=_e.canvas;o.save(),o.setTransform(1,0,0,1,0,0),o.drawImage(et,_e.offsetX,_e.offsetY),o.restore(),this.compose()}paintImageMaskXObjectRepeat(i,s,o=0,j=0,_e,et){if(!this.contentVisible)return;i=this.getObject(i.data,i);const nt=this.ctx;nt.save();const it=getCurrentTransform(nt);nt.transform(s,o,j,_e,0,0);const rt=this._createMaskCanvas(i);nt.setTransform(1,0,0,1,rt.offsetX-it[4],rt.offsetY-it[5]);for(let st=0,at=et.length;st<at;st+=2){const ot=Util.transform(it,[s,o,j,_e,et[st],et[st+1]]),[ut,ct]=Util.applyTransform([0,0],ot);nt.drawImage(rt.canvas,ut,ct)}nt.restore(),this.compose()}paintImageMaskXObjectGroup(i){if(!this.contentVisible)return;const s=this.ctx,o=this.current.fillColor,j=this.current.patternFill;for(const _e of i){const{data:et,width:nt,height:it,transform:rt}=_e,st=this.cachedCanvases.getCanvas("maskCanvas",nt,it),at=st.context;at.save();const ot=this.getObject(et,_e);putBinaryImageMask(at,ot),at.globalCompositeOperation="source-in",at.fillStyle=j?o.getPattern(at,this,getCurrentTransformInverse(s),PathType.FILL):o,at.fillRect(0,0,nt,it),at.restore(),s.save(),s.transform(...rt),s.scale(1,-1),drawImageAtIntegerCoords(s,st.canvas,0,0,nt,it,0,-1,1,1),s.restore()}this.compose()}paintImageXObject(i){if(!this.contentVisible)return;const s=this.getObject(i);if(!s){warn("Dependent image isn't ready yet");return}this.paintInlineImageXObject(s)}paintImageXObjectRepeat(i,s,o,j){if(!this.contentVisible)return;const _e=this.getObject(i);if(!_e){warn("Dependent image isn't ready yet");return}const et=_e.width,nt=_e.height,it=[];for(let rt=0,st=j.length;rt<st;rt+=2)it.push({transform:[s,0,0,o,j[rt],j[rt+1]],x:0,y:0,w:et,h:nt});this.paintInlineImageXObjectGroup(_e,it)}applyTransferMapsToCanvas(i){return this.current.transferMaps!=="none"&&(i.filter=this.current.transferMaps,i.drawImage(i.canvas,0,0),i.filter="none"),i.canvas}applyTransferMapsToBitmap(i){if(this.current.transferMaps==="none")return i.bitmap;const{bitmap:s,width:o,height:j}=i,_e=this.cachedCanvases.getCanvas("inlineImage",o,j),et=_e.context;return et.filter=this.current.transferMaps,et.drawImage(s,0,0),et.filter="none",_e.canvas}paintInlineImageXObject(i){if(!this.contentVisible)return;const s=i.width,o=i.height,j=this.ctx;if(this.save(),!isNodeJS){const{filter:nt}=j;nt!=="none"&&nt!==""&&(j.filter="none")}j.scale(1/s,-1/o);let _e;if(i.bitmap)_e=this.applyTransferMapsToBitmap(i);else if(typeof HTMLElement=="function"&&i instanceof HTMLElement||!i.data)_e=i;else{const it=this.cachedCanvases.getCanvas("inlineImage",s,o).context;putBinaryImageData(it,i),_e=this.applyTransferMapsToCanvas(it)}const et=this._scaleImage(_e,getCurrentTransformInverse(j));j.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(j),i.interpolate),drawImageAtIntegerCoords(j,et.img,0,0,et.paintWidth,et.paintHeight,0,-o,s,o),this.compose(),this.restore()}paintInlineImageXObjectGroup(i,s){if(!this.contentVisible)return;const o=this.ctx;let j;if(i.bitmap)j=i.bitmap;else{const _e=i.width,et=i.height,it=this.cachedCanvases.getCanvas("inlineImage",_e,et).context;putBinaryImageData(it,i),j=this.applyTransferMapsToCanvas(it)}for(const _e of s)o.save(),o.transform(..._e.transform),o.scale(1,-1),drawImageAtIntegerCoords(o,j,_e.x,_e.y,_e.w,_e.h,0,-1,1,1),o.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(i){}markPointProps(i,s){}beginMarkedContent(i){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(i,s){i==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(s)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(i){const s=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(i);const o=this.ctx;this.pendingClip&&(s||(this.pendingClip===EO_CLIP?o.clip("evenodd"):o.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),o.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const i=getCurrentTransform(this.ctx);if(i[1]===0&&i[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(i[0]),Math.abs(i[3]));else{const s=Math.abs(i[0]*i[3]-i[2]*i[1]),o=Math.hypot(i[0],i[2]),j=Math.hypot(i[1],i[3]);this._cachedGetSinglePixelWidth=Math.max(o,j)/s}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:i}=this.current,{a:s,b:o,c:j,d:_e}=this.ctx.getTransform();let et,nt;if(o===0&&j===0){const it=Math.abs(s),rt=Math.abs(_e);if(it===rt)if(i===0)et=nt=1/it;else{const st=it*i;et=nt=st<1?1/st:1}else if(i===0)et=1/it,nt=1/rt;else{const st=it*i,at=rt*i;et=st<1?1/st:1,nt=at<1?1/at:1}}else{const it=Math.abs(s*_e-o*j),rt=Math.hypot(s,o),st=Math.hypot(j,_e);if(i===0)et=st/it,nt=rt/it;else{const at=i*it;et=st>at?st/at:1,nt=rt>at?rt/at:1}}this._cachedScaleForStroking[0]=et,this._cachedScaleForStroking[1]=nt}return this._cachedScaleForStroking}rescaleAndStroke(i){const{ctx:s}=this,{lineWidth:o}=this.current,[j,_e]=this.getScaleForStroking();if(s.lineWidth=o||1,j===1&&_e===1){s.stroke();return}const et=s.getLineDash();if(i&&s.save(),s.scale(j,_e),et.length>0){const nt=Math.max(j,_e);s.setLineDash(et.map(it=>it/nt)),s.lineDashOffset/=nt}s.stroke(),i&&s.restore()}isContentVisible(){for(let i=this.markedContentStack.length-1;i>=0;i--)if(!this.markedContentStack[i].visible)return!1;return!0}};wu=new WeakSet,rx=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},ax=function(){if(this.pageColors){const i=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(i!=="none"){const s=this.ctx.filter;this.ctx.filter=i,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=s}}};let CanvasGraphics=jx;for(const a in OPS)CanvasGraphics.prototype[a]!==void 0&&(CanvasGraphics.prototype[OPS[a]]=CanvasGraphics.prototype[a]);var Iv,Dv;class GlobalWorkerOptions{static get workerPort(){return tt(this,Iv)}static set workerPort(i){if(!(typeof Worker<"u"&&i instanceof Worker)&&i!==null)throw new Error("Invalid `workerPort` type.");xt(this,Iv,i)}static get workerSrc(){return tt(this,Dv)}static set workerSrc(i){if(typeof i!="string")throw new Error("Invalid `workerSrc` type.");xt(this,Dv,i)}}Iv=new WeakMap,Dv=new WeakMap,At(GlobalWorkerOptions,Iv,null),At(GlobalWorkerOptions,Dv,"");const CallbackKind={UNKNOWN:0,DATA:1,ERROR:2},StreamKind={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function wrapReason(a){switch(a instanceof Error||typeof a=="object"&&a!==null||unreachable('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),a.name){case"AbortException":return new AbortException(a.message);case"MissingPDFException":return new MissingPDFException(a.message);case"PasswordException":return new PasswordException(a.message,a.code);case"UnexpectedResponseException":return new UnexpectedResponseException(a.message,a.status);case"UnknownErrorException":return new UnknownErrorException(a.message,a.details);default:return new UnknownErrorException(a.message,a.toString())}}var Xo,dA,fA,uy;class MessageHandler{constructor(i,s,o){At(this,Xo);this.sourceName=i,this.targetName=s,this.comObj=o,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=j=>{const _e=j.data;if(_e.targetName!==this.sourceName)return;if(_e.stream){yt(this,Xo,fA).call(this,_e);return}if(_e.callback){const nt=_e.callbackId,it=this.callbackCapabilities[nt];if(!it)throw new Error(`Cannot resolve callback ${nt}`);if(delete this.callbackCapabilities[nt],_e.callback===CallbackKind.DATA)it.resolve(_e.data);else if(_e.callback===CallbackKind.ERROR)it.reject(wrapReason(_e.reason));else throw new Error("Unexpected callback case");return}const et=this.actionHandler[_e.action];if(!et)throw new Error(`Unknown action from worker: ${_e.action}`);if(_e.callbackId){const nt=this.sourceName,it=_e.sourceName;new Promise(function(rt){rt(et(_e.data))}).then(function(rt){o.postMessage({sourceName:nt,targetName:it,callback:CallbackKind.DATA,callbackId:_e.callbackId,data:rt})},function(rt){o.postMessage({sourceName:nt,targetName:it,callback:CallbackKind.ERROR,callbackId:_e.callbackId,reason:wrapReason(rt)})});return}if(_e.streamId){yt(this,Xo,dA).call(this,_e);return}et(_e.data)},o.addEventListener("message",this._onComObjOnMessage)}on(i,s){const o=this.actionHandler;if(o[i])throw new Error(`There is already an actionName called "${i}"`);o[i]=s}send(i,s,o){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:i,data:s},o)}sendWithPromise(i,s,o){const j=this.callbackId++,_e=Promise.withResolvers();this.callbackCapabilities[j]=_e;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:i,callbackId:j,data:s},o)}catch(et){_e.reject(et)}return _e.promise}sendWithStream(i,s,o,j){const _e=this.streamId++,et=this.sourceName,nt=this.targetName,it=this.comObj;return new ReadableStream({start:rt=>{const st=Promise.withResolvers();return this.streamControllers[_e]={controller:rt,startCall:st,pullCall:null,cancelCall:null,isClosed:!1},it.postMessage({sourceName:et,targetName:nt,action:i,streamId:_e,data:s,desiredSize:rt.desiredSize},j),st.promise},pull:rt=>{const st=Promise.withResolvers();return this.streamControllers[_e].pullCall=st,it.postMessage({sourceName:et,targetName:nt,stream:StreamKind.PULL,streamId:_e,desiredSize:rt.desiredSize}),st.promise},cancel:rt=>{assert(rt instanceof Error,"cancel must have a valid reason");const st=Promise.withResolvers();return this.streamControllers[_e].cancelCall=st,this.streamControllers[_e].isClosed=!0,it.postMessage({sourceName:et,targetName:nt,stream:StreamKind.CANCEL,streamId:_e,reason:wrapReason(rt)}),st.promise}},o)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}Xo=new WeakSet,dA=function(i){const s=i.streamId,o=this.sourceName,j=i.sourceName,_e=this.comObj,et=this,nt=this.actionHandler[i.action],it={enqueue(rt,st=1,at){if(this.isCancelled)return;const ot=this.desiredSize;this.desiredSize-=st,ot>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),_e.postMessage({sourceName:o,targetName:j,stream:StreamKind.ENQUEUE,streamId:s,chunk:rt},at)},close(){this.isCancelled||(this.isCancelled=!0,_e.postMessage({sourceName:o,targetName:j,stream:StreamKind.CLOSE,streamId:s}),delete et.streamSinks[s])},error(rt){assert(rt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,_e.postMessage({sourceName:o,targetName:j,stream:StreamKind.ERROR,streamId:s,reason:wrapReason(rt)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:i.desiredSize,ready:null};it.sinkCapability.resolve(),it.ready=it.sinkCapability.promise,this.streamSinks[s]=it,new Promise(function(rt){rt(nt(i.data,it))}).then(function(){_e.postMessage({sourceName:o,targetName:j,stream:StreamKind.START_COMPLETE,streamId:s,success:!0})},function(rt){_e.postMessage({sourceName:o,targetName:j,stream:StreamKind.START_COMPLETE,streamId:s,reason:wrapReason(rt)})})},fA=function(i){const s=i.streamId,o=this.sourceName,j=i.sourceName,_e=this.comObj,et=this.streamControllers[s],nt=this.streamSinks[s];switch(i.stream){case StreamKind.START_COMPLETE:i.success?et.startCall.resolve():et.startCall.reject(wrapReason(i.reason));break;case StreamKind.PULL_COMPLETE:i.success?et.pullCall.resolve():et.pullCall.reject(wrapReason(i.reason));break;case StreamKind.PULL:if(!nt){_e.postMessage({sourceName:o,targetName:j,stream:StreamKind.PULL_COMPLETE,streamId:s,success:!0});break}nt.desiredSize<=0&&i.desiredSize>0&&nt.sinkCapability.resolve(),nt.desiredSize=i.desiredSize,new Promise(function(it){var rt;it((rt=nt.onPull)==null?void 0:rt.call(nt))}).then(function(){_e.postMessage({sourceName:o,targetName:j,stream:StreamKind.PULL_COMPLETE,streamId:s,success:!0})},function(it){_e.postMessage({sourceName:o,targetName:j,stream:StreamKind.PULL_COMPLETE,streamId:s,reason:wrapReason(it)})});break;case StreamKind.ENQUEUE:if(assert(et,"enqueue should have stream controller"),et.isClosed)break;et.controller.enqueue(i.chunk);break;case StreamKind.CLOSE:if(assert(et,"close should have stream controller"),et.isClosed)break;et.isClosed=!0,et.controller.close(),yt(this,Xo,uy).call(this,et,s);break;case StreamKind.ERROR:assert(et,"error should have stream controller"),et.controller.error(wrapReason(i.reason)),yt(this,Xo,uy).call(this,et,s);break;case StreamKind.CANCEL_COMPLETE:i.success?et.cancelCall.resolve():et.cancelCall.reject(wrapReason(i.reason)),yt(this,Xo,uy).call(this,et,s);break;case StreamKind.CANCEL:if(!nt)break;new Promise(function(it){var rt;it((rt=nt.onCancel)==null?void 0:rt.call(nt,wrapReason(i.reason)))}).then(function(){_e.postMessage({sourceName:o,targetName:j,stream:StreamKind.CANCEL_COMPLETE,streamId:s,success:!0})},function(it){_e.postMessage({sourceName:o,targetName:j,stream:StreamKind.CANCEL_COMPLETE,streamId:s,reason:wrapReason(it)})}),nt.sinkCapability.reject(wrapReason(i.reason)),nt.isCancelled=!0,delete this.streamSinks[s];break;default:throw new Error("Unexpected stream case")}},uy=async function(i,s){var o,j,_e;await Promise.allSettled([(o=i.startCall)==null?void 0:o.promise,(j=i.pullCall)==null?void 0:j.promise,(_e=i.cancelCall)==null?void 0:_e.promise]),delete this.streamControllers[s]};var Yu,Nv;class Metadata{constructor({parsedData:i,rawData:s}){At(this,Yu);At(this,Nv);xt(this,Yu,i),xt(this,Nv,s)}getRaw(){return tt(this,Nv)}get(i){return tt(this,Yu).get(i)??null}getAll(){return objectFromMap(tt(this,Yu))}has(i){return tt(this,Yu).has(i)}}Yu=new WeakMap,Nv=new WeakMap;const INTERNAL=Symbol("INTERNAL");var Ov,jv,$v,em;class OptionalContentGroup{constructor(i,{name:s,intent:o,usage:j}){At(this,Ov,!1);At(this,jv,!1);At(this,$v,!1);At(this,em,!0);xt(this,Ov,!!(i&RenderingIntentFlag.DISPLAY)),xt(this,jv,!!(i&RenderingIntentFlag.PRINT)),this.name=s,this.intent=o,this.usage=j}get visible(){if(tt(this,$v))return tt(this,em);if(!tt(this,em))return!1;const{print:i,view:s}=this.usage;return tt(this,Ov)?(s==null?void 0:s.viewState)!=="OFF":tt(this,jv)?(i==null?void 0:i.printState)!=="OFF":!0}_setVisible(i,s,o=!1){i!==INTERNAL&&unreachable("Internal method `_setVisible` called."),xt(this,$v,o),xt(this,em,s)}}Ov=new WeakMap,jv=new WeakMap,$v=new WeakMap,em=new WeakMap;var ou,Js,tm,nm,Bv,ox;class OptionalContentConfig{constructor(i,s=RenderingIntentFlag.DISPLAY){At(this,Bv);At(this,ou,null);At(this,Js,new Map);At(this,tm,null);At(this,nm,null);if(this.renderingIntent=s,this.name=null,this.creator=null,i!==null){this.name=i.name,this.creator=i.creator,xt(this,nm,i.order);for(const o of i.groups)tt(this,Js).set(o.id,new OptionalContentGroup(s,o));if(i.baseState==="OFF")for(const o of tt(this,Js).values())o._setVisible(INTERNAL,!1);for(const o of i.on)tt(this,Js).get(o)._setVisible(INTERNAL,!0);for(const o of i.off)tt(this,Js).get(o)._setVisible(INTERNAL,!1);xt(this,tm,this.getHash())}}isVisible(i){if(tt(this,Js).size===0)return!0;if(!i)return info("Optional content group not defined."),!0;if(i.type==="OCG")return tt(this,Js).has(i.id)?tt(this,Js).get(i.id).visible:(warn(`Optional content group not found: ${i.id}`),!0);if(i.type==="OCMD"){if(i.expression)return yt(this,Bv,ox).call(this,i.expression);if(!i.policy||i.policy==="AnyOn"){for(const s of i.ids){if(!tt(this,Js).has(s))return warn(`Optional content group not found: ${s}`),!0;if(tt(this,Js).get(s).visible)return!0}return!1}else if(i.policy==="AllOn"){for(const s of i.ids){if(!tt(this,Js).has(s))return warn(`Optional content group not found: ${s}`),!0;if(!tt(this,Js).get(s).visible)return!1}return!0}else if(i.policy==="AnyOff"){for(const s of i.ids){if(!tt(this,Js).has(s))return warn(`Optional content group not found: ${s}`),!0;if(!tt(this,Js).get(s).visible)return!0}return!1}else if(i.policy==="AllOff"){for(const s of i.ids){if(!tt(this,Js).has(s))return warn(`Optional content group not found: ${s}`),!0;if(tt(this,Js).get(s).visible)return!1}return!0}return warn(`Unknown optional content policy ${i.policy}.`),!0}return warn(`Unknown group type ${i.type}.`),!0}setVisibility(i,s=!0){const o=tt(this,Js).get(i);if(!o){warn(`Optional content group not found: ${i}`);return}o._setVisible(INTERNAL,!!s,!0),xt(this,ou,null)}setOCGState({state:i,preserveRB:s}){let o;for(const j of i){switch(j){case"ON":case"OFF":case"Toggle":o=j;continue}const _e=tt(this,Js).get(j);if(_e)switch(o){case"ON":_e._setVisible(INTERNAL,!0);break;case"OFF":_e._setVisible(INTERNAL,!1);break;case"Toggle":_e._setVisible(INTERNAL,!_e.visible);break}}xt(this,ou,null)}get hasInitialVisibility(){return tt(this,tm)===null||this.getHash()===tt(this,tm)}getOrder(){return tt(this,Js).size?tt(this,nm)?tt(this,nm).slice():[...tt(this,Js).keys()]:null}getGroups(){return tt(this,Js).size>0?objectFromMap(tt(this,Js)):null}getGroup(i){return tt(this,Js).get(i)||null}getHash(){if(tt(this,ou)!==null)return tt(this,ou);const i=new MurmurHash3_64;for(const[s,o]of tt(this,Js))i.update(`${s}:${o.visible}`);return xt(this,ou,i.hexdigest())}}ou=new WeakMap,Js=new WeakMap,tm=new WeakMap,nm=new WeakMap,Bv=new WeakSet,ox=function(i){const s=i.length;if(s<2)return!0;const o=i[0];for(let j=1;j<s;j++){const _e=i[j];let et;if(Array.isArray(_e))et=yt(this,Bv,ox).call(this,_e);else if(tt(this,Js).has(_e))et=tt(this,Js).get(_e).visible;else return warn(`Optional content group not found: ${_e}`),!0;switch(o){case"And":if(!et)return!1;break;case"Or":if(et)return!0;break;case"Not":return!et;default:return!0}}return o==="And"};class PDFDataTransportStream{constructor(i,{disableRange:s=!1,disableStream:o=!1}){assert(i,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:j,initialData:_e,progressiveDone:et,contentDispositionFilename:nt}=i;if(this._queuedChunks=[],this._progressiveDone=et,this._contentDispositionFilename=nt,(_e==null?void 0:_e.length)>0){const it=_e instanceof Uint8Array&&_e.byteLength===_e.buffer.byteLength?_e.buffer:new Uint8Array(_e).buffer;this._queuedChunks.push(it)}this._pdfDataRangeTransport=i,this._isStreamingSupported=!o,this._isRangeSupported=!s,this._contentLength=j,this._fullRequestReader=null,this._rangeReaders=[],i.addRangeListener((it,rt)=>{this._onReceiveData({begin:it,chunk:rt})}),i.addProgressListener((it,rt)=>{this._onProgress({loaded:it,total:rt})}),i.addProgressiveReadListener(it=>{this._onReceiveData({chunk:it})}),i.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),i.transportReady()}_onReceiveData({begin:i,chunk:s}){const o=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;if(i===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(o):this._queuedChunks.push(o);else{const j=this._rangeReaders.some(function(_e){return _e._begin!==i?!1:(_e._enqueue(o),!0)});assert(j,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var i;return((i=this._fullRequestReader)==null?void 0:i._loaded)??0}_onProgress(i){var s,o,j,_e;i.total===void 0?(o=(s=this._rangeReaders[0])==null?void 0:s.onProgress)==null||o.call(s,{loaded:i.loaded}):(_e=(j=this._fullRequestReader)==null?void 0:j.onProgress)==null||_e.call(j,{loaded:i.loaded,total:i.total})}_onProgressiveDone(){var i;(i=this._fullRequestReader)==null||i.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(i){const s=this._rangeReaders.indexOf(i);s>=0&&this._rangeReaders.splice(s,1)}getFullReader(){assert(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const i=this._queuedChunks;return this._queuedChunks=null,new PDFDataTransportStreamReader(this,i,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(i,s){if(s<=this._progressiveDataLength)return null;const o=new PDFDataTransportStreamRangeReader(this,i,s);return this._pdfDataRangeTransport.requestDataRange(i,s),this._rangeReaders.push(o),o}cancelAllRequests(i){var s;(s=this._fullRequestReader)==null||s.cancel(i);for(const o of this._rangeReaders.slice(0))o.cancel(i);this._pdfDataRangeTransport.abort()}}class PDFDataTransportStreamReader{constructor(i,s,o=!1,j=null){this._stream=i,this._done=o||!1,this._filename=isPdfFile(j)?j:null,this._queuedChunks=s||[],this._loaded=0;for(const _e of this._queuedChunks)this._loaded+=_e.byteLength;this._requests=[],this._headersReady=Promise.resolve(),i._fullRequestReader=this,this.onProgress=null}_enqueue(i){this._done||(this._requests.length>0?this._requests.shift().resolve({value:i,done:!1}):this._queuedChunks.push(i),this._loaded+=i.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const i=Promise.withResolvers();return this._requests.push(i),i.promise}cancel(i){this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class PDFDataTransportStreamRangeReader{constructor(i,s,o){this._stream=i,this._begin=s,this._end=o,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(i){if(!this._done){if(this._requests.length===0)this._queuedChunk=i;else{this._requests.shift().resolve({value:i,done:!1});for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const s=this._queuedChunk;return this._queuedChunk=null,{value:s,done:!1}}if(this._done)return{value:void 0,done:!0};const i=Promise.withResolvers();return this._requests.push(i),i.promise}cancel(i){this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function getFilenameFromContentDispositionHeader(a){let i=!0,s=o("filename\\*","i").exec(a);if(s){s=s[1];let st=nt(s);return st=unescape(st),st=it(st),st=rt(st),_e(st)}if(s=et(a),s){const st=rt(s);return _e(st)}if(s=o("filename","i").exec(a),s){s=s[1];let st=nt(s);return st=rt(st),_e(st)}function o(st,at){return new RegExp("(?:^|;)\\s*"+st+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',at)}function j(st,at){if(st){if(!/^[\x00-\xFF]+$/.test(at))return at;try{const ot=new TextDecoder(st,{fatal:!0}),ut=stringToBytes(at);at=ot.decode(ut),i=!1}catch{}}return at}function _e(st){return i&&/[\x80-\xff]/.test(st)&&(st=j("utf-8",st),i&&(st=j("iso-8859-1",st))),st}function et(st){const at=[];let ot;const ut=o("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(ot=ut.exec(st))!==null;){let[,dt,ft,lt]=ot;if(dt=parseInt(dt,10),dt in at){if(dt===0)break;continue}at[dt]=[ft,lt]}const ct=[];for(let dt=0;dt<at.length&&dt in at;++dt){let[ft,lt]=at[dt];lt=nt(lt),ft&&(lt=unescape(lt),dt===0&&(lt=it(lt))),ct.push(lt)}return ct.join("")}function nt(st){if(st.startsWith('"')){const at=st.slice(1).split('\\"');for(let ot=0;ot<at.length;++ot){const ut=at[ot].indexOf('"');ut!==-1&&(at[ot]=at[ot].slice(0,ut),at.length=ot+1),at[ot]=at[ot].replaceAll(/\\(.)/g,"$1")}st=at.join('"')}return st}function it(st){const at=st.indexOf("'");if(at===-1)return st;const ot=st.slice(0,at),ct=st.slice(at+1).replace(/^[^']*'/,"");return j(ot,ct)}function rt(st){return!st.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(st)?st:st.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(at,ot,ut,ct){if(ut==="q"||ut==="Q")return ct=ct.replaceAll("_"," "),ct=ct.replaceAll(/=([0-9a-fA-F]{2})/g,function(dt,ft){return String.fromCharCode(parseInt(ft,16))}),j(ot,ct);try{ct=atob(ct)}catch{}return j(ot,ct)})}return""}function validateRangeRequestCapabilities({getResponseHeader:a,isHttp:i,rangeChunkSize:s,disableRange:o}){const j={allowRangeRequests:!1,suggestedLength:void 0},_e=parseInt(a("Content-Length"),10);return!Number.isInteger(_e)||(j.suggestedLength=_e,_e<=2*s)||o||!i||a("Accept-Ranges")!=="bytes"||(a("Content-Encoding")||"identity")!=="identity"||(j.allowRangeRequests=!0),j}function extractFilenameFromHeader(a){const i=a("Content-Disposition");if(i){let s=getFilenameFromContentDispositionHeader(i);if(s.includes("%"))try{s=decodeURIComponent(s)}catch{}if(isPdfFile(s))return s}return null}function createResponseStatusError(a,i){return a===404||a===0&&i.startsWith("file:")?new MissingPDFException('Missing PDF "'+i+'".'):new UnexpectedResponseException(`Unexpected server response (${a}) while retrieving PDF "${i}".`,a)}function validateResponseStatus(a){return a===200||a===206}function createFetchOptions(a,i,s){return{method:"GET",headers:a,signal:s.signal,mode:"cors",credentials:i?"include":"same-origin",redirect:"follow"}}function createHeaders(a){const i=new Headers;for(const s in a){const o=a[s];o!==void 0&&i.append(s,o)}return i}function getArrayBuffer(a){return a instanceof Uint8Array?a.buffer:a instanceof ArrayBuffer?a:(warn(`getArrayBuffer - unexpected data format: ${a}`),new Uint8Array(a).buffer)}class PDFFetchStream{constructor(i){this.source=i,this.isHttp=/^https?:/i.test(i.url),this.httpHeaders=this.isHttp&&i.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var i;return((i=this._fullRequestReader)==null?void 0:i._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new PDFFetchStreamReader(this),this._fullRequestReader}getRangeReader(i,s){if(s<=this._progressiveDataLength)return null;const o=new PDFFetchStreamRangeReader(this,i,s);return this._rangeRequestReaders.push(o),o}cancelAllRequests(i){var s;(s=this._fullRequestReader)==null||s.cancel(i);for(const o of this._rangeRequestReaders.slice(0))o.cancel(i)}}class PDFFetchStreamReader{constructor(i){this._stream=i,this._reader=null,this._loaded=0,this._filename=null;const s=i.source;this._withCredentials=s.withCredentials||!1,this._contentLength=s.length,this._headersCapability=Promise.withResolvers(),this._disableRange=s.disableRange||!1,this._rangeChunkSize=s.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!s.disableStream,this._isRangeSupported=!s.disableRange,this._headers=createHeaders(this._stream.httpHeaders);const o=s.url;fetch(o,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then(j=>{if(!validateResponseStatus(j.status))throw createResponseStatusError(j.status,o);this._reader=j.body.getReader(),this._headersCapability.resolve();const _e=it=>j.headers.get(it),{allowRangeRequests:et,suggestedLength:nt}=validateRangeRequestCapabilities({getResponseHeader:_e,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=et,this._contentLength=nt||this._contentLength,this._filename=extractFilenameFromHeader(_e),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var o;await this._headersCapability.promise;const{value:i,done:s}=await this._reader.read();return s?{value:i,done:s}:(this._loaded+=i.byteLength,(o=this.onProgress)==null||o.call(this,{loaded:this._loaded,total:this._contentLength}),{value:getArrayBuffer(i),done:!1})}cancel(i){var s;(s=this._reader)==null||s.cancel(i),this._abortController.abort()}}class PDFFetchStreamRangeReader{constructor(i,s,o){this._stream=i,this._reader=null,this._loaded=0;const j=i.source;this._withCredentials=j.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!j.disableStream,this._abortController=new AbortController,this._headers=createHeaders(this._stream.httpHeaders),this._headers.append("Range",`bytes=${s}-${o-1}`);const _e=j.url;fetch(_e,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then(et=>{if(!validateResponseStatus(et.status))throw createResponseStatusError(et.status,_e);this._readCapability.resolve(),this._reader=et.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var o;await this._readCapability.promise;const{value:i,done:s}=await this._reader.read();return s?{value:i,done:s}:(this._loaded+=i.byteLength,(o=this.onProgress)==null||o.call(this,{loaded:this._loaded}),{value:getArrayBuffer(i),done:!1})}cancel(i){var s;(s=this._reader)==null||s.cancel(i),this._abortController.abort()}}const OK_RESPONSE=200,PARTIAL_CONTENT_RESPONSE=206;function network_getArrayBuffer(a){const i=a.response;return typeof i!="string"?i:stringToBytes(i).buffer}class NetworkManager{constructor(i,s={}){this.url=i,this.isHttp=/^https?:/i.test(i),this.httpHeaders=this.isHttp&&s.httpHeaders||Object.create(null),this.withCredentials=s.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(i,s,o){const j={begin:i,end:s};for(const _e in o)j[_e]=o[_e];return this.request(j)}requestFull(i){return this.request(i)}request(i){const s=new XMLHttpRequest,o=this.currXhrId++,j=this.pendingRequests[o]={xhr:s};s.open("GET",this.url),s.withCredentials=this.withCredentials;for(const _e in this.httpHeaders){const et=this.httpHeaders[_e];et!==void 0&&s.setRequestHeader(_e,et)}return this.isHttp&&"begin"in i&&"end"in i?(s.setRequestHeader("Range",`bytes=${i.begin}-${i.end-1}`),j.expectedStatus=PARTIAL_CONTENT_RESPONSE):j.expectedStatus=OK_RESPONSE,s.responseType="arraybuffer",i.onError&&(s.onerror=function(_e){i.onError(s.status)}),s.onreadystatechange=this.onStateChange.bind(this,o),s.onprogress=this.onProgress.bind(this,o),j.onHeadersReceived=i.onHeadersReceived,j.onDone=i.onDone,j.onError=i.onError,j.onProgress=i.onProgress,s.send(null),o}onProgress(i,s){var j;const o=this.pendingRequests[i];o&&((j=o.onProgress)==null||j.call(o,s))}onStateChange(i,s){var it,rt,st;const o=this.pendingRequests[i];if(!o)return;const j=o.xhr;if(j.readyState>=2&&o.onHeadersReceived&&(o.onHeadersReceived(),delete o.onHeadersReceived),j.readyState!==4||!(i in this.pendingRequests))return;if(delete this.pendingRequests[i],j.status===0&&this.isHttp){(it=o.onError)==null||it.call(o,j.status);return}const _e=j.status||OK_RESPONSE;if(!(_e===OK_RESPONSE&&o.expectedStatus===PARTIAL_CONTENT_RESPONSE)&&_e!==o.expectedStatus){(rt=o.onError)==null||rt.call(o,j.status);return}const nt=network_getArrayBuffer(j);if(_e===PARTIAL_CONTENT_RESPONSE){const at=j.getResponseHeader("Content-Range"),ot=/bytes (\d+)-(\d+)\/(\d+)/.exec(at);o.onDone({begin:parseInt(ot[1],10),chunk:nt})}else nt?o.onDone({begin:0,chunk:nt}):(st=o.onError)==null||st.call(o,j.status)}getRequestXhr(i){return this.pendingRequests[i].xhr}isPendingRequest(i){return i in this.pendingRequests}abortRequest(i){const s=this.pendingRequests[i].xhr;delete this.pendingRequests[i],s.abort()}}class PDFNetworkStream{constructor(i){this._source=i,this._manager=new NetworkManager(i.url,{httpHeaders:i.httpHeaders,withCredentials:i.withCredentials}),this._rangeChunkSize=i.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(i){const s=this._rangeRequestReaders.indexOf(i);s>=0&&this._rangeRequestReaders.splice(s,1)}getFullReader(){return assert(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new PDFNetworkStreamFullRequestReader(this._manager,this._source),this._fullRequestReader}getRangeReader(i,s){const o=new PDFNetworkStreamRangeRequestReader(this._manager,i,s);return o.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(o),o}cancelAllRequests(i){var s;(s=this._fullRequestReader)==null||s.cancel(i);for(const o of this._rangeRequestReaders.slice(0))o.cancel(i)}}class PDFNetworkStreamFullRequestReader{constructor(i,s){this._manager=i;const o={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=s.url,this._fullRequestId=i.requestFull(o),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=s.disableRange||!1,this._contentLength=s.length,this._rangeChunkSize=s.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const i=this._fullRequestId,s=this._manager.getRequestXhr(i),o=et=>s.getResponseHeader(et),{allowRangeRequests:j,suggestedLength:_e}=validateRangeRequestCapabilities({getResponseHeader:o,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});j&&(this._isRangeSupported=!0),this._contentLength=_e||this._contentLength,this._filename=extractFilenameFromHeader(o),this._isRangeSupported&&this._manager.abortRequest(i),this._headersReceivedCapability.resolve()}_onDone(i){if(i&&(this._requests.length>0?this._requests.shift().resolve({value:i.chunk,done:!1}):this._cachedChunks.push(i.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(i){this._storedError=createResponseStatusError(i,this._url),this._headersReceivedCapability.reject(this._storedError);for(const s of this._requests)s.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(i){var s;(s=this.onProgress)==null||s.call(this,{loaded:i.loaded,total:i.lengthComputable?i.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const i=Promise.withResolvers();return this._requests.push(i),i.promise}cancel(i){this._done=!0,this._headersReceivedCapability.reject(i);for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class PDFNetworkStreamRangeRequestReader{constructor(i,s,o){this._manager=i;const j={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=i.url,this._requestId=i.requestRange(s,o,j),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var i;(i=this.onClosed)==null||i.call(this,this)}_onDone(i){const s=i.chunk;this._requests.length>0?this._requests.shift().resolve({value:s,done:!1}):this._queuedChunk=s,this._done=!0;for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(i){this._storedError=createResponseStatusError(i,this._url);for(const s of this._requests)s.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(i){var s;this.isStreamingSupported||(s=this.onProgress)==null||s.call(this,{loaded:i.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const s=this._queuedChunk;return this._queuedChunk=null,{value:s,done:!1}}if(this._done)return{value:void 0,done:!0};const i=Promise.withResolvers();return this._requests.push(i),i.promise}cancel(i){this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const fileUriRegex=/^file:\/\/\/[a-zA-Z]:\//;function parseUrl(a){const i=NodePackages.get("url"),s=i.parse(a);return s.protocol==="file:"||s.host?s:/^[a-z]:[/\\]/i.test(a)?i.parse(`file:///${a}`):(s.host||(s.protocol="file:"),s)}class PDFNodeStream{constructor(i){this.source=i,this.url=parseUrl(i.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&i.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var i;return((i=this._fullRequestReader)==null?void 0:i._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new PDFNodeStreamFsFullReader(this):new PDFNodeStreamFullReader(this),this._fullRequestReader}getRangeReader(i,s){if(s<=this._progressiveDataLength)return null;const o=this.isFsUrl?new PDFNodeStreamFsRangeReader(this,i,s):new PDFNodeStreamRangeReader(this,i,s);return this._rangeRequestReaders.push(o),o}cancelAllRequests(i){var s;(s=this._fullRequestReader)==null||s.cancel(i);for(const o of this._rangeRequestReaders.slice(0))o.cancel(i)}}class BaseFullReader{constructor(i){this._url=i.url,this._done=!1,this._storedError=null,this.onProgress=null;const s=i.source;this._contentLength=s.length,this._loaded=0,this._filename=null,this._disableRange=s.disableRange||!1,this._rangeChunkSize=s.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!s.disableStream,this._isRangeSupported=!s.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var o;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const i=this._readableStream.read();return i===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=i.length,(o=this.onProgress)==null||o.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(i).buffer,done:!1})}cancel(i){if(!this._readableStream){this._error(i);return}this._readableStream.destroy(i)}_error(i){this._storedError=i,this._readCapability.resolve()}_setReadableStream(i){this._readableStream=i,i.on("readable",()=>{this._readCapability.resolve()}),i.on("end",()=>{i.destroy(),this._done=!0,this._readCapability.resolve()}),i.on("error",s=>{this._error(s)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class BaseRangeReader{constructor(i){this._url=i.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const s=i.source;this._isStreamingSupported=!s.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var o;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const i=this._readableStream.read();return i===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=i.length,(o=this.onProgress)==null||o.call(this,{loaded:this._loaded}),{value:new Uint8Array(i).buffer,done:!1})}cancel(i){if(!this._readableStream){this._error(i);return}this._readableStream.destroy(i)}_error(i){this._storedError=i,this._readCapability.resolve()}_setReadableStream(i){this._readableStream=i,i.on("readable",()=>{this._readCapability.resolve()}),i.on("end",()=>{i.destroy(),this._done=!0,this._readCapability.resolve()}),i.on("error",s=>{this._error(s)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function createRequestOptions(a,i){return{protocol:a.protocol,auth:a.auth,host:a.hostname,port:a.port,path:a.path,method:"GET",headers:i}}class PDFNodeStreamFullReader extends BaseFullReader{constructor(i){super(i);const s=o=>{if(o.statusCode===404){const nt=new MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=nt,this._headersCapability.reject(nt);return}this._headersCapability.resolve(),this._setReadableStream(o);const j=nt=>this._readableStream.headers[nt.toLowerCase()],{allowRangeRequests:_e,suggestedLength:et}=validateRangeRequestCapabilities({getResponseHeader:j,isHttp:i.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=_e,this._contentLength=et||this._contentLength,this._filename=extractFilenameFromHeader(j)};if(this._request=null,this._url.protocol==="http:"){const o=NodePackages.get("http");this._request=o.request(createRequestOptions(this._url,i.httpHeaders),s)}else{const o=NodePackages.get("https");this._request=o.request(createRequestOptions(this._url,i.httpHeaders),s)}this._request.on("error",o=>{this._storedError=o,this._headersCapability.reject(o)}),this._request.end()}}class PDFNodeStreamRangeReader extends BaseRangeReader{constructor(i,s,o){super(i),this._httpHeaders={};for(const _e in i.httpHeaders){const et=i.httpHeaders[_e];et!==void 0&&(this._httpHeaders[_e]=et)}this._httpHeaders.Range=`bytes=${s}-${o-1}`;const j=_e=>{if(_e.statusCode===404){const et=new MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=et;return}this._setReadableStream(_e)};if(this._request=null,this._url.protocol==="http:"){const _e=NodePackages.get("http");this._request=_e.request(createRequestOptions(this._url,this._httpHeaders),j)}else{const _e=NodePackages.get("https");this._request=_e.request(createRequestOptions(this._url,this._httpHeaders),j)}this._request.on("error",_e=>{this._storedError=_e}),this._request.end()}}class PDFNodeStreamFsFullReader extends BaseFullReader{constructor(i){super(i);let s=decodeURIComponent(this._url.path);fileUriRegex.test(this._url.href)&&(s=s.replace(/^\//,""));const o=NodePackages.get("fs");o.promises.lstat(s).then(j=>{this._contentLength=j.size,this._setReadableStream(o.createReadStream(s)),this._headersCapability.resolve()},j=>{j.code==="ENOENT"&&(j=new MissingPDFException(`Missing PDF "${s}".`)),this._storedError=j,this._headersCapability.reject(j)})}}class PDFNodeStreamFsRangeReader extends BaseRangeReader{constructor(i,s,o){super(i);let j=decodeURIComponent(this._url.path);fileUriRegex.test(this._url.href)&&(j=j.replace(/^\//,""));const _e=NodePackages.get("fs");this._setReadableStream(_e.createReadStream(j,{start:s,end:o-1}))}}const MAX_TEXT_DIVS_TO_RENDER=1e5,DEFAULT_FONT_SIZE=30,DEFAULT_FONT_ASCENT=.8;var rE,lu,Yr,Hv,Uv,Qu,Tl,zv,Vv,Zu,im,sm,cu,rm,Wv,am,Ju,Gv,Xv,_h,_d,uu,om,Xl,pA,gA,lx,qo,hy,mA,vA;const Br=class Br{constructor({textContentSource:i,container:s,viewport:o}){At(this,Xl);At(this,lu,Promise.withResolvers());At(this,Yr,null);At(this,Hv,!1);At(this,Uv,!!((rE=globalThis.FontInspector)!=null&&rE.enabled));At(this,Qu,null);At(this,Tl,null);At(this,zv,0);At(this,Vv,0);At(this,Zu,null);At(this,im,null);At(this,sm,0);At(this,cu,0);At(this,rm,Object.create(null));At(this,Wv,[]);At(this,am,null);At(this,Ju,[]);At(this,Gv,new WeakMap);At(this,Xv,null);var it;if(i instanceof ReadableStream)xt(this,am,i);else if(typeof i=="object")xt(this,am,new ReadableStream({start(rt){rt.enqueue(i),rt.close()}}));else throw new Error('No "textContentSource" parameter specified.');xt(this,Yr,xt(this,im,s)),xt(this,cu,o.scale*(globalThis.devicePixelRatio||1)),xt(this,sm,o.rotation),xt(this,Tl,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:j,pageHeight:_e,pageX:et,pageY:nt}=o.rawDims;xt(this,Xv,[1,0,0,-1,-et,nt+_e]),xt(this,Vv,j),xt(this,zv,_e),yt(it=Br,qo,mA).call(it),setLayerDimensions(s,o),tt(this,lu).promise.catch(()=>{}).then(()=>{tt(Br,om).delete(this),xt(this,Tl,null),xt(this,rm,null)})}render(){const i=()=>{tt(this,Zu).read().then(({value:s,done:o})=>{if(o){tt(this,lu).resolve();return}tt(this,Qu)??xt(this,Qu,s.lang),Object.assign(tt(this,rm),s.styles),yt(this,Xl,pA).call(this,s.items),i()},tt(this,lu).reject)};return xt(this,Zu,tt(this,am).getReader()),tt(Br,om).add(this),i(),tt(this,lu).promise}update({viewport:i,onBefore:s=null}){var _e;const o=i.scale*(globalThis.devicePixelRatio||1),j=i.rotation;if(j!==tt(this,sm)&&(s==null||s(),xt(this,sm,j),setLayerDimensions(tt(this,im),{rotation:j})),o!==tt(this,cu)){s==null||s(),xt(this,cu,o);const et={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:yt(_e=Br,qo,hy).call(_e,tt(this,Qu))};for(const nt of tt(this,Ju))et.properties=tt(this,Gv).get(nt),et.div=nt,yt(this,Xl,lx).call(this,et)}}cancel(){var s;const i=new AbortException("TextLayer task cancelled.");(s=tt(this,Zu))==null||s.cancel(i).catch(()=>{}),xt(this,Zu,null),tt(this,lu).reject(i)}get textDivs(){return tt(this,Ju)}get textContentItemsStr(){return tt(this,Wv)}static cleanup(){if(!(tt(this,om).size>0)){tt(this,_h).clear();for(const{canvas:i}of tt(this,_d).values())i.remove();tt(this,_d).clear()}}};lu=new WeakMap,Yr=new WeakMap,Hv=new WeakMap,Uv=new WeakMap,Qu=new WeakMap,Tl=new WeakMap,zv=new WeakMap,Vv=new WeakMap,Zu=new WeakMap,im=new WeakMap,sm=new WeakMap,cu=new WeakMap,rm=new WeakMap,Wv=new WeakMap,am=new WeakMap,Ju=new WeakMap,Gv=new WeakMap,Xv=new WeakMap,_h=new WeakMap,_d=new WeakMap,uu=new WeakMap,om=new WeakMap,Xl=new WeakSet,pA=function(i){var j,_e;if(tt(this,Hv))return;(_e=tt(this,Tl)).ctx??(_e.ctx=yt(j=Br,qo,hy).call(j,tt(this,Qu)));const s=tt(this,Ju),o=tt(this,Wv);for(const et of i){if(s.length>MAX_TEXT_DIVS_TO_RENDER){warn("Ignoring additional textDivs for performance reasons."),xt(this,Hv,!0);return}if(et.str===void 0){if(et.type==="beginMarkedContentProps"||et.type==="beginMarkedContent"){const nt=tt(this,Yr);xt(this,Yr,document.createElement("span")),tt(this,Yr).classList.add("markedContent"),et.id!==null&&tt(this,Yr).setAttribute("id",`${et.id}`),nt.append(tt(this,Yr))}else et.type==="endMarkedContent"&&xt(this,Yr,tt(this,Yr).parentNode);continue}o.push(et.str),yt(this,Xl,gA).call(this,et)}},gA=function(i){var dt;const s=document.createElement("span"),o={angle:0,canvasWidth:0,hasText:i.str!=="",hasEOL:i.hasEOL,fontSize:0};tt(this,Ju).push(s);const j=Util.transform(tt(this,Xv),i.transform);let _e=Math.atan2(j[1],j[0]);const et=tt(this,rm)[i.fontName];et.vertical&&(_e+=Math.PI/2);const nt=tt(this,Uv)&&et.fontSubstitution||et.fontFamily,it=Math.hypot(j[2],j[3]),rt=it*yt(dt=Br,qo,vA).call(dt,nt,tt(this,Qu));let st,at;_e===0?(st=j[4],at=j[5]-rt):(st=j[4]+rt*Math.sin(_e),at=j[5]-rt*Math.cos(_e));const ot="calc(var(--scale-factor)*",ut=s.style;tt(this,Yr)===tt(this,im)?(ut.left=`${(100*st/tt(this,Vv)).toFixed(2)}%`,ut.top=`${(100*at/tt(this,zv)).toFixed(2)}%`):(ut.left=`${ot}${st.toFixed(2)}px)`,ut.top=`${ot}${at.toFixed(2)}px)`),ut.fontSize=`${ot}${(tt(Br,uu)*it).toFixed(2)}px)`,ut.fontFamily=nt,o.fontSize=it,s.setAttribute("role","presentation"),s.textContent=i.str,s.dir=i.dir,tt(this,Uv)&&(s.dataset.fontName=et.fontSubstitutionLoadedName||i.fontName),_e!==0&&(o.angle=_e*(180/Math.PI));let ct=!1;if(i.str.length>1)ct=!0;else if(i.str!==" "&&i.transform[0]!==i.transform[3]){const ft=Math.abs(i.transform[0]),lt=Math.abs(i.transform[3]);ft!==lt&&Math.max(ft,lt)/Math.min(ft,lt)>1.5&&(ct=!0)}if(ct&&(o.canvasWidth=et.vertical?i.height:i.width),tt(this,Gv).set(s,o),tt(this,Tl).div=s,tt(this,Tl).properties=o,yt(this,Xl,lx).call(this,tt(this,Tl)),o.hasText&&tt(this,Yr).append(s),o.hasEOL){const ft=document.createElement("br");ft.setAttribute("role","presentation"),tt(this,Yr).append(ft)}},lx=function(i){const{div:s,properties:o,ctx:j,prevFontSize:_e,prevFontFamily:et}=i,{style:nt}=s;let it="";if(tt(Br,uu)>1&&(it=`scale(${1/tt(Br,uu)})`),o.canvasWidth!==0&&o.hasText){const{fontFamily:rt}=nt,{canvasWidth:st,fontSize:at}=o;(_e!==at||et!==rt)&&(j.font=`${at*tt(this,cu)}px ${rt}`,i.prevFontSize=at,i.prevFontFamily=rt);const{width:ot}=j.measureText(s.textContent);ot>0&&(it=`scaleX(${st*tt(this,cu)/ot}) ${it}`)}o.angle!==0&&(it=`rotate(${o.angle}deg) ${it}`),it.length>0&&(nt.transform=it)},qo=new WeakSet,hy=function(i=null){let s=tt(this,_d).get(i||(i=""));if(!s){const o=document.createElement("canvas");o.className="hiddenCanvasElement",o.lang=i,document.body.append(o),s=o.getContext("2d",{alpha:!1,willReadFrequently:!0}),tt(this,_d).set(i,s)}return s},mA=function(){if(tt(this,uu)!==null)return;const i=document.createElement("div");i.style.opacity=0,i.style.lineHeight=1,i.style.fontSize="1px",i.textContent="X",document.body.append(i),xt(this,uu,i.getBoundingClientRect().height),i.remove()},vA=function(i,s){const o=tt(this,_h).get(i);if(o)return o;const j=yt(this,qo,hy).call(this,s),_e=j.font;j.canvas.width=j.canvas.height=DEFAULT_FONT_SIZE,j.font=`${DEFAULT_FONT_SIZE}px ${i}`;const et=j.measureText("");let nt=et.fontBoundingBoxAscent,it=Math.abs(et.fontBoundingBoxDescent);if(nt){const at=nt/(nt+it);return tt(this,_h).set(i,at),j.canvas.width=j.canvas.height=0,j.font=_e,at}j.strokeStyle="red",j.clearRect(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE),j.strokeText("g",0,0);let rt=j.getImageData(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE).data;it=0;for(let at=rt.length-1-3;at>=0;at-=4)if(rt[at]>0){it=Math.ceil(at/4/DEFAULT_FONT_SIZE);break}j.clearRect(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE),j.strokeText("A",0,DEFAULT_FONT_SIZE),rt=j.getImageData(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE).data,nt=0;for(let at=0,ot=rt.length;at<ot;at+=4)if(rt[at]>0){nt=DEFAULT_FONT_SIZE-Math.floor(at/4/DEFAULT_FONT_SIZE);break}j.canvas.width=j.canvas.height=0,j.font=_e;const st=nt?nt/(nt+it):DEFAULT_FONT_ASCENT;return tt(this,_h).set(i,st),st},At(Br,qo),At(Br,_h,new Map),At(Br,_d,new Map),At(Br,uu,null),At(Br,om,new Set);let TextLayer=Br;function renderTextLayer(){deprecated("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:a,container:i,viewport:s,...o}=arguments[0],j=Object.keys(o);j.length>0&&warn("Ignoring `renderTextLayer` parameters: "+j.join(", "));const _e=new TextLayer({textContentSource:a,container:i,viewport:s}),{textDivs:et,textContentItemsStr:nt}=_e;return{promise:_e.render(),textDivs:et,textContentItemsStr:nt}}function updateTextLayer(){deprecated("`updateTextLayer`, please use `TextLayer` instead.")}class XfaText{static textContent(i){const s=[],o={items:s,styles:Object.create(null)};function j(_e){var it;if(!_e)return;let et=null;const nt=_e.name;if(nt==="#text")et=_e.value;else if(XfaText.shouldBuildText(nt))(it=_e==null?void 0:_e.attributes)!=null&&it.textContent?et=_e.attributes.textContent:_e.value&&(et=_e.value);else return;if(et!==null&&s.push({str:et}),!!_e.children)for(const rt of _e.children)j(rt)}return j(i),o}static shouldBuildText(i){return!(i==="textarea"||i==="input"||i==="option"||i==="select")}}const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=isNodeJS?NodeCanvasFactory:DOMCanvasFactory,DefaultCMapReaderFactory=isNodeJS?NodeCMapReaderFactory:DOMCMapReaderFactory,DefaultFilterFactory=isNodeJS?NodeFilterFactory:DOMFilterFactory,DefaultStandardFontDataFactory=isNodeJS?NodeStandardFontDataFactory:DOMStandardFontDataFactory;function getDocument(a={}){typeof a=="string"||a instanceof URL?a={url:a}:(a instanceof ArrayBuffer||ArrayBuffer.isView(a))&&(a={data:a});const i=new PDFDocumentLoadingTask,{docId:s}=i,o=a.url?getUrlProp(a.url):null,j=a.data?getDataProp(a.data):null,_e=a.httpHeaders||null,et=a.withCredentials===!0,nt=a.password??null,it=a.range instanceof PDFDataRangeTransport$1?a.range:null,rt=Number.isInteger(a.rangeChunkSize)&&a.rangeChunkSize>0?a.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let st=a.worker instanceof PDFWorker?a.worker:null;const at=a.verbosity,ot=typeof a.docBaseUrl=="string"&&!isDataScheme(a.docBaseUrl)?a.docBaseUrl:null,ut=typeof a.cMapUrl=="string"?a.cMapUrl:null,ct=a.cMapPacked!==!1,dt=a.CMapReaderFactory||DefaultCMapReaderFactory,ft=typeof a.standardFontDataUrl=="string"?a.standardFontDataUrl:null,lt=a.StandardFontDataFactory||DefaultStandardFontDataFactory,ht=a.stopAtErrors!==!0,pt=Number.isInteger(a.maxImageSize)&&a.maxImageSize>-1?a.maxImageSize:-1,vt=a.isEvalSupported!==!1,gt=typeof a.isOffscreenCanvasSupported=="boolean"?a.isOffscreenCanvasSupported:!isNodeJS,_t=Number.isInteger(a.canvasMaxAreaInBytes)?a.canvasMaxAreaInBytes:-1,mt=typeof a.disableFontFace=="boolean"?a.disableFontFace:isNodeJS,bt=a.fontExtraProperties===!0,Ct=a.enableXfa===!0,Pt=a.ownerDocument||globalThis.document,St=a.disableRange===!0,Mt=a.disableStream===!0,Dt=a.disableAutoFetch===!0,Qt=a.pdfBug===!0,Xt=a.enableHWA===!0,Yt=it?it.length:a.length??NaN,Ht=typeof a.useSystemFonts=="boolean"?a.useSystemFonts:!isNodeJS&&!mt,Ut=typeof a.useWorkerFetch=="boolean"?a.useWorkerFetch:dt===DOMCMapReaderFactory&&lt===DOMStandardFontDataFactory&&ut&&ft&&isValidFetchUrl(ut,document.baseURI)&&isValidFetchUrl(ft,document.baseURI),Lt=a.canvasFactory||new DefaultCanvasFactory({ownerDocument:Pt,enableHWA:Xt}),zt=a.filterFactory||new DefaultFilterFactory({docId:s,ownerDocument:Pt}),Zt=null;setVerbosityLevel(at);const Ft={canvasFactory:Lt,filterFactory:zt};if(Ut||(Ft.cMapReaderFactory=new dt({baseUrl:ut,isCompressed:ct}),Ft.standardFontDataFactory=new lt({baseUrl:ft})),!st){const kt={verbosity:at,port:GlobalWorkerOptions.workerPort};st=kt.port?PDFWorker.fromPort(kt):new PDFWorker(kt),i._worker=st}const Et={docId:s,apiVersion:"4.4.168",data:j,password:nt,disableAutoFetch:Dt,rangeChunkSize:rt,length:Yt,docBaseUrl:ot,enableXfa:Ct,evaluatorOptions:{maxImageSize:pt,disableFontFace:mt,ignoreErrors:ht,isEvalSupported:vt,isOffscreenCanvasSupported:gt,canvasMaxAreaInBytes:_t,fontExtraProperties:bt,useSystemFonts:Ht,cMapUrl:Ut?ut:null,standardFontDataUrl:Ut?ft:null}},Tt={disableFontFace:mt,fontExtraProperties:bt,ownerDocument:Pt,pdfBug:Qt,styleElement:Zt,loadingParams:{disableAutoFetch:Dt,enableXfa:Ct}};return st.promise.then(function(){if(i.destroyed)throw new Error("Loading aborted");if(st.destroyed)throw new Error("Worker was destroyed");const kt=st.messageHandler.sendWithPromise("GetDocRequest",Et,j?[j.buffer]:null);let jt;if(it)jt=new PDFDataTransportStream(it,{disableRange:St,disableStream:Mt});else if(!j){if(!o)throw new Error("getDocument - no `url` parameter provided.");jt=($t=>isNodeJS?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&isValidFetchUrl($t.url)?new PDFFetchStream($t):new PDFNodeStream($t):isValidFetchUrl($t.url)?new PDFFetchStream($t):new PDFNetworkStream($t))({url:o,length:Yt,httpHeaders:_e,withCredentials:et,rangeChunkSize:rt,disableRange:St,disableStream:Mt})}return kt.then(Nt=>{if(i.destroyed)throw new Error("Loading aborted");if(st.destroyed)throw new Error("Worker was destroyed");const $t=new MessageHandler(s,Nt,st.port),tn=new WorkerTransport($t,i,jt,Tt,Ft);i._transport=tn,$t.send("Ready",null)})}).catch(i._capability.reject),i}function getUrlProp(a){if(a instanceof URL)return a.href;try{return new URL(a,window.location).href}catch{if(isNodeJS&&typeof a=="string")return a}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(a){if(isNodeJS&&typeof Buffer<"u"&&a instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength)return a;if(typeof a=="string")return stringToBytes(a);if(a instanceof ArrayBuffer||ArrayBuffer.isView(a)||typeof a=="object"&&!isNaN(a==null?void 0:a.length))return new Uint8Array(a);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function isRefProxy(a){return typeof a=="object"&&Number.isInteger(a==null?void 0:a.num)&&a.num>=0&&Number.isInteger(a==null?void 0:a.gen)&&a.gen>=0}var Hy;const Uy=class Uy{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Pr(Uy,Hy)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var i,s,o;this.destroyed=!0;try{(i=this._worker)!=null&&i.port&&(this._worker._pendingDestroy=!0),await((s=this._transport)==null?void 0:s.destroy())}catch(j){throw(o=this._worker)!=null&&o.port&&delete this._worker._pendingDestroy,j}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Hy=new WeakMap,At(Uy,Hy,0);let PDFDocumentLoadingTask=Uy,PDFDataRangeTransport$1=class{constructor(i,s,o=!1,j=null){this.length=i,this.initialData=s,this.progressiveDone=o,this.contentDispositionFilename=j,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(i){this._rangeListeners.push(i)}addProgressListener(i){this._progressListeners.push(i)}addProgressiveReadListener(i){this._progressiveReadListeners.push(i)}addProgressiveDoneListener(i){this._progressiveDoneListeners.push(i)}onDataRange(i,s){for(const o of this._rangeListeners)o(i,s)}onDataProgress(i,s){this._readyCapability.promise.then(()=>{for(const o of this._progressListeners)o(i,s)})}onDataProgressiveRead(i){this._readyCapability.promise.then(()=>{for(const s of this._progressiveReadListeners)s(i)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const i of this._progressiveDoneListeners)i()})}transportReady(){this._readyCapability.resolve()}requestDataRange(i,s){unreachable("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class PDFDocumentProxy{constructor(i,s){this._pdfInfo=i,this._transport=s}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(i){return this._transport.getPage(i)}getPageIndex(i){return this._transport.getPageIndex(i)}getDestinations(){return this._transport.getDestinations()}getDestination(i){return this._transport.getDestination(i)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:i="display"}={}){const{renderingIntent:s}=this._transport.getRenderingIntent(i);return this._transport.getOptionalContentConfig(s)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(i=!1){return this._transport.startCleanup(i||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(i){return this._transport.cachedPageNumber(i)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var hu,Rl,co,jp,dy;class PDFPageProxy{constructor(i,s,o,j=!1){At(this,co);At(this,hu,null);At(this,Rl,!1);this._pageIndex=i,this._pageInfo=s,this._transport=o,this._stats=j?new StatTimer:null,this._pdfBug=j,this.commonObjs=o.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:i,rotation:s=this.rotate,offsetX:o=0,offsetY:j=0,dontFlip:_e=!1}={}){return new PageViewport({viewBox:this.view,scale:i,rotation:s,offsetX:o,offsetY:j,dontFlip:_e})}getAnnotations({intent:i="display"}={}){const{renderingIntent:s}=this._transport.getRenderingIntent(i);return this._transport.getAnnotations(this._pageIndex,s)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var i;return((i=this._transport._htmlForXfa)==null?void 0:i.children[this._pageIndex])||null}render({canvasContext:i,viewport:s,intent:o="display",annotationMode:j=AnnotationMode.ENABLE,transform:_e=null,background:et=null,optionalContentConfigPromise:nt=null,annotationCanvasMap:it=null,pageColors:rt=null,printAnnotationStorage:st=null}){var pt,vt;(pt=this._stats)==null||pt.time("Overall");const at=this._transport.getRenderingIntent(o,j,st),{renderingIntent:ot,cacheKey:ut}=at;xt(this,Rl,!1),yt(this,co,dy).call(this),nt||(nt=this._transport.getOptionalContentConfig(ot));let ct=this._intentStates.get(ut);ct||(ct=Object.create(null),this._intentStates.set(ut,ct)),ct.streamReaderCancelTimeout&&(clearTimeout(ct.streamReaderCancelTimeout),ct.streamReaderCancelTimeout=null);const dt=!!(ot&RenderingIntentFlag.PRINT);ct.displayReadyCapability||(ct.displayReadyCapability=Promise.withResolvers(),ct.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(vt=this._stats)==null||vt.time("Page Request"),this._pumpOperatorList(at));const ft=gt=>{var _t;ct.renderTasks.delete(lt),(this._maybeCleanupAfterRender||dt)&&xt(this,Rl,!0),yt(this,co,jp).call(this,!dt),gt?(lt.capability.reject(gt),this._abortOperatorList({intentState:ct,reason:gt instanceof Error?gt:new Error(gt)})):lt.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(_t=globalThis.Stats)!=null&&_t.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},lt=new InternalRenderTask({callback:ft,params:{canvasContext:i,viewport:s,transform:_e,background:et},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:it,operatorList:ct.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!dt,pdfBug:this._pdfBug,pageColors:rt});(ct.renderTasks||(ct.renderTasks=new Set)).add(lt);const ht=lt.task;return Promise.all([ct.displayReadyCapability.promise,nt]).then(([gt,_t])=>{var mt;if(this.destroyed){ft();return}if((mt=this._stats)==null||mt.time("Rendering"),!(_t.renderingIntent&ot))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");lt.initializeGraphics({transparency:gt,optionalContentConfig:_t}),lt.operatorListChanged()}).catch(ft),ht}getOperatorList({intent:i="display",annotationMode:s=AnnotationMode.ENABLE,printAnnotationStorage:o=null}={}){var it;function j(){et.operatorList.lastChunk&&(et.opListReadCapability.resolve(et.operatorList),et.renderTasks.delete(nt))}const _e=this._transport.getRenderingIntent(i,s,o,!0);let et=this._intentStates.get(_e.cacheKey);et||(et=Object.create(null),this._intentStates.set(_e.cacheKey,et));let nt;return et.opListReadCapability||(nt=Object.create(null),nt.operatorListChanged=j,et.opListReadCapability=Promise.withResolvers(),(et.renderTasks||(et.renderTasks=new Set)).add(nt),et.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(it=this._stats)==null||it.time("Page Request"),this._pumpOperatorList(_e)),et.opListReadCapability.promise}streamTextContent({includeMarkedContent:i=!1,disableNormalization:s=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:i===!0,disableNormalization:s===!0},{highWaterMark:100,size(j){return j.items.length}})}getTextContent(i={}){if(this._transport._htmlForXfa)return this.getXfa().then(o=>XfaText.textContent(o));const s=this.streamTextContent(i);return new Promise(function(o,j){function _e(){et.read().then(function({value:it,done:rt}){if(rt){o(nt);return}nt.lang??(nt.lang=it.lang),Object.assign(nt.styles,it.styles),nt.items.push(...it.items),_e()},j)}const et=s.getReader(),nt={items:[],styles:Object.create(null),lang:null};_e()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const i=[];for(const s of this._intentStates.values())if(this._abortOperatorList({intentState:s,reason:new Error("Page was destroyed."),force:!0}),!s.opListReadCapability)for(const o of s.renderTasks)i.push(o.completed),o.cancel();return this.objs.clear(),xt(this,Rl,!1),yt(this,co,dy).call(this),Promise.all(i)}cleanup(i=!1){xt(this,Rl,!0);const s=yt(this,co,jp).call(this,!1);return i&&s&&this._stats&&(this._stats=new StatTimer),s}_startRenderPage(i,s){var j,_e;const o=this._intentStates.get(s);o&&((j=this._stats)==null||j.timeEnd("Page Request"),(_e=o.displayReadyCapability)==null||_e.resolve(i))}_renderPageChunk(i,s){for(let o=0,j=i.length;o<j;o++)s.operatorList.fnArray.push(i.fnArray[o]),s.operatorList.argsArray.push(i.argsArray[o]);s.operatorList.lastChunk=i.lastChunk,s.operatorList.separateAnnots=i.separateAnnots;for(const o of s.renderTasks)o.operatorListChanged();i.lastChunk&&yt(this,co,jp).call(this,!0)}_pumpOperatorList({renderingIntent:i,cacheKey:s,annotationStorageSerializable:o}){const{map:j,transfer:_e}=o,nt=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:i,cacheKey:s,annotationStorage:j},_e).getReader(),it=this._intentStates.get(s);it.streamReader=nt;const rt=()=>{nt.read().then(({value:st,done:at})=>{if(at){it.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(st,it),rt())},st=>{if(it.streamReader=null,!this._transport.destroyed){if(it.operatorList){it.operatorList.lastChunk=!0;for(const at of it.renderTasks)at.operatorListChanged();yt(this,co,jp).call(this,!0)}if(it.displayReadyCapability)it.displayReadyCapability.reject(st);else if(it.opListReadCapability)it.opListReadCapability.reject(st);else throw st}})};rt()}_abortOperatorList({intentState:i,reason:s,force:o=!1}){if(i.streamReader){if(i.streamReaderCancelTimeout&&(clearTimeout(i.streamReaderCancelTimeout),i.streamReaderCancelTimeout=null),!o){if(i.renderTasks.size>0)return;if(s instanceof RenderingCancelledException){let j=RENDERING_CANCELLED_TIMEOUT;s.extraDelay>0&&s.extraDelay<1e3&&(j+=s.extraDelay),i.streamReaderCancelTimeout=setTimeout(()=>{i.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:i,reason:s,force:!0})},j);return}}if(i.streamReader.cancel(new AbortException(s.message)).catch(()=>{}),i.streamReader=null,!this._transport.destroyed){for(const[j,_e]of this._intentStates)if(_e===i){this._intentStates.delete(j);break}this.cleanup()}}}get stats(){return this._stats}}hu=new WeakMap,Rl=new WeakMap,co=new WeakSet,jp=function(i=!1){if(yt(this,co,dy).call(this),!tt(this,Rl)||this.destroyed)return!1;if(i)return xt(this,hu,setTimeout(()=>{xt(this,hu,null),yt(this,co,jp).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:s,operatorList:o}of this._intentStates.values())if(s.size>0||!o.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),xt(this,Rl,!1),!0},dy=function(){tt(this,hu)&&(clearTimeout(tt(this,hu)),xt(this,hu,null))};var _f,zy;class LoopbackPort{constructor(){At(this,_f,new Set);At(this,zy,Promise.resolve())}postMessage(i,s){const o={data:structuredClone(i,s?{transfer:s}:null)};tt(this,zy).then(()=>{for(const j of tt(this,_f))j.call(this,o)})}addEventListener(i,s){tt(this,_f).add(s)}removeEventListener(i,s){tt(this,_f).delete(s)}terminate(){tt(this,_f).clear()}}_f=new WeakMap,zy=new WeakMap;const PDFWorkerUtil={isWorkerDisabled:!1,fakeWorkerId:0};isNodeJS&&(PDFWorkerUtil.isWorkerDisabled=!0,GlobalWorkerOptions.workerSrc||(GlobalWorkerOptions.workerSrc="./pdf.worker.mjs")),PDFWorkerUtil.isSameOrigin=function(a,i){let s;try{if(s=new URL(a),!s.origin||s.origin==="null")return!1}catch{return!1}const o=new URL(i,s);return s.origin===o.origin},PDFWorkerUtil.createCDNWrapper=function(a){const i=`await import("${a}");`;return URL.createObjectURL(new Blob([i],{type:"text/javascript"}))};var ep,lm,fy,cm,py;const na=class na{constructor({name:i=null,port:s=null,verbosity:o=getVerbosityLevel()}={}){At(this,lm);var j;if(this.name=i,this.destroyed=!1,this.verbosity=o,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,s){if((j=tt(na,ep))!=null&&j.has(s))throw new Error("Cannot use more than one PDFWorker per port.");(tt(na,ep)||xt(na,ep,new WeakMap)).set(s,this),this._initializeFromPort(s);return}this._initialize()}get promise(){return isNodeJS?Promise.all([NodePackages.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(i){this._port=i,this._messageHandler=new MessageHandler("main","worker",i),this._messageHandler.on("ready",function(){}),yt(this,lm,fy).call(this)}_initialize(){if(PDFWorkerUtil.isWorkerDisabled||tt(na,cm,py)){this._setupFakeWorker();return}let{workerSrc:i}=na;try{PDFWorkerUtil.isSameOrigin(window.location.href,i)||(i=PDFWorkerUtil.createCDNWrapper(new URL(i,window.location).href));const s=new Worker(i,{type:"module"}),o=new MessageHandler("main","worker",s),j=()=>{_e.abort(),o.destroy(),s.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},_e=new AbortController;s.addEventListener("error",()=>{this._webWorker||j()},{signal:_e.signal}),o.on("test",nt=>{if(_e.abort(),this.destroyed||!nt){j();return}this._messageHandler=o,this._port=s,this._webWorker=s,yt(this,lm,fy).call(this)}),o.on("ready",nt=>{if(_e.abort(),this.destroyed){j();return}try{et()}catch{this._setupFakeWorker()}});const et=()=>{const nt=new Uint8Array;o.send("test",nt,[nt.buffer])};et();return}catch{info("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||(warn("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),na._setupFakeWorkerGlobal.then(i=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const s=new LoopbackPort;this._port=s;const o=`fake${PDFWorkerUtil.fakeWorkerId++}`,j=new MessageHandler(o+"_worker",o,s);i.setup(j,s),this._messageHandler=new MessageHandler(o,o+"_worker",s),yt(this,lm,fy).call(this)}).catch(i=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${i.message}".`))})}destroy(){var i;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(i=tt(na,ep))==null||i.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(i){var o;if(!(i!=null&&i.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const s=(o=tt(this,ep))==null?void 0:o.get(i.port);if(s){if(s._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return s}return new na(i)}static get workerSrc(){if(GlobalWorkerOptions.workerSrc)return GlobalWorkerOptions.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return shadow(this,"_setupFakeWorkerGlobal",(async()=>tt(this,cm,py)?tt(this,cm,py):(await import(this.workerSrc)).WorkerMessageHandler)())}};ep=new WeakMap,lm=new WeakSet,fy=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},cm=new WeakSet,py=function(){var i;try{return((i=globalThis.pdfjsWorker)==null?void 0:i.WorkerMessageHandler)||null}catch{return null}},At(na,cm),At(na,ep);let PDFWorker=na;var Pl,Oo,um,hm,jo,tp,Ym;class WorkerTransport{constructor(i,s,o,j,_e){At(this,tp);At(this,Pl,new Map);At(this,Oo,new Map);At(this,um,new Map);At(this,hm,new Map);At(this,jo,null);this.messageHandler=i,this.loadingTask=s,this.commonObjs=new PDFObjects,this.fontLoader=new FontLoader({ownerDocument:j.ownerDocument,styleElement:j.styleElement}),this.loadingParams=j.loadingParams,this._params=j,this.canvasFactory=_e.canvasFactory,this.filterFactory=_e.filterFactory,this.cMapReaderFactory=_e.cMapReaderFactory,this.standardFontDataFactory=_e.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=o,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return shadow(this,"annotationStorage",new AnnotationStorage)}getRenderingIntent(i,s=AnnotationMode.ENABLE,o=null,j=!1){let _e=RenderingIntentFlag.DISPLAY,et=SerializableEmpty;switch(i){case"any":_e=RenderingIntentFlag.ANY;break;case"display":break;case"print":_e=RenderingIntentFlag.PRINT;break;default:warn(`getRenderingIntent - invalid intent: ${i}`)}switch(s){case AnnotationMode.DISABLE:_e+=RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case AnnotationMode.ENABLE:break;case AnnotationMode.ENABLE_FORMS:_e+=RenderingIntentFlag.ANNOTATIONS_FORMS;break;case AnnotationMode.ENABLE_STORAGE:_e+=RenderingIntentFlag.ANNOTATIONS_STORAGE,et=(_e&RenderingIntentFlag.PRINT&&o instanceof PrintAnnotationStorage?o:this.annotationStorage).serializable;break;default:warn(`getRenderingIntent - invalid annotationMode: ${s}`)}return j&&(_e+=RenderingIntentFlag.OPLIST),{renderingIntent:_e,cacheKey:`${_e}_${et.hash}`,annotationStorageSerializable:et}}destroy(){var o;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(o=tt(this,jo))==null||o.reject(new Error("Worker was destroyed during onPassword callback"));const i=[];for(const j of tt(this,Oo).values())i.push(j._destroy());tt(this,Oo).clear(),tt(this,um).clear(),tt(this,hm).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const s=this.messageHandler.sendWithPromise("Terminate",null);return i.push(s),Promise.all(i).then(()=>{var j;this.commonObjs.clear(),this.fontLoader.clear(),tt(this,Pl).clear(),this.filterFactory.destroy(),TextLayer.cleanup(),(j=this._networkStream)==null||j.cancelAllRequests(new AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:i,loadingTask:s}=this;i.on("GetReader",(o,j)=>{assert(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=_e=>{this._lastProgress={loaded:_e.loaded,total:_e.total}},j.onPull=()=>{this._fullReader.read().then(function({value:_e,done:et}){if(et){j.close();return}assert(_e instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),j.enqueue(new Uint8Array(_e),1,[_e])}).catch(_e=>{j.error(_e)})},j.onCancel=_e=>{this._fullReader.cancel(_e),j.ready.catch(et=>{if(!this.destroyed)throw et})}}),i.on("ReaderHeadersReady",o=>{const j=Promise.withResolvers(),_e=this._fullReader;return _e.headersReady.then(()=>{var et;(!_e.isStreamingSupported||!_e.isRangeSupported)&&(this._lastProgress&&((et=s.onProgress)==null||et.call(s,this._lastProgress)),_e.onProgress=nt=>{var it;(it=s.onProgress)==null||it.call(s,{loaded:nt.loaded,total:nt.total})}),j.resolve({isStreamingSupported:_e.isStreamingSupported,isRangeSupported:_e.isRangeSupported,contentLength:_e.contentLength})},j.reject),j.promise}),i.on("GetRangeReader",(o,j)=>{assert(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const _e=this._networkStream.getRangeReader(o.begin,o.end);if(!_e){j.close();return}j.onPull=()=>{_e.read().then(function({value:et,done:nt}){if(nt){j.close();return}assert(et instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),j.enqueue(new Uint8Array(et),1,[et])}).catch(et=>{j.error(et)})},j.onCancel=et=>{_e.cancel(et),j.ready.catch(nt=>{if(!this.destroyed)throw nt})}}),i.on("GetDoc",({pdfInfo:o})=>{this._numPages=o.numPages,this._htmlForXfa=o.htmlForXfa,delete o.htmlForXfa,s._capability.resolve(new PDFDocumentProxy(o,this))}),i.on("DocException",function(o){let j;switch(o.name){case"PasswordException":j=new PasswordException(o.message,o.code);break;case"InvalidPDFException":j=new InvalidPDFException(o.message);break;case"MissingPDFException":j=new MissingPDFException(o.message);break;case"UnexpectedResponseException":j=new UnexpectedResponseException(o.message,o.status);break;case"UnknownErrorException":j=new UnknownErrorException(o.message,o.details);break;default:unreachable("DocException - expected a valid Error.")}s._capability.reject(j)}),i.on("PasswordRequest",o=>{if(xt(this,jo,Promise.withResolvers()),s.onPassword){const j=_e=>{_e instanceof Error?tt(this,jo).reject(_e):tt(this,jo).resolve({password:_e})};try{s.onPassword(j,o.code)}catch(_e){tt(this,jo).reject(_e)}}else tt(this,jo).reject(new PasswordException(o.message,o.code));return tt(this,jo).promise}),i.on("DataLoaded",o=>{var j;(j=s.onProgress)==null||j.call(s,{loaded:o.length,total:o.length}),this.downloadInfoCapability.resolve(o)}),i.on("StartRenderPage",o=>{if(this.destroyed)return;tt(this,Oo).get(o.pageIndex)._startRenderPage(o.transparency,o.cacheKey)}),i.on("commonobj",([o,j,_e])=>{var et;if(this.destroyed||this.commonObjs.has(o))return null;switch(j){case"Font":const{disableFontFace:nt,fontExtraProperties:it,pdfBug:rt}=this._params;if("error"in _e){const ut=_e.error;warn(`Error during font loading: ${ut}`),this.commonObjs.resolve(o,ut);break}const st=rt&&((et=globalThis.FontInspector)!=null&&et.enabled)?(ut,ct)=>globalThis.FontInspector.fontAdded(ut,ct):null,at=new FontFaceObject(_e,{disableFontFace:nt,inspectFont:st});this.fontLoader.bind(at).catch(()=>i.sendWithPromise("FontFallback",{id:o})).finally(()=>{!it&&at.data&&(at.data=null),this.commonObjs.resolve(o,at)});break;case"CopyLocalImage":const{imageRef:ot}=_e;assert(ot,"The imageRef must be defined.");for(const ut of tt(this,Oo).values())for(const[,ct]of ut.objs)if((ct==null?void 0:ct.ref)===ot)return ct.dataLen?(this.commonObjs.resolve(o,structuredClone(ct)),ct.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(o,_e);break;default:throw new Error(`Got unknown common object type ${j}`)}return null}),i.on("obj",([o,j,_e,et])=>{var it;if(this.destroyed)return;const nt=tt(this,Oo).get(j);if(!nt.objs.has(o)){if(nt._intentStates.size===0){(it=et==null?void 0:et.bitmap)==null||it.close();return}switch(_e){case"Image":nt.objs.resolve(o,et),(et==null?void 0:et.dataLen)>MAX_IMAGE_SIZE_TO_CACHE&&(nt._maybeCleanupAfterRender=!0);break;case"Pattern":nt.objs.resolve(o,et);break;default:throw new Error(`Got unknown object type ${_e}`)}}}),i.on("DocProgress",o=>{var j;this.destroyed||(j=s.onProgress)==null||j.call(s,{loaded:o.loaded,total:o.total})}),i.on("FetchBuiltInCMap",o=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(o):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),i.on("FetchStandardFontData",o=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(o):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var o;this.annotationStorage.size<=0&&warn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:i,transfer:s}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:i,filename:((o=this._fullReader)==null?void 0:o.filename)??null},s).finally(()=>{this.annotationStorage.resetModified()})}getPage(i){if(!Number.isInteger(i)||i<=0||i>this._numPages)return Promise.reject(new Error("Invalid page request."));const s=i-1,o=tt(this,um).get(s);if(o)return o;const j=this.messageHandler.sendWithPromise("GetPage",{pageIndex:s}).then(_e=>{if(this.destroyed)throw new Error("Transport destroyed");_e.refStr&&tt(this,hm).set(_e.refStr,i);const et=new PDFPageProxy(s,_e,this,this._params.pdfBug);return tt(this,Oo).set(s,et),et});return tt(this,um).set(s,j),j}getPageIndex(i){return isRefProxy(i)?this.messageHandler.sendWithPromise("GetPageIndex",{num:i.num,gen:i.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(i,s){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:i,intent:s})}getFieldObjects(){return yt(this,tp,Ym).call(this,"GetFieldObjects")}hasJSActions(){return yt(this,tp,Ym).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(i){return typeof i!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:i})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return yt(this,tp,Ym).call(this,"GetDocJSActions")}getPageJSActions(i){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:i})}getStructTree(i){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:i})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(i){return yt(this,tp,Ym).call(this,"GetOptionalContentConfig").then(s=>new OptionalContentConfig(s,i))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const i="GetMetadata",s=tt(this,Pl).get(i);if(s)return s;const o=this.messageHandler.sendWithPromise(i,null).then(j=>{var _e,et;return{info:j[0],metadata:j[1]?new Metadata(j[1]):null,contentDispositionFilename:((_e=this._fullReader)==null?void 0:_e.filename)??null,contentLength:((et=this._fullReader)==null?void 0:et.contentLength)??null}});return tt(this,Pl).set(i,o),o}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(i=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const s of tt(this,Oo).values())if(!s.cleanup())throw new Error(`startCleanup: Page ${s.pageNumber} is currently rendering.`);this.commonObjs.clear(),i||this.fontLoader.clear(),tt(this,Pl).clear(),this.filterFactory.destroy(!0),TextLayer.cleanup()}}cachedPageNumber(i){if(!isRefProxy(i))return null;const s=i.gen===0?`${i.num}R`:`${i.num}R${i.gen}`;return tt(this,hm).get(s)??null}}Pl=new WeakMap,Oo=new WeakMap,um=new WeakMap,hm=new WeakMap,jo=new WeakMap,tp=new WeakSet,Ym=function(i,s=null){const o=tt(this,Pl).get(i);if(o)return o;const j=this.messageHandler.sendWithPromise(i,s);return tt(this,Pl).set(i,j),j};const INITIAL_DATA=Symbol("INITIAL_DATA");var bo,qv,cx;class PDFObjects{constructor(){At(this,qv);At(this,bo,Object.create(null))}get(i,s=null){if(s){const j=yt(this,qv,cx).call(this,i);return j.promise.then(()=>s(j.data)),null}const o=tt(this,bo)[i];if(!o||o.data===INITIAL_DATA)throw new Error(`Requesting object that isn't resolved yet ${i}.`);return o.data}has(i){const s=tt(this,bo)[i];return!!s&&s.data!==INITIAL_DATA}resolve(i,s=null){const o=yt(this,qv,cx).call(this,i);o.data=s,o.resolve()}clear(){var i;for(const s in tt(this,bo)){const{data:o}=tt(this,bo)[s];(i=o==null?void 0:o.bitmap)==null||i.close()}xt(this,bo,Object.create(null))}*[Symbol.iterator](){for(const i in tt(this,bo)){const{data:s}=tt(this,bo)[i];s!==INITIAL_DATA&&(yield[i,s])}}}bo=new WeakMap,qv=new WeakSet,cx=function(i){var s;return(s=tt(this,bo))[i]||(s[i]={...Promise.withResolvers(),data:INITIAL_DATA})};var du;class RenderTask{constructor(i){At(this,du,null);xt(this,du,i),this.onContinue=null}get promise(){return tt(this,du).capability.promise}cancel(i=0){tt(this,du).cancel(null,i)}get separateAnnots(){const{separateAnnots:i}=tt(this,du).operatorList;if(!i)return!1;const{annotationCanvasMap:s}=tt(this,du);return i.form||i.canvas&&(s==null?void 0:s.size)>0}}du=new WeakMap;var fu,np;const Fu=class Fu{constructor({callback:i,params:s,objs:o,commonObjs:j,annotationCanvasMap:_e,operatorList:et,pageIndex:nt,canvasFactory:it,filterFactory:rt,useRequestAnimationFrame:st=!1,pdfBug:at=!1,pageColors:ot=null}){At(this,fu,null);this.callback=i,this.params=s,this.objs=o,this.commonObjs=j,this.annotationCanvasMap=_e,this.operatorListIdx=null,this.operatorList=et,this._pageIndex=nt,this.canvasFactory=it,this.filterFactory=rt,this._pdfBug=at,this.pageColors=ot,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=st===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=s.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:i=!1,optionalContentConfig:s}){var nt,it;if(this.cancelled)return;if(this._canvas){if(tt(Fu,np).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");tt(Fu,np).add(this._canvas)}this._pdfBug&&((nt=globalThis.StepperManager)!=null&&nt.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:o,viewport:j,transform:_e,background:et}=this.params;this.gfx=new CanvasGraphics(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:s},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:_e,viewport:j,transparency:i,background:et}),this.operatorListIdx=0,this.graphicsReady=!0,(it=this.graphicsReadyCallback)==null||it.call(this)}cancel(i=null,s=0){var o;this.running=!1,this.cancelled=!0,(o=this.gfx)==null||o.endDrawing(),tt(this,fu)&&(window.cancelAnimationFrame(tt(this,fu)),xt(this,fu,null)),tt(Fu,np).delete(this._canvas),this.callback(i||new RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,s))}operatorListChanged(){var i;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(i=this.stepper)==null||i.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?xt(this,fu,window.requestAnimationFrame(()=>{xt(this,fu,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),tt(Fu,np).delete(this._canvas),this.callback())))}};fu=new WeakMap,np=new WeakMap,At(Fu,np,new WeakSet);let InternalRenderTask=Fu;const version="4.4.168",build="19fbc8998";function makeColorComp(a){return Math.floor(Math.max(0,Math.min(1,a))*255).toString(16).padStart(2,"0")}function scaleAndClamp(a){return Math.max(0,Math.min(255,255*a))}class ColorConverters{static CMYK_G([i,s,o,j]){return["G",1-Math.min(1,.3*i+.59*o+.11*s+j)]}static G_CMYK([i]){return["CMYK",0,0,0,1-i]}static G_RGB([i]){return["RGB",i,i,i]}static G_rgb([i]){return i=scaleAndClamp(i),[i,i,i]}static G_HTML([i]){const s=makeColorComp(i);return`#${s}${s}${s}`}static RGB_G([i,s,o]){return["G",.3*i+.59*s+.11*o]}static RGB_rgb(i){return i.map(scaleAndClamp)}static RGB_HTML(i){return`#${i.map(makeColorComp).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([i,s,o,j]){return["RGB",1-Math.min(1,i+j),1-Math.min(1,o+j),1-Math.min(1,s+j)]}static CMYK_rgb([i,s,o,j]){return[scaleAndClamp(1-Math.min(1,i+j)),scaleAndClamp(1-Math.min(1,o+j)),scaleAndClamp(1-Math.min(1,s+j))]}static CMYK_HTML(i){const s=this.CMYK_RGB(i).slice(1);return this.RGB_HTML(s)}static RGB_CMYK([i,s,o]){const j=1-i,_e=1-s,et=1-o,nt=Math.min(j,_e,et);return["CMYK",j,_e,et,nt]}}class XfaLayer{static setupStorage(i,s,o,j,_e){const et=j.getValue(s,{value:null});switch(o.name){case"textarea":if(et.value!==null&&(i.textContent=et.value),_e==="print")break;i.addEventListener("input",nt=>{j.setValue(s,{value:nt.target.value})});break;case"input":if(o.attributes.type==="radio"||o.attributes.type==="checkbox"){if(et.value===o.attributes.xfaOn?i.setAttribute("checked",!0):et.value===o.attributes.xfaOff&&i.removeAttribute("checked"),_e==="print")break;i.addEventListener("change",nt=>{j.setValue(s,{value:nt.target.checked?nt.target.getAttribute("xfaOn"):nt.target.getAttribute("xfaOff")})})}else{if(et.value!==null&&i.setAttribute("value",et.value),_e==="print")break;i.addEventListener("input",nt=>{j.setValue(s,{value:nt.target.value})})}break;case"select":if(et.value!==null){i.setAttribute("value",et.value);for(const nt of o.children)nt.attributes.value===et.value?nt.attributes.selected=!0:nt.attributes.hasOwnProperty("selected")&&delete nt.attributes.selected}i.addEventListener("input",nt=>{const it=nt.target.options,rt=it.selectedIndex===-1?"":it[it.selectedIndex].value;j.setValue(s,{value:rt})});break}}static setAttributes({html:i,element:s,storage:o=null,intent:j,linkService:_e}){const{attributes:et}=s,nt=i instanceof HTMLAnchorElement;et.type==="radio"&&(et.name=`${et.name}-${j}`);for(const[it,rt]of Object.entries(et))if(rt!=null)switch(it){case"class":rt.length&&i.setAttribute(it,rt.join(" "));break;case"dataId":break;case"id":i.setAttribute("data-element-id",rt);break;case"style":Object.assign(i.style,rt);break;case"textContent":i.textContent=rt;break;default:(!nt||it!=="href"&&it!=="newWindow")&&i.setAttribute(it,rt)}nt&&_e.addLinkAttributes(i,et.href,et.newWindow),o&&et.dataId&&this.setupStorage(i,et.dataId,s,o)}static render(i){var at,ot;const s=i.annotationStorage,o=i.linkService,j=i.xfaHtml,_e=i.intent||"display",et=document.createElement(j.name);j.attributes&&this.setAttributes({html:et,element:j,intent:_e,linkService:o});const nt=_e!=="richText",it=i.div;if(it.append(et),i.viewport){const ut=`matrix(${i.viewport.transform.join(",")})`;it.style.transform=ut}nt&&it.setAttribute("class","xfaLayer xfaFont");const rt=[];if(j.children.length===0){if(j.value){const ut=document.createTextNode(j.value);et.append(ut),nt&&XfaText.shouldBuildText(j.name)&&rt.push(ut)}return{textDivs:rt}}const st=[[j,-1,et]];for(;st.length>0;){const[ut,ct,dt]=st.at(-1);if(ct+1===ut.children.length){st.pop();continue}const ft=ut.children[++st.at(-1)[1]];if(ft===null)continue;const{name:lt}=ft;if(lt==="#text"){const pt=document.createTextNode(ft.value);rt.push(pt),dt.append(pt);continue}const ht=(at=ft==null?void 0:ft.attributes)!=null&&at.xmlns?document.createElementNS(ft.attributes.xmlns,lt):document.createElement(lt);if(dt.append(ht),ft.attributes&&this.setAttributes({html:ht,element:ft,storage:s,intent:_e,linkService:o}),((ot=ft.children)==null?void 0:ot.length)>0)st.push([ft,-1,ht]);else if(ft.value){const pt=document.createTextNode(ft.value);nt&&XfaText.shouldBuildText(lt)&&rt.push(pt),ht.append(pt)}}for(const ut of it.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))ut.setAttribute("readOnly",!0);return{textDivs:rt}}static update(i){const s=`matrix(${i.viewport.transform.join(",")})`;i.div.style.transform=s,i.div.hidden=!1}}const DEFAULT_TAB_INDEX=1e3,annotation_layer_DEFAULT_FONT_SIZE=9,GetElementsByNameSet=new WeakSet;function getRectDims(a){return{width:a[2]-a[0],height:a[3]-a[1]}}class AnnotationElementFactory{static create(i){switch(i.data.annotationType){case AnnotationType.LINK:return new LinkAnnotationElement(i);case AnnotationType.TEXT:return new TextAnnotationElement(i);case AnnotationType.WIDGET:switch(i.data.fieldType){case"Tx":return new TextWidgetAnnotationElement(i);case"Btn":return i.data.radioButton?new RadioButtonWidgetAnnotationElement(i):i.data.checkBox?new CheckboxWidgetAnnotationElement(i):new PushButtonWidgetAnnotationElement(i);case"Ch":return new ChoiceWidgetAnnotationElement(i);case"Sig":return new SignatureWidgetAnnotationElement(i)}return new WidgetAnnotationElement(i);case AnnotationType.POPUP:return new PopupAnnotationElement(i);case AnnotationType.FREETEXT:return new FreeTextAnnotationElement(i);case AnnotationType.LINE:return new LineAnnotationElement(i);case AnnotationType.SQUARE:return new SquareAnnotationElement(i);case AnnotationType.CIRCLE:return new CircleAnnotationElement(i);case AnnotationType.POLYLINE:return new PolylineAnnotationElement(i);case AnnotationType.CARET:return new CaretAnnotationElement(i);case AnnotationType.INK:return new InkAnnotationElement(i);case AnnotationType.POLYGON:return new PolygonAnnotationElement(i);case AnnotationType.HIGHLIGHT:return new HighlightAnnotationElement(i);case AnnotationType.UNDERLINE:return new UnderlineAnnotationElement(i);case AnnotationType.SQUIGGLY:return new SquigglyAnnotationElement(i);case AnnotationType.STRIKEOUT:return new StrikeOutAnnotationElement(i);case AnnotationType.STAMP:return new StampAnnotationElement(i);case AnnotationType.FILEATTACHMENT:return new FileAttachmentAnnotationElement(i);default:return new AnnotationElement(i)}}}var ip,dm,fm,Kv,ux;const $x=class $x{constructor(i,{isRenderable:s=!1,ignoreBorder:o=!1,createQuadrilaterals:j=!1}={}){At(this,Kv);At(this,ip,null);At(this,dm,!1);At(this,fm,null);this.isRenderable=s,this.data=i.data,this.layer=i.layer,this.linkService=i.linkService,this.downloadManager=i.downloadManager,this.imageResourcesPath=i.imageResourcesPath,this.renderForms=i.renderForms,this.svgFactory=i.svgFactory,this.annotationStorage=i.annotationStorage,this.enableScripting=i.enableScripting,this.hasJSActions=i.hasJSActions,this._fieldObjects=i.fieldObjects,this.parent=i.parent,s&&(this.container=this._createContainer(o)),j&&this._createQuadrilaterals()}static _hasPopupData({titleObj:i,contentsObj:s,richText:o}){return!!(i!=null&&i.str||s!=null&&s.str||o!=null&&o.str)}get hasPopupData(){return $x._hasPopupData(this.data)}updateEdited(i){var o;if(!this.container)return;tt(this,ip)||xt(this,ip,{rect:this.data.rect.slice(0)});const{rect:s}=i;s&&yt(this,Kv,ux).call(this,s),(o=tt(this,fm))==null||o.popup.updateEdited(i)}resetEdited(){var i;tt(this,ip)&&(yt(this,Kv,ux).call(this,tt(this,ip).rect),(i=tt(this,fm))==null||i.popup.resetEdited(),xt(this,ip,null))}_createContainer(i){const{data:s,parent:{page:o,viewport:j}}=this,_e=document.createElement("section");_e.setAttribute("data-annotation-id",s.id),this instanceof WidgetAnnotationElement||(_e.tabIndex=DEFAULT_TAB_INDEX);const{style:et}=_e;if(et.zIndex=this.parent.zIndex++,s.popupRef&&_e.setAttribute("aria-haspopup","dialog"),s.alternativeText&&(_e.title=s.alternativeText),s.noRotate&&_e.classList.add("norotate"),!s.rect||this instanceof PopupAnnotationElement){const{rotation:dt}=s;return!s.hasOwnCanvas&&dt!==0&&this.setRotation(dt,_e),_e}const{width:nt,height:it}=getRectDims(s.rect);if(!i&&s.borderStyle.width>0){et.borderWidth=`${s.borderStyle.width}px`;const dt=s.borderStyle.horizontalCornerRadius,ft=s.borderStyle.verticalCornerRadius;if(dt>0||ft>0){const ht=`calc(${dt}px * var(--scale-factor)) / calc(${ft}px * var(--scale-factor))`;et.borderRadius=ht}else if(this instanceof RadioButtonWidgetAnnotationElement){const ht=`calc(${nt}px * var(--scale-factor)) / calc(${it}px * var(--scale-factor))`;et.borderRadius=ht}switch(s.borderStyle.style){case AnnotationBorderStyleType.SOLID:et.borderStyle="solid";break;case AnnotationBorderStyleType.DASHED:et.borderStyle="dashed";break;case AnnotationBorderStyleType.BEVELED:warn("Unimplemented border style: beveled");break;case AnnotationBorderStyleType.INSET:warn("Unimplemented border style: inset");break;case AnnotationBorderStyleType.UNDERLINE:et.borderBottomStyle="solid";break}const lt=s.borderColor||null;lt?(xt(this,dm,!0),et.borderColor=Util.makeHexColor(lt[0]|0,lt[1]|0,lt[2]|0)):et.borderWidth=0}const rt=Util.normalizeRect([s.rect[0],o.view[3]-s.rect[1]+o.view[1],s.rect[2],o.view[3]-s.rect[3]+o.view[1]]),{pageWidth:st,pageHeight:at,pageX:ot,pageY:ut}=j.rawDims;et.left=`${100*(rt[0]-ot)/st}%`,et.top=`${100*(rt[1]-ut)/at}%`;const{rotation:ct}=s;return s.hasOwnCanvas||ct===0?(et.width=`${100*nt/st}%`,et.height=`${100*it/at}%`):this.setRotation(ct,_e),_e}setRotation(i,s=this.container){if(!this.data.rect)return;const{pageWidth:o,pageHeight:j}=this.parent.viewport.rawDims,{width:_e,height:et}=getRectDims(this.data.rect);let nt,it;i%180===0?(nt=100*_e/o,it=100*et/j):(nt=100*et/o,it=100*_e/j),s.style.width=`${nt}%`,s.style.height=`${it}%`,s.setAttribute("data-main-rotation",(360-i)%360)}get _commonActions(){const i=(s,o,j)=>{const _e=j.detail[s],et=_e[0],nt=_e.slice(1);j.target.style[o]=ColorConverters[`${et}_HTML`](nt),this.annotationStorage.setValue(this.data.id,{[o]:ColorConverters[`${et}_rgb`](nt)})};return shadow(this,"_commonActions",{display:s=>{const{display:o}=s.detail,j=o%2===1;this.container.style.visibility=j?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:j,noPrint:o===1||o===2})},print:s=>{this.annotationStorage.setValue(this.data.id,{noPrint:!s.detail.print})},hidden:s=>{const{hidden:o}=s.detail;this.container.style.visibility=o?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:o,noView:o})},focus:s=>{setTimeout(()=>s.target.focus({preventScroll:!1}),0)},userName:s=>{s.target.title=s.detail.userName},readonly:s=>{s.target.disabled=s.detail.readonly},required:s=>{this._setRequired(s.target,s.detail.required)},bgColor:s=>{i("bgColor","backgroundColor",s)},fillColor:s=>{i("fillColor","backgroundColor",s)},fgColor:s=>{i("fgColor","color",s)},textColor:s=>{i("textColor","color",s)},borderColor:s=>{i("borderColor","borderColor",s)},strokeColor:s=>{i("strokeColor","borderColor",s)},rotation:s=>{const o=s.detail.rotation;this.setRotation(o),this.annotationStorage.setValue(this.data.id,{rotation:o})}})}_dispatchEventFromSandbox(i,s){const o=this._commonActions;for(const j of Object.keys(s.detail)){const _e=i[j]||o[j];_e==null||_e(s)}}_setDefaultPropertiesFromJS(i){if(!this.enableScripting)return;const s=this.annotationStorage.getRawValue(this.data.id);if(!s)return;const o=this._commonActions;for(const[j,_e]of Object.entries(s)){const et=o[j];if(et){const nt={detail:{[j]:_e},target:i};et(nt),delete s[j]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:i}=this.data;if(!i)return;const[s,o,j,_e]=this.data.rect.map(dt=>Math.fround(dt));if(i.length===8){const[dt,ft,lt,ht]=i.subarray(2,6);if(j===dt&&_e===ft&&s===lt&&o===ht)return}const{style:et}=this.container;let nt;if(tt(this,dm)){const{borderColor:dt,borderWidth:ft}=et;et.borderWidth=0,nt=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${dt}" stroke-width="${ft}">`],this.container.classList.add("hasBorder")}const it=j-s,rt=_e-o,{svgFactory:st}=this,at=st.createElement("svg");at.classList.add("quadrilateralsContainer"),at.setAttribute("width",0),at.setAttribute("height",0);const ot=st.createElement("defs");at.append(ot);const ut=st.createElement("clipPath"),ct=`clippath_${this.data.id}`;ut.setAttribute("id",ct),ut.setAttribute("clipPathUnits","objectBoundingBox"),ot.append(ut);for(let dt=2,ft=i.length;dt<ft;dt+=8){const lt=i[dt],ht=i[dt+1],pt=i[dt+2],vt=i[dt+3],gt=st.createElement("rect"),_t=(pt-s)/it,mt=(_e-ht)/rt,bt=(lt-pt)/it,Ct=(ht-vt)/rt;gt.setAttribute("x",_t),gt.setAttribute("y",mt),gt.setAttribute("width",bt),gt.setAttribute("height",Ct),ut.append(gt),nt==null||nt.push(`<rect vector-effect="non-scaling-stroke" x="${_t}" y="${mt}" width="${bt}" height="${Ct}"/>`)}tt(this,dm)&&(nt.push("</g></svg>')"),et.backgroundImage=nt.join("")),this.container.append(at),this.container.style.clipPath=`url(#${ct})`}_createPopup(){const{container:i,data:s}=this;i.setAttribute("aria-haspopup","dialog");const o=xt(this,fm,new PopupAnnotationElement({data:{color:s.color,titleObj:s.titleObj,modificationDate:s.modificationDate,contentsObj:s.contentsObj,richText:s.richText,parentRect:s.rect,borderStyle:0,id:`popup_${s.id}`,rotation:s.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(o.render())}render(){unreachable("Abstract method `AnnotationElement.render` called")}_getElementsByName(i,s=null){const o=[];if(this._fieldObjects){const j=this._fieldObjects[i];if(j)for(const{page:_e,id:et,exportValues:nt}of j){if(_e===-1||et===s)continue;const it=typeof nt=="string"?nt:null,rt=document.querySelector(`[data-element-id="${et}"]`);if(rt&&!GetElementsByNameSet.has(rt)){warn(`_getElementsByName - element not allowed: ${et}`);continue}o.push({id:et,exportValue:it,domElement:rt})}return o}for(const j of document.getElementsByName(i)){const{exportValue:_e}=j,et=j.getAttribute("data-element-id");et!==s&&GetElementsByNameSet.has(j)&&o.push({id:et,exportValue:_e,domElement:j})}return o}show(){var i;this.container&&(this.container.hidden=!1),(i=this.popup)==null||i.maybeShow()}hide(){var i;this.container&&(this.container.hidden=!0),(i=this.popup)==null||i.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const i=this.getElementsToTriggerPopup();if(Array.isArray(i))for(const s of i)s.classList.add("highlightArea");else i.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:i,data:{id:s}}=this;this.container.addEventListener("dblclick",()=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("switchannotationeditormode",{source:this,mode:i,editId:s})})}};ip=new WeakMap,dm=new WeakMap,fm=new WeakMap,Kv=new WeakSet,ux=function(i){const{container:{style:s},data:{rect:o,rotation:j},parent:{viewport:{rawDims:{pageWidth:_e,pageHeight:et,pageX:nt,pageY:it}}}}=this;o==null||o.splice(0,4,...i);const{width:rt,height:st}=getRectDims(i);s.left=`${100*(i[0]-nt)/_e}%`,s.top=`${100*(et-i[3]+it)/et}%`,j===0?(s.width=`${100*rt/_e}%`,s.height=`${100*st/et}%`):this.setRotation(j)};let AnnotationElement=$x;var io,ku,yA,_A;class LinkAnnotationElement extends AnnotationElement{constructor(s,o=null){super(s,{isRenderable:!0,ignoreBorder:!!(o!=null&&o.ignoreBorder),createQuadrilaterals:!0});At(this,io);this.isTooltipOnly=s.data.isTooltipOnly}render(){const{data:s,linkService:o}=this,j=document.createElement("a");j.setAttribute("data-element-id",s.id);let _e=!1;return s.url?(o.addLinkAttributes(j,s.url,s.newWindow),_e=!0):s.action?(this._bindNamedAction(j,s.action),_e=!0):s.attachment?(yt(this,io,yA).call(this,j,s.attachment,s.attachmentDest),_e=!0):s.setOCGState?(yt(this,io,_A).call(this,j,s.setOCGState),_e=!0):s.dest?(this._bindLink(j,s.dest),_e=!0):(s.actions&&(s.actions.Action||s.actions["Mouse Up"]||s.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(j,s),_e=!0),s.resetForm?(this._bindResetFormAction(j,s.resetForm),_e=!0):this.isTooltipOnly&&!_e&&(this._bindLink(j,""),_e=!0)),this.container.classList.add("linkAnnotation"),_e&&this.container.append(j),this.container}_bindLink(s,o){s.href=this.linkService.getDestinationHash(o),s.onclick=()=>(o&&this.linkService.goToDestination(o),!1),(o||o==="")&&yt(this,io,ku).call(this)}_bindNamedAction(s,o){s.href=this.linkService.getAnchorUrl(""),s.onclick=()=>(this.linkService.executeNamedAction(o),!1),yt(this,io,ku).call(this)}_bindJSAction(s,o){s.href=this.linkService.getAnchorUrl("");const j=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const _e of Object.keys(o.actions)){const et=j.get(_e);et&&(s[et]=()=>{var nt;return(nt=this.linkService.eventBus)==null||nt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:o.id,name:_e}}),!1})}s.onclick||(s.onclick=()=>!1),yt(this,io,ku).call(this)}_bindResetFormAction(s,o){const j=s.onclick;if(j||(s.href=this.linkService.getAnchorUrl("")),yt(this,io,ku).call(this),!this._fieldObjects){warn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),j||(s.onclick=()=>!1);return}s.onclick=()=>{var at;j==null||j();const{fields:_e,refs:et,include:nt}=o,it=[];if(_e.length!==0||et.length!==0){const ot=new Set(et);for(const ut of _e){const ct=this._fieldObjects[ut]||[];for(const{id:dt}of ct)ot.add(dt)}for(const ut of Object.values(this._fieldObjects))for(const ct of ut)ot.has(ct.id)===nt&&it.push(ct)}else for(const ot of Object.values(this._fieldObjects))it.push(...ot);const rt=this.annotationStorage,st=[];for(const ot of it){const{id:ut}=ot;switch(st.push(ut),ot.type){case"text":{const dt=ot.defaultValue||"";rt.setValue(ut,{value:dt});break}case"checkbox":case"radiobutton":{const dt=ot.defaultValue===ot.exportValues;rt.setValue(ut,{value:dt});break}case"combobox":case"listbox":{const dt=ot.defaultValue||"";rt.setValue(ut,{value:dt});break}default:continue}const ct=document.querySelector(`[data-element-id="${ut}"]`);if(ct){if(!GetElementsByNameSet.has(ct)){warn(`_bindResetFormAction - element not allowed: ${ut}`);continue}}else continue;ct.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((at=this.linkService.eventBus)==null||at.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:st,name:"ResetForm"}})),!1}}}io=new WeakSet,ku=function(){this.container.setAttribute("data-internal-link","")},yA=function(s,o,j=null){s.href=this.linkService.getAnchorUrl(""),o.description&&(s.title=o.description),s.onclick=()=>{var _e;return(_e=this.downloadManager)==null||_e.openOrDownloadData(o.content,o.filename,j),!1},yt(this,io,ku).call(this)},_A=function(s,o){s.href=this.linkService.getAnchorUrl(""),s.onclick=()=>(this.linkService.executeSetOCGState(o),!1),yt(this,io,ku).call(this)};class TextAnnotationElement extends AnnotationElement{constructor(i){super(i,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const i=document.createElement("img");return i.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",i.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),i.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(i),this.container}}class WidgetAnnotationElement extends AnnotationElement{render(){return this.container}showElementAndHideCanvas(i){var s;this.data.hasOwnCanvas&&(((s=i.previousSibling)==null?void 0:s.nodeName)==="CANVAS"&&(i.previousSibling.hidden=!0),i.hidden=!1)}_getKeyModifier(i){return util_FeatureTest.platform.isMac?i.metaKey:i.ctrlKey}_setEventListener(i,s,o,j,_e){o.includes("mouse")?i.addEventListener(o,et=>{var nt;(nt=this.linkService.eventBus)==null||nt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:j,value:_e(et),shift:et.shiftKey,modifier:this._getKeyModifier(et)}})}):i.addEventListener(o,et=>{var nt;if(o==="blur"){if(!s.focused||!et.relatedTarget)return;s.focused=!1}else if(o==="focus"){if(s.focused)return;s.focused=!0}_e&&((nt=this.linkService.eventBus)==null||nt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:j,value:_e(et)}}))})}_setEventListeners(i,s,o,j){var _e,et,nt;for(const[it,rt]of o)(rt==="Action"||(_e=this.data.actions)!=null&&_e[rt])&&((rt==="Focus"||rt==="Blur")&&(s||(s={focused:!1})),this._setEventListener(i,s,it,rt,j),rt==="Focus"&&!((et=this.data.actions)!=null&&et.Blur)?this._setEventListener(i,s,"blur","Blur",null):rt==="Blur"&&!((nt=this.data.actions)!=null&&nt.Focus)&&this._setEventListener(i,s,"focus","Focus",null))}_setBackgroundColor(i){const s=this.data.backgroundColor||null;i.style.backgroundColor=s===null?"transparent":Util.makeHexColor(s[0],s[1],s[2])}_setTextStyle(i){const s=["left","center","right"],{fontColor:o}=this.data.defaultAppearanceData,j=this.data.defaultAppearanceData.fontSize||annotation_layer_DEFAULT_FONT_SIZE,_e=i.style;let et;const nt=2,it=rt=>Math.round(10*rt)/10;if(this.data.multiLine){const rt=Math.abs(this.data.rect[3]-this.data.rect[1]-nt),st=Math.round(rt/(LINE_FACTOR*j))||1,at=rt/st;et=Math.min(j,it(at/LINE_FACTOR))}else{const rt=Math.abs(this.data.rect[3]-this.data.rect[1]-nt);et=Math.min(j,it(rt/LINE_FACTOR))}_e.fontSize=`calc(${et}px * var(--scale-factor))`,_e.color=Util.makeHexColor(o[0],o[1],o[2]),this.data.textAlignment!==null&&(_e.textAlign=s[this.data.textAlignment])}_setRequired(i,s){s?i.setAttribute("required",!0):i.removeAttribute("required"),i.setAttribute("aria-required",s)}}class TextWidgetAnnotationElement extends WidgetAnnotationElement{constructor(i){const s=i.renderForms||i.data.hasOwnCanvas||!i.data.hasAppearance&&!!i.data.fieldValue;super(i,{isRenderable:s})}setPropertyOnSiblings(i,s,o,j){const _e=this.annotationStorage;for(const et of this._getElementsByName(i.name,i.id))et.domElement&&(et.domElement[s]=o),_e.setValue(et.id,{[j]:o})}render(){var j,_e;const i=this.annotationStorage,s=this.data.id;this.container.classList.add("textWidgetAnnotation");let o=null;if(this.renderForms){const et=i.getValue(s,{value:this.data.fieldValue});let nt=et.value||"";const it=i.getValue(s,{charLimit:this.data.maxLen}).charLimit;it&&nt.length>it&&(nt=nt.slice(0,it));let rt=et.formattedValue||((j=this.data.textContent)==null?void 0:j.join(`
`))||null;rt&&this.data.comb&&(rt=rt.replaceAll(/\s+/g,""));const st={userValue:nt,formattedValue:rt,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(o=document.createElement("textarea"),o.textContent=rt??nt,this.data.doNotScroll&&(o.style.overflowY="hidden")):(o=document.createElement("input"),o.type="text",o.setAttribute("value",rt??nt),this.data.doNotScroll&&(o.style.overflowX="hidden")),this.data.hasOwnCanvas&&(o.hidden=!0),GetElementsByNameSet.add(o),o.setAttribute("data-element-id",s),o.disabled=this.data.readOnly,o.name=this.data.fieldName,o.tabIndex=DEFAULT_TAB_INDEX,this._setRequired(o,this.data.required),it&&(o.maxLength=it),o.addEventListener("input",ot=>{i.setValue(s,{value:ot.target.value}),this.setPropertyOnSiblings(o,"value",ot.target.value,"value"),st.formattedValue=null}),o.addEventListener("resetform",ot=>{const ut=this.data.defaultFieldValue??"";o.value=st.userValue=ut,st.formattedValue=null});let at=ot=>{const{formattedValue:ut}=st;ut!=null&&(ot.target.value=ut),ot.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){o.addEventListener("focus",ut=>{var dt;if(st.focused)return;const{target:ct}=ut;st.userValue&&(ct.value=st.userValue),st.lastCommittedValue=ct.value,st.commitKey=1,(dt=this.data.actions)!=null&&dt.Focus||(st.focused=!0)}),o.addEventListener("updatefromsandbox",ut=>{this.showElementAndHideCanvas(ut.target);const ct={value(dt){st.userValue=dt.detail.value??"",i.setValue(s,{value:st.userValue.toString()}),dt.target.value=st.userValue},formattedValue(dt){const{formattedValue:ft}=dt.detail;st.formattedValue=ft,ft!=null&&dt.target!==document.activeElement&&(dt.target.value=ft),i.setValue(s,{formattedValue:ft})},selRange(dt){dt.target.setSelectionRange(...dt.detail.selRange)},charLimit:dt=>{var pt;const{charLimit:ft}=dt.detail,{target:lt}=dt;if(ft===0){lt.removeAttribute("maxLength");return}lt.setAttribute("maxLength",ft);let ht=st.userValue;!ht||ht.length<=ft||(ht=ht.slice(0,ft),lt.value=st.userValue=ht,i.setValue(s,{value:ht}),(pt=this.linkService.eventBus)==null||pt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:ht,willCommit:!0,commitKey:1,selStart:lt.selectionStart,selEnd:lt.selectionEnd}}))}};this._dispatchEventFromSandbox(ct,ut)}),o.addEventListener("keydown",ut=>{var ft;st.commitKey=1;let ct=-1;if(ut.key==="Escape"?ct=0:ut.key==="Enter"&&!this.data.multiLine?ct=2:ut.key==="Tab"&&(st.commitKey=3),ct===-1)return;const{value:dt}=ut.target;st.lastCommittedValue!==dt&&(st.lastCommittedValue=dt,st.userValue=dt,(ft=this.linkService.eventBus)==null||ft.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:dt,willCommit:!0,commitKey:ct,selStart:ut.target.selectionStart,selEnd:ut.target.selectionEnd}}))});const ot=at;at=null,o.addEventListener("blur",ut=>{var dt,ft;if(!st.focused||!ut.relatedTarget)return;(dt=this.data.actions)!=null&&dt.Blur||(st.focused=!1);const{value:ct}=ut.target;st.userValue=ct,st.lastCommittedValue!==ct&&((ft=this.linkService.eventBus)==null||ft.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:ct,willCommit:!0,commitKey:st.commitKey,selStart:ut.target.selectionStart,selEnd:ut.target.selectionEnd}})),ot(ut)}),(_e=this.data.actions)!=null&&_e.Keystroke&&o.addEventListener("beforeinput",ut=>{var gt;st.lastCommittedValue=null;const{data:ct,target:dt}=ut,{value:ft,selectionStart:lt,selectionEnd:ht}=dt;let pt=lt,vt=ht;switch(ut.inputType){case"deleteWordBackward":{const _t=ft.substring(0,lt).match(/\w*[^\w]*$/);_t&&(pt-=_t[0].length);break}case"deleteWordForward":{const _t=ft.substring(lt).match(/^[^\w]*\w*/);_t&&(vt+=_t[0].length);break}case"deleteContentBackward":lt===ht&&(pt-=1);break;case"deleteContentForward":lt===ht&&(vt+=1);break}ut.preventDefault(),(gt=this.linkService.eventBus)==null||gt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:ft,change:ct||"",willCommit:!1,selStart:pt,selEnd:vt}})}),this._setEventListeners(o,st,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ut=>ut.target.value)}if(at&&o.addEventListener("blur",at),this.data.comb){const ut=(this.data.rect[2]-this.data.rect[0])/it;o.classList.add("comb"),o.style.letterSpacing=`calc(${ut}px * var(--scale-factor) - 1ch)`}}else o=document.createElement("div"),o.textContent=this.data.fieldValue,o.style.verticalAlign="middle",o.style.display="table-cell",this.data.hasOwnCanvas&&(o.hidden=!0);return this._setTextStyle(o),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class SignatureWidgetAnnotationElement extends WidgetAnnotationElement{constructor(i){super(i,{isRenderable:!!i.data.hasOwnCanvas})}}class CheckboxWidgetAnnotationElement extends WidgetAnnotationElement{constructor(i){super(i,{isRenderable:i.renderForms})}render(){const i=this.annotationStorage,s=this.data,o=s.id;let j=i.getValue(o,{value:s.exportValue===s.fieldValue}).value;typeof j=="string"&&(j=j!=="Off",i.setValue(o,{value:j})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const _e=document.createElement("input");return GetElementsByNameSet.add(_e),_e.setAttribute("data-element-id",o),_e.disabled=s.readOnly,this._setRequired(_e,this.data.required),_e.type="checkbox",_e.name=s.fieldName,j&&_e.setAttribute("checked",!0),_e.setAttribute("exportValue",s.exportValue),_e.tabIndex=DEFAULT_TAB_INDEX,_e.addEventListener("change",et=>{const{name:nt,checked:it}=et.target;for(const rt of this._getElementsByName(nt,o)){const st=it&&rt.exportValue===s.exportValue;rt.domElement&&(rt.domElement.checked=st),i.setValue(rt.id,{value:st})}i.setValue(o,{value:it})}),_e.addEventListener("resetform",et=>{const nt=s.defaultFieldValue||"Off";et.target.checked=nt===s.exportValue}),this.enableScripting&&this.hasJSActions&&(_e.addEventListener("updatefromsandbox",et=>{const nt={value(it){it.target.checked=it.detail.value!=="Off",i.setValue(o,{value:it.target.checked})}};this._dispatchEventFromSandbox(nt,et)}),this._setEventListeners(_e,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],et=>et.target.checked)),this._setBackgroundColor(_e),this._setDefaultPropertiesFromJS(_e),this.container.append(_e),this.container}}class RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement{constructor(i){super(i,{isRenderable:i.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const i=this.annotationStorage,s=this.data,o=s.id;let j=i.getValue(o,{value:s.fieldValue===s.buttonValue}).value;if(typeof j=="string"&&(j=j!==s.buttonValue,i.setValue(o,{value:j})),j)for(const et of this._getElementsByName(s.fieldName,o))i.setValue(et.id,{value:!1});const _e=document.createElement("input");if(GetElementsByNameSet.add(_e),_e.setAttribute("data-element-id",o),_e.disabled=s.readOnly,this._setRequired(_e,this.data.required),_e.type="radio",_e.name=s.fieldName,j&&_e.setAttribute("checked",!0),_e.tabIndex=DEFAULT_TAB_INDEX,_e.addEventListener("change",et=>{const{name:nt,checked:it}=et.target;for(const rt of this._getElementsByName(nt,o))i.setValue(rt.id,{value:!1});i.setValue(o,{value:it})}),_e.addEventListener("resetform",et=>{const nt=s.defaultFieldValue;et.target.checked=nt!=null&&nt===s.buttonValue}),this.enableScripting&&this.hasJSActions){const et=s.buttonValue;_e.addEventListener("updatefromsandbox",nt=>{const it={value:rt=>{const st=et===rt.detail.value;for(const at of this._getElementsByName(rt.target.name)){const ot=st&&at.id===o;at.domElement&&(at.domElement.checked=ot),i.setValue(at.id,{value:ot})}}};this._dispatchEventFromSandbox(it,nt)}),this._setEventListeners(_e,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],nt=>nt.target.checked)}return this._setBackgroundColor(_e),this._setDefaultPropertiesFromJS(_e),this.container.append(_e),this.container}}class PushButtonWidgetAnnotationElement extends LinkAnnotationElement{constructor(i){super(i,{ignoreBorder:i.data.hasAppearance})}render(){const i=super.render();i.classList.add("buttonWidgetAnnotation","pushButton");const s=i.lastChild;return this.enableScripting&&this.hasJSActions&&s&&(this._setDefaultPropertiesFromJS(s),s.addEventListener("updatefromsandbox",o=>{this._dispatchEventFromSandbox({},o)})),i}}class ChoiceWidgetAnnotationElement extends WidgetAnnotationElement{constructor(i){super(i,{isRenderable:i.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const i=this.annotationStorage,s=this.data.id,o=i.getValue(s,{value:this.data.fieldValue}),j=document.createElement("select");GetElementsByNameSet.add(j),j.setAttribute("data-element-id",s),j.disabled=this.data.readOnly,this._setRequired(j,this.data.required),j.name=this.data.fieldName,j.tabIndex=DEFAULT_TAB_INDEX;let _e=this.data.combo&&this.data.options.length>0;this.data.combo||(j.size=this.data.options.length,this.data.multiSelect&&(j.multiple=!0)),j.addEventListener("resetform",st=>{const at=this.data.defaultFieldValue;for(const ot of j.options)ot.selected=ot.value===at});for(const st of this.data.options){const at=document.createElement("option");at.textContent=st.displayValue,at.value=st.exportValue,o.value.includes(st.exportValue)&&(at.setAttribute("selected",!0),_e=!1),j.append(at)}let et=null;if(_e){const st=document.createElement("option");st.value=" ",st.setAttribute("hidden",!0),st.setAttribute("selected",!0),j.prepend(st),et=()=>{st.remove(),j.removeEventListener("input",et),et=null},j.addEventListener("input",et)}const nt=st=>{const at=st?"value":"textContent",{options:ot,multiple:ut}=j;return ut?Array.prototype.filter.call(ot,ct=>ct.selected).map(ct=>ct[at]):ot.selectedIndex===-1?null:ot[ot.selectedIndex][at]};let it=nt(!1);const rt=st=>{const at=st.target.options;return Array.prototype.map.call(at,ot=>({displayValue:ot.textContent,exportValue:ot.value}))};return this.enableScripting&&this.hasJSActions?(j.addEventListener("updatefromsandbox",st=>{const at={value(ot){et==null||et();const ut=ot.detail.value,ct=new Set(Array.isArray(ut)?ut:[ut]);for(const dt of j.options)dt.selected=ct.has(dt.value);i.setValue(s,{value:nt(!0)}),it=nt(!1)},multipleSelection(ot){j.multiple=!0},remove(ot){const ut=j.options,ct=ot.detail.remove;ut[ct].selected=!1,j.remove(ct),ut.length>0&&Array.prototype.findIndex.call(ut,ft=>ft.selected)===-1&&(ut[0].selected=!0),i.setValue(s,{value:nt(!0),items:rt(ot)}),it=nt(!1)},clear(ot){for(;j.length!==0;)j.remove(0);i.setValue(s,{value:null,items:[]}),it=nt(!1)},insert(ot){const{index:ut,displayValue:ct,exportValue:dt}=ot.detail.insert,ft=j.children[ut],lt=document.createElement("option");lt.textContent=ct,lt.value=dt,ft?ft.before(lt):j.append(lt),i.setValue(s,{value:nt(!0),items:rt(ot)}),it=nt(!1)},items(ot){const{items:ut}=ot.detail;for(;j.length!==0;)j.remove(0);for(const ct of ut){const{displayValue:dt,exportValue:ft}=ct,lt=document.createElement("option");lt.textContent=dt,lt.value=ft,j.append(lt)}j.options.length>0&&(j.options[0].selected=!0),i.setValue(s,{value:nt(!0),items:rt(ot)}),it=nt(!1)},indices(ot){const ut=new Set(ot.detail.indices);for(const ct of ot.target.options)ct.selected=ut.has(ct.index);i.setValue(s,{value:nt(!0)}),it=nt(!1)},editable(ot){ot.target.disabled=!ot.detail.editable}};this._dispatchEventFromSandbox(at,st)}),j.addEventListener("input",st=>{var ut;const at=nt(!0),ot=nt(!1);i.setValue(s,{value:at}),st.preventDefault(),(ut=this.linkService.eventBus)==null||ut.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:it,change:ot,changeEx:at,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(j,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],st=>st.target.value)):j.addEventListener("input",function(st){i.setValue(s,{value:nt(!0)})}),this.data.combo&&this._setTextStyle(j),this._setBackgroundColor(j),this._setDefaultPropertiesFromJS(j),this.container.append(j),this.container}}class PopupAnnotationElement extends AnnotationElement{constructor(i){const{data:s,elements:o}=i;super(i,{isRenderable:AnnotationElement._hasPopupData(s)}),this.elements=o,this.popup=null}render(){this.container.classList.add("popupAnnotation");const i=this.popup=new PopupElement({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),s=[];for(const o of this.elements)o.popup=i,s.push(o.data.id),o.addHighlightArea();return this.container.setAttribute("aria-controls",s.map(o=>`${AnnotationPrefix}${o}`).join(",")),this.container}}var pm,Vy,Wy,gm,sp,fr,Ml,rp,Yv,Qv,mm,Fl,xo,Ll,Zv,Il,Jv,ap,op,er,gy,hx,bA,xA,EA,AA,my,vy,dx;class PopupElement{constructor({container:i,color:s,elements:o,titleObj:j,modificationDate:_e,contentsObj:et,richText:nt,parent:it,rect:rt,parentRect:st,open:at}){At(this,er);At(this,pm,yt(this,er,EA).bind(this));At(this,Vy,yt(this,er,dx).bind(this));At(this,Wy,yt(this,er,vy).bind(this));At(this,gm,yt(this,er,my).bind(this));At(this,sp,null);At(this,fr,null);At(this,Ml,null);At(this,rp,null);At(this,Yv,null);At(this,Qv,null);At(this,mm,null);At(this,Fl,!1);At(this,xo,null);At(this,Ll,null);At(this,Zv,null);At(this,Il,null);At(this,Jv,null);At(this,ap,null);At(this,op,!1);var ot;xt(this,fr,i),xt(this,Jv,j),xt(this,Ml,et),xt(this,Il,nt),xt(this,Qv,it),xt(this,sp,s),xt(this,Zv,rt),xt(this,mm,st),xt(this,Yv,o),xt(this,rp,PDFDateString.toDateObject(_e)),this.trigger=o.flatMap(ut=>ut.getElementsToTriggerPopup());for(const ut of this.trigger)ut.addEventListener("click",tt(this,gm)),ut.addEventListener("mouseenter",tt(this,Wy)),ut.addEventListener("mouseleave",tt(this,Vy)),ut.classList.add("popupTriggerArea");for(const ut of o)(ot=ut.container)==null||ot.addEventListener("keydown",tt(this,pm));tt(this,fr).hidden=!0,at&&yt(this,er,my).call(this)}render(){if(tt(this,xo))return;const i=xt(this,xo,document.createElement("div"));if(i.className="popup",tt(this,sp)){const _e=i.style.outlineColor=Util.makeHexColor(...tt(this,sp));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?i.style.backgroundColor=`color-mix(in srgb, ${_e} 30%, white)`:i.style.backgroundColor=Util.makeHexColor(...tt(this,sp).map(nt=>Math.floor(.7*(255-nt)+nt)))}const s=document.createElement("span");s.className="header";const o=document.createElement("h1");if(s.append(o),{dir:o.dir,str:o.textContent}=tt(this,Jv),i.append(s),tt(this,rp)){const _e=document.createElement("span");_e.classList.add("popupDate"),_e.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),_e.setAttribute("data-l10n-args",JSON.stringify({date:tt(this,rp).toLocaleDateString(),time:tt(this,rp).toLocaleTimeString()})),s.append(_e)}const j=tt(this,er,gy);if(j)XfaLayer.render({xfaHtml:j,intent:"richText",div:i}),i.lastChild.classList.add("richText","popupContent");else{const _e=this._formatContents(tt(this,Ml));i.append(_e)}tt(this,fr).append(i)}_formatContents({str:i,dir:s}){const o=document.createElement("p");o.classList.add("popupContent"),o.dir=s;const j=i.split(/(?:\r\n?|\n)/);for(let _e=0,et=j.length;_e<et;++_e){const nt=j[_e];o.append(document.createTextNode(nt)),_e<et-1&&o.append(document.createElement("br"))}return o}updateEdited({rect:i,popupContent:s}){var o;tt(this,ap)||xt(this,ap,{contentsObj:tt(this,Ml),richText:tt(this,Il)}),i&&xt(this,Ll,null),s&&(xt(this,Il,yt(this,er,xA).call(this,s)),xt(this,Ml,null)),(o=tt(this,xo))==null||o.remove(),xt(this,xo,null)}resetEdited(){var i;tt(this,ap)&&({contentsObj:Pr(this,Ml)._,richText:Pr(this,Il)._}=tt(this,ap),xt(this,ap,null),(i=tt(this,xo))==null||i.remove(),xt(this,xo,null),xt(this,Ll,null))}forceHide(){xt(this,op,this.isVisible),tt(this,op)&&(tt(this,fr).hidden=!0)}maybeShow(){tt(this,op)&&(tt(this,xo)||yt(this,er,vy).call(this),xt(this,op,!1),tt(this,fr).hidden=!1)}get isVisible(){return tt(this,fr).hidden===!1}}pm=new WeakMap,Vy=new WeakMap,Wy=new WeakMap,gm=new WeakMap,sp=new WeakMap,fr=new WeakMap,Ml=new WeakMap,rp=new WeakMap,Yv=new WeakMap,Qv=new WeakMap,mm=new WeakMap,Fl=new WeakMap,xo=new WeakMap,Ll=new WeakMap,Zv=new WeakMap,Il=new WeakMap,Jv=new WeakMap,ap=new WeakMap,op=new WeakMap,er=new WeakSet,gy=function(){const i=tt(this,Il),s=tt(this,Ml);return i!=null&&i.str&&(!(s!=null&&s.str)||s.str===i.str)&&tt(this,Il).html||null},hx=function(){var i,s,o;return((o=(s=(i=tt(this,er,gy))==null?void 0:i.attributes)==null?void 0:s.style)==null?void 0:o.fontSize)||0},bA=function(){var i,s,o;return((o=(s=(i=tt(this,er,gy))==null?void 0:i.attributes)==null?void 0:s.style)==null?void 0:o.color)||null},xA=function(i){const s=[],o={str:i,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:s}]}},j={style:{color:tt(this,er,bA),fontSize:tt(this,er,hx)?`calc(${tt(this,er,hx)}px * var(--scale-factor))`:""}};for(const _e of i.split(`
`))s.push({name:"span",value:_e,attributes:j});return o},EA=function(i){i.altKey||i.shiftKey||i.ctrlKey||i.metaKey||(i.key==="Enter"||i.key==="Escape"&&tt(this,Fl))&&yt(this,er,my).call(this)},AA=function(){if(tt(this,Ll)!==null)return;const{page:{view:i},viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:j,pageY:_e}}}=tt(this,Qv);let et=!!tt(this,mm),nt=et?tt(this,mm):tt(this,Zv);for(const ct of tt(this,Yv))if(!nt||Util.intersect(ct.data.rect,nt)!==null){nt=ct.data.rect,et=!0;break}const it=Util.normalizeRect([nt[0],i[3]-nt[1]+i[1],nt[2],i[3]-nt[3]+i[1]]),st=et?nt[2]-nt[0]+5:0,at=it[0]+st,ot=it[1];xt(this,Ll,[100*(at-j)/s,100*(ot-_e)/o]);const{style:ut}=tt(this,fr);ut.left=`${tt(this,Ll)[0]}%`,ut.top=`${tt(this,Ll)[1]}%`},my=function(){xt(this,Fl,!tt(this,Fl)),tt(this,Fl)?(yt(this,er,vy).call(this),tt(this,fr).addEventListener("click",tt(this,gm)),tt(this,fr).addEventListener("keydown",tt(this,pm))):(yt(this,er,dx).call(this),tt(this,fr).removeEventListener("click",tt(this,gm)),tt(this,fr).removeEventListener("keydown",tt(this,pm)))},vy=function(){tt(this,xo)||this.render(),this.isVisible?tt(this,Fl)&&tt(this,fr).classList.add("focused"):(yt(this,er,AA).call(this),tt(this,fr).hidden=!1,tt(this,fr).style.zIndex=parseInt(tt(this,fr).style.zIndex)+1e3)},dx=function(){tt(this,fr).classList.remove("focused"),!(tt(this,Fl)||!this.isVisible)&&(tt(this,fr).hidden=!0,tt(this,fr).style.zIndex=parseInt(tt(this,fr).style.zIndex)-1e3)};class FreeTextAnnotationElement extends AnnotationElement{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0}),this.textContent=i.data.textContent,this.textPosition=i.data.textPosition,this.annotationEditorType=AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const i=document.createElement("div");i.classList.add("annotationTextContent"),i.setAttribute("role","comment");for(const s of this.textContent){const o=document.createElement("span");o.textContent=s,i.append(o)}this.container.append(i)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var e0;class LineAnnotationElement extends AnnotationElement{constructor(s){super(s,{isRenderable:!0,ignoreBorder:!0});At(this,e0,null)}render(){this.container.classList.add("lineAnnotation");const s=this.data,{width:o,height:j}=getRectDims(s.rect),_e=this.svgFactory.create(o,j,!0),et=xt(this,e0,this.svgFactory.createElement("svg:line"));return et.setAttribute("x1",s.rect[2]-s.lineCoordinates[0]),et.setAttribute("y1",s.rect[3]-s.lineCoordinates[1]),et.setAttribute("x2",s.rect[2]-s.lineCoordinates[2]),et.setAttribute("y2",s.rect[3]-s.lineCoordinates[3]),et.setAttribute("stroke-width",s.borderStyle.width||1),et.setAttribute("stroke","transparent"),et.setAttribute("fill","transparent"),_e.append(et),this.container.append(_e),!s.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return tt(this,e0)}addHighlightArea(){this.container.classList.add("highlightArea")}}e0=new WeakMap;var t0;class SquareAnnotationElement extends AnnotationElement{constructor(s){super(s,{isRenderable:!0,ignoreBorder:!0});At(this,t0,null)}render(){this.container.classList.add("squareAnnotation");const s=this.data,{width:o,height:j}=getRectDims(s.rect),_e=this.svgFactory.create(o,j,!0),et=s.borderStyle.width,nt=xt(this,t0,this.svgFactory.createElement("svg:rect"));return nt.setAttribute("x",et/2),nt.setAttribute("y",et/2),nt.setAttribute("width",o-et),nt.setAttribute("height",j-et),nt.setAttribute("stroke-width",et||1),nt.setAttribute("stroke","transparent"),nt.setAttribute("fill","transparent"),_e.append(nt),this.container.append(_e),!s.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return tt(this,t0)}addHighlightArea(){this.container.classList.add("highlightArea")}}t0=new WeakMap;var n0;class CircleAnnotationElement extends AnnotationElement{constructor(s){super(s,{isRenderable:!0,ignoreBorder:!0});At(this,n0,null)}render(){this.container.classList.add("circleAnnotation");const s=this.data,{width:o,height:j}=getRectDims(s.rect),_e=this.svgFactory.create(o,j,!0),et=s.borderStyle.width,nt=xt(this,n0,this.svgFactory.createElement("svg:ellipse"));return nt.setAttribute("cx",o/2),nt.setAttribute("cy",j/2),nt.setAttribute("rx",o/2-et/2),nt.setAttribute("ry",j/2-et/2),nt.setAttribute("stroke-width",et||1),nt.setAttribute("stroke","transparent"),nt.setAttribute("fill","transparent"),_e.append(nt),this.container.append(_e),!s.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return tt(this,n0)}addHighlightArea(){this.container.classList.add("highlightArea")}}n0=new WeakMap;var i0;class PolylineAnnotationElement extends AnnotationElement{constructor(s){super(s,{isRenderable:!0,ignoreBorder:!0});At(this,i0,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:s,vertices:o,borderStyle:j,popupRef:_e}}=this;if(!o)return this.container;const{width:et,height:nt}=getRectDims(s),it=this.svgFactory.create(et,nt,!0);let rt=[];for(let at=0,ot=o.length;at<ot;at+=2){const ut=o[at]-s[0],ct=s[3]-o[at+1];rt.push(`${ut},${ct}`)}rt=rt.join(" ");const st=xt(this,i0,this.svgFactory.createElement(this.svgElementName));return st.setAttribute("points",rt),st.setAttribute("stroke-width",j.width||1),st.setAttribute("stroke","transparent"),st.setAttribute("fill","transparent"),it.append(st),this.container.append(it),!_e&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return tt(this,i0)}addHighlightArea(){this.container.classList.add("highlightArea")}}i0=new WeakMap;class PolygonAnnotationElement extends PolylineAnnotationElement{constructor(i){super(i),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class CaretAnnotationElement extends AnnotationElement{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var s0;class InkAnnotationElement extends AnnotationElement{constructor(s){super(s,{isRenderable:!0,ignoreBorder:!0});At(this,s0,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:s,inkLists:o,borderStyle:j,popupRef:_e}}=this,{width:et,height:nt}=getRectDims(s),it=this.svgFactory.create(et,nt,!0);for(const rt of o){let st=[];for(let ot=0,ut=rt.length;ot<ut;ot+=2){const ct=rt[ot]-s[0],dt=s[3]-rt[ot+1];st.push(`${ct},${dt}`)}st=st.join(" ");const at=this.svgFactory.createElement(this.svgElementName);tt(this,s0).push(at),at.setAttribute("points",st),at.setAttribute("stroke-width",j.width||1),at.setAttribute("stroke","transparent"),at.setAttribute("fill","transparent"),!_e&&this.hasPopupData&&this._createPopup(),it.append(at)}return this.container.append(it),this.container}getElementsToTriggerPopup(){return tt(this,s0)}addHighlightArea(){this.container.classList.add("highlightArea")}}s0=new WeakMap;class HighlightAnnotationElement extends AnnotationElement{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class UnderlineAnnotationElement extends AnnotationElement{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class SquigglyAnnotationElement extends AnnotationElement{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class StrikeOutAnnotationElement extends AnnotationElement{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class StampAnnotationElement extends AnnotationElement{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var r0,a0,fx;class FileAttachmentAnnotationElement extends AnnotationElement{constructor(s){var j;super(s,{isRenderable:!0});At(this,a0);At(this,r0,null);const{file:o}=this.data;this.filename=o.filename,this.content=o.content,(j=this.linkService.eventBus)==null||j.dispatch("fileattachmentannotation",{source:this,...o})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:s,data:o}=this;let j;o.hasAppearance||o.fillAlpha===0?j=document.createElement("div"):(j=document.createElement("img"),j.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(o.name)?"paperclip":"pushpin"}.svg`,o.fillAlpha&&o.fillAlpha<1&&(j.style=`filter: opacity(${Math.round(o.fillAlpha*100)}%);`)),j.addEventListener("dblclick",yt(this,a0,fx).bind(this)),xt(this,r0,j);const{isMac:_e}=util_FeatureTest.platform;return s.addEventListener("keydown",et=>{et.key==="Enter"&&(_e?et.metaKey:et.ctrlKey)&&yt(this,a0,fx).call(this)}),!o.popupRef&&this.hasPopupData?this._createPopup():j.classList.add("popupTriggerArea"),s.append(j),s}getElementsToTriggerPopup(){return tt(this,r0)}addHighlightArea(){this.container.classList.add("highlightArea")}}r0=new WeakMap,a0=new WeakSet,fx=function(){var s;(s=this.downloadManager)==null||s.openOrDownloadData(this.content,this.filename)};var o0,lp,vm,Sp,wA,px;class AnnotationLayer{constructor({div:i,accessibilityManager:s,annotationCanvasMap:o,annotationEditorUIManager:j,page:_e,viewport:et}){At(this,Sp);At(this,o0,null);At(this,lp,null);At(this,vm,new Map);this.div=i,xt(this,o0,s),xt(this,lp,o),this.page=_e,this.viewport=et,this.zIndex=0,this._annotationEditorUIManager=j}async render(i){var et;const{annotations:s}=i,o=this.div;setLayerDimensions(o,this.viewport);const j=new Map,_e={data:null,layer:o,linkService:i.linkService,downloadManager:i.downloadManager,imageResourcesPath:i.imageResourcesPath||"",renderForms:i.renderForms!==!1,svgFactory:new DOMSVGFactory,annotationStorage:i.annotationStorage||new AnnotationStorage,enableScripting:i.enableScripting===!0,hasJSActions:i.hasJSActions,fieldObjects:i.fieldObjects,parent:this,elements:null};for(const nt of s){if(nt.noHTML)continue;const it=nt.annotationType===AnnotationType.POPUP;if(it){const at=j.get(nt.id);if(!at)continue;_e.elements=at}else{const{width:at,height:ot}=getRectDims(nt.rect);if(at<=0||ot<=0)continue}_e.data=nt;const rt=AnnotationElementFactory.create(_e);if(!rt.isRenderable)continue;if(!it&&nt.popupRef){const at=j.get(nt.popupRef);at?at.push(rt):j.set(nt.popupRef,[rt])}const st=rt.render();nt.hidden&&(st.style.visibility="hidden"),yt(this,Sp,wA).call(this,st,nt.id),rt.annotationEditorType>0&&(tt(this,vm).set(rt.data.id,rt),(et=this._annotationEditorUIManager)==null||et.renderAnnotationElement(rt))}yt(this,Sp,px).call(this)}update({viewport:i}){const s=this.div;this.viewport=i,setLayerDimensions(s,{rotation:i.rotation}),yt(this,Sp,px).call(this),s.hidden=!1}getEditableAnnotations(){return Array.from(tt(this,vm).values())}getEditableAnnotation(i){return tt(this,vm).get(i)}}o0=new WeakMap,lp=new WeakMap,vm=new WeakMap,Sp=new WeakSet,wA=function(i,s){var j;const o=i.firstChild||i;o.id=`${AnnotationPrefix}${s}`,this.div.append(i),(j=tt(this,o0))==null||j.moveElementInDOM(this.div,i,o,!1)},px=function(){if(!tt(this,lp))return;const i=this.div;for(const[s,o]of tt(this,lp)){const j=i.querySelector(`[data-annotation-id="${s}"]`);if(!j)continue;o.className="annotationContent";const{firstChild:_e}=j;_e?_e.nodeName==="CANVAS"?_e.replaceWith(o):_e.classList.contains("annotationContent")?_e.after(o):_e.before(o):j.append(o)}tt(this,lp).clear()};const EOL_PATTERN=/\r\n?|\n/g;var l0,c0,u0,h0,d0,Eo,xa,f0,$a,ym,_r,SA,CA,TA,yy,Gl,_y,by,kA,gx,RA;const rr=class rr extends AnnotationEditor{constructor(s){super({...s,name:"freeTextEditor"});At(this,_r);At(this,l0,this.editorDivBlur.bind(this));At(this,c0,this.editorDivFocus.bind(this));At(this,u0,this.editorDivInput.bind(this));At(this,h0,this.editorDivKeydown.bind(this));At(this,d0,this.editorDivPaste.bind(this));At(this,Eo);At(this,xa,"");At(this,f0,`${this.id}-editor`);At(this,$a);At(this,ym,null);xt(this,Eo,s.color||rr._defaultColor||AnnotationEditor._defaultLineColor),xt(this,$a,s.fontSize||rr._defaultFontSize)}static get _keyboardManager(){const s=rr.prototype,o=et=>et.isEmpty(),j=AnnotationEditorUIManager.TRANSLATE_SMALL,_e=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],s.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],s.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],s._translateEmpty,{args:[-j,0],checker:o}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],s._translateEmpty,{args:[-_e,0],checker:o}],[["ArrowRight","mac+ArrowRight"],s._translateEmpty,{args:[j,0],checker:o}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],s._translateEmpty,{args:[_e,0],checker:o}],[["ArrowUp","mac+ArrowUp"],s._translateEmpty,{args:[0,-j],checker:o}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],s._translateEmpty,{args:[0,-_e],checker:o}],[["ArrowDown","mac+ArrowDown"],s._translateEmpty,{args:[0,j],checker:o}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],s._translateEmpty,{args:[0,_e],checker:o}]]))}static initialize(s,o){AnnotationEditor.initialize(s,o,{strings:["pdfjs-free-text-default-content"]});const j=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(j.getPropertyValue("--freetext-padding"))}static updateDefaultParams(s,o){switch(s){case AnnotationEditorParamsType.FREETEXT_SIZE:rr._defaultFontSize=o;break;case AnnotationEditorParamsType.FREETEXT_COLOR:rr._defaultColor=o;break}}updateParams(s,o){switch(s){case AnnotationEditorParamsType.FREETEXT_SIZE:yt(this,_r,SA).call(this,o);break;case AnnotationEditorParamsType.FREETEXT_COLOR:yt(this,_r,CA).call(this,o);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,rr._defaultFontSize],[AnnotationEditorParamsType.FREETEXT_COLOR,rr._defaultColor||AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,tt(this,$a)],[AnnotationEditorParamsType.FREETEXT_COLOR,tt(this,Eo)]]}_translateEmpty(s,o){this._uiManager.translateSelectedEditors(s,o,!0)}getInitialTranslation(){const s=this.parentScale;return[-rr._internalPadding*s,-(rr._internalPadding+tt(this,$a))*s]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const s=this._uiManager._signal;this.editorDiv.addEventListener("keydown",tt(this,h0),{signal:s}),this.editorDiv.addEventListener("focus",tt(this,c0),{signal:s}),this.editorDiv.addEventListener("blur",tt(this,l0),{signal:s}),this.editorDiv.addEventListener("input",tt(this,u0),{signal:s}),this.editorDiv.addEventListener("paste",tt(this,d0),{signal:s})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",tt(this,f0)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",tt(this,h0)),this.editorDiv.removeEventListener("focus",tt(this,c0)),this.editorDiv.removeEventListener("blur",tt(this,l0)),this.editorDiv.removeEventListener("input",tt(this,u0)),this.editorDiv.removeEventListener("paste",tt(this,d0)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(s){this._focusEventsAllowed&&(super.focusin(s),s.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var s;this.width||(this.enableEditMode(),this.editorDiv.focus(),(s=this._initialOptions)!=null&&s.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const s=tt(this,xa),o=xt(this,xa,yt(this,_r,TA).call(this).trimEnd());if(s===o)return;const j=_e=>{if(xt(this,xa,_e),!_e){this.remove();return}yt(this,_r,by).call(this),this._uiManager.rebuild(this),yt(this,_r,yy).call(this)};this.addCommands({cmd:()=>{j(o)},undo:()=>{j(s)},mustExec:!1}),yt(this,_r,yy).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(s){this.enterInEditMode()}keydown(s){s.target===this.div&&s.key==="Enter"&&(this.enterInEditMode(),s.preventDefault())}editorDivKeydown(s){rr._keyboardManager.exec(this,s)}editorDivFocus(s){this.isEditing=!0}editorDivBlur(s){this.isEditing=!1}editorDivInput(s){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let s,o;this.width&&(s=this.x,o=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",tt(this,f0)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),AnnotationEditor._l10nPromise.get("pdfjs-free-text-default-content").then(_e=>{var et;return(et=this.editorDiv)==null?void 0:et.setAttribute("default-content",_e)}),this.editorDiv.contentEditable=!0;const{style:j}=this.editorDiv;if(j.fontSize=`calc(${tt(this,$a)}px * var(--scale-factor))`,j.color=tt(this,Eo),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),bindEvents(this,this.div,["dblclick","keydown"]),this.width){const[_e,et]=this.parentDimensions;if(this.annotationElementId){const{position:nt}=tt(this,ym);let[it,rt]=this.getInitialTranslation();[it,rt]=this.pageTranslationToScreen(it,rt);const[st,at]=this.pageDimensions,[ot,ut]=this.pageTranslation;let ct,dt;switch(this.rotation){case 0:ct=s+(nt[0]-ot)/st,dt=o+this.height-(nt[1]-ut)/at;break;case 90:ct=s+(nt[0]-ot)/st,dt=o-(nt[1]-ut)/at,[it,rt]=[rt,-it];break;case 180:ct=s-this.width+(nt[0]-ot)/st,dt=o-(nt[1]-ut)/at,[it,rt]=[-it,-rt];break;case 270:ct=s+(nt[0]-ot-this.height*at)/st,dt=o+(nt[1]-ut-this.width*st)/at,[it,rt]=[-rt,it];break}this.setAt(ct*_e,dt*et,it,rt)}else this.setAt(s*_e,o*et,this.width*_e,this.height*et);yt(this,_r,by).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(s){var ct,dt,ft;const o=s.clipboardData||window.clipboardData,{types:j}=o;if(j.length===1&&j[0]==="text/plain")return;s.preventDefault();const _e=yt(ct=rr,Gl,gx).call(ct,o.getData("text")||"").replaceAll(EOL_PATTERN,`
`);if(!_e)return;const et=window.getSelection();if(!et.rangeCount)return;this.editorDiv.normalize(),et.deleteFromDocument();const nt=et.getRangeAt(0);if(!_e.includes(`
`)){nt.insertNode(document.createTextNode(_e)),this.editorDiv.normalize(),et.collapseToStart();return}const{startContainer:it,startOffset:rt}=nt,st=[],at=[];if(it.nodeType===Node.TEXT_NODE){const lt=it.parentElement;if(at.push(it.nodeValue.slice(rt).replaceAll(EOL_PATTERN,"")),lt!==this.editorDiv){let ht=st;for(const pt of this.editorDiv.childNodes){if(pt===lt){ht=at;continue}ht.push(yt(dt=rr,Gl,_y).call(dt,pt))}}st.push(it.nodeValue.slice(0,rt).replaceAll(EOL_PATTERN,""))}else if(it===this.editorDiv){let lt=st,ht=0;for(const pt of this.editorDiv.childNodes)ht++===rt&&(lt=at),lt.push(yt(ft=rr,Gl,_y).call(ft,pt))}xt(this,xa,`${st.join(`
`)}${_e}${at.join(`
`)}`),yt(this,_r,by).call(this);const ot=new Range;let ut=st.reduce((lt,ht)=>lt+ht.length,0);for(const{firstChild:lt}of this.editorDiv.childNodes)if(lt.nodeType===Node.TEXT_NODE){const ht=lt.nodeValue.length;if(ut<=ht){ot.setStart(lt,ut),ot.setEnd(lt,ut);break}ut-=ht}et.removeAllRanges(),et.addRange(ot)}get contentDiv(){return this.editorDiv}static deserialize(s,o,j){var nt;let _e=null;if(s instanceof FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:it,fontColor:rt},rect:st,rotation:at,id:ot},textContent:ut,textPosition:ct,parent:{page:{pageNumber:dt}}}=s;if(!ut||ut.length===0)return null;_e=s={annotationType:AnnotationEditorType.FREETEXT,color:Array.from(rt),fontSize:it,value:ut.join(`
`),position:ct,pageIndex:dt-1,rect:st.slice(0),rotation:at,id:ot,deleted:!1}}const et=super.deserialize(s,o,j);return xt(et,$a,s.fontSize),xt(et,Eo,Util.makeHexColor(...s.color)),xt(et,xa,yt(nt=rr,Gl,gx).call(nt,s.value)),et.annotationElementId=s.id||null,xt(et,ym,_e),et}serialize(s=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const o=rr._internalPadding*this.parentScale,j=this.getRect(o,o),_e=AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:tt(this,Eo)),et={annotationType:AnnotationEditorType.FREETEXT,color:_e,fontSize:tt(this,$a),value:yt(this,_r,kA).call(this),pageIndex:this.pageIndex,rect:j,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return s?et:this.annotationElementId&&!yt(this,_r,RA).call(this,et)?null:(et.id=this.annotationElementId,et)}renderAnnotationElement(s){const o=super.renderAnnotationElement(s);if(this.deleted)return o;const{style:j}=o;j.fontSize=`calc(${tt(this,$a)}px * var(--scale-factor))`,j.color=tt(this,Eo),o.replaceChildren();for(const et of tt(this,xa).split(`
`)){const nt=document.createElement("div");nt.append(et?document.createTextNode(et):document.createElement("br")),o.append(nt)}const _e=rr._internalPadding*this.parentScale;return s.updateEdited({rect:this.getRect(_e,_e),popupContent:tt(this,xa)}),o}resetAnnotationElement(s){super.resetAnnotationElement(s),s.resetEdited()}};l0=new WeakMap,c0=new WeakMap,u0=new WeakMap,h0=new WeakMap,d0=new WeakMap,Eo=new WeakMap,xa=new WeakMap,f0=new WeakMap,$a=new WeakMap,ym=new WeakMap,_r=new WeakSet,SA=function(s){const o=_e=>{this.editorDiv.style.fontSize=`calc(${_e}px * var(--scale-factor))`,this.translate(0,-(_e-tt(this,$a))*this.parentScale),xt(this,$a,_e),yt(this,_r,yy).call(this)},j=tt(this,$a);this.addCommands({cmd:o.bind(this,s),undo:o.bind(this,j),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},CA=function(s){const o=_e=>{xt(this,Eo,this.editorDiv.style.color=_e)},j=tt(this,Eo);this.addCommands({cmd:o.bind(this,s),undo:o.bind(this,j),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},TA=function(){var o;const s=[];this.editorDiv.normalize();for(const j of this.editorDiv.childNodes)s.push(yt(o=rr,Gl,_y).call(o,j));return s.join(`
`)},yy=function(){const[s,o]=this.parentDimensions;let j;if(this.isAttachedToDOM)j=this.div.getBoundingClientRect();else{const{currentLayer:_e,div:et}=this,nt=et.style.display,it=et.classList.contains("hidden");et.classList.remove("hidden"),et.style.display="hidden",_e.div.append(this.div),j=et.getBoundingClientRect(),et.remove(),et.style.display=nt,et.classList.toggle("hidden",it)}this.rotation%180===this.parentRotation%180?(this.width=j.width/s,this.height=j.height/o):(this.width=j.height/s,this.height=j.width/o),this.fixAndSetPosition()},Gl=new WeakSet,_y=function(s){return(s.nodeType===Node.TEXT_NODE?s.nodeValue:s.innerText).replaceAll(EOL_PATTERN,"")},by=function(){if(this.editorDiv.replaceChildren(),!!tt(this,xa))for(const s of tt(this,xa).split(`
`)){const o=document.createElement("div");o.append(s?document.createTextNode(s):document.createElement("br")),this.editorDiv.append(o)}},kA=function(){return tt(this,xa).replaceAll(" "," ")},gx=function(s){return s.replaceAll(" "," ")},RA=function(s){const{value:o,fontSize:j,color:_e,pageIndex:et}=tt(this,ym);return this._hasBeenMoved||s.value!==o||s.fontSize!==j||s.color.some((nt,it)=>nt!==_e[it])||s.pageIndex!==et},At(rr,Gl),es(rr,"_freeTextDefaultContent",""),es(rr,"_internalPadding",0),es(rr,"_defaultColor",null),es(rr,"_defaultFontSize",10),es(rr,"_type","freetext"),es(rr,"_editorType",AnnotationEditorType.FREETEXT);let FreeTextEditor=rr;var p0,pu,Ao,Xr,PA,xy,MA,FA,mx;class Outliner{constructor(i,s=0,o=0,j=!0){At(this,Xr);At(this,p0);At(this,pu,[]);At(this,Ao,[]);let _e=1/0,et=-1/0,nt=1/0,it=-1/0;const st=10**-4;for(const{x:lt,y:ht,width:pt,height:vt}of i){const gt=Math.floor((lt-s)/st)*st,_t=Math.ceil((lt+pt+s)/st)*st,mt=Math.floor((ht-s)/st)*st,bt=Math.ceil((ht+vt+s)/st)*st,Ct=[gt,mt,bt,!0],Pt=[_t,mt,bt,!1];tt(this,pu).push(Ct,Pt),_e=Math.min(_e,gt),et=Math.max(et,_t),nt=Math.min(nt,mt),it=Math.max(it,bt)}const at=et-_e+2*o,ot=it-nt+2*o,ut=_e-o,ct=nt-o,dt=tt(this,pu).at(j?-1:-2),ft=[dt[0],dt[2]];for(const lt of tt(this,pu)){const[ht,pt,vt]=lt;lt[0]=(ht-ut)/at,lt[1]=(pt-ct)/ot,lt[2]=(vt-ct)/ot}xt(this,p0,{x:ut,y:ct,width:at,height:ot,lastPoint:ft})}getOutlines(){tt(this,pu).sort((s,o)=>s[0]-o[0]||s[1]-o[1]||s[2]-o[2]);const i=[];for(const s of tt(this,pu))s[3]?(i.push(...yt(this,Xr,mx).call(this,s)),yt(this,Xr,MA).call(this,s)):(yt(this,Xr,FA).call(this,s),i.push(...yt(this,Xr,mx).call(this,s)));return yt(this,Xr,PA).call(this,i)}}p0=new WeakMap,pu=new WeakMap,Ao=new WeakMap,Xr=new WeakSet,PA=function(i){const s=[],o=new Set;for(const et of i){const[nt,it,rt]=et;s.push([nt,it,et],[nt,rt,et])}s.sort((et,nt)=>et[1]-nt[1]||et[0]-nt[0]);for(let et=0,nt=s.length;et<nt;et+=2){const it=s[et][2],rt=s[et+1][2];it.push(rt),rt.push(it),o.add(it),o.add(rt)}const j=[];let _e;for(;o.size>0;){const et=o.values().next().value;let[nt,it,rt,st,at]=et;o.delete(et);let ot=nt,ut=it;for(_e=[nt,rt],j.push(_e);;){let ct;if(o.has(st))ct=st;else if(o.has(at))ct=at;else break;o.delete(ct),[nt,it,rt,st,at]=ct,ot!==nt&&(_e.push(ot,ut,nt,ut===it?it:rt),ot=nt),ut=ut===it?rt:it}_e.push(ot,ut)}return new HighlightOutline(j,tt(this,p0))},xy=function(i){const s=tt(this,Ao);let o=0,j=s.length-1;for(;o<=j;){const _e=o+j>>1,et=s[_e][0];if(et===i)return _e;et<i?o=_e+1:j=_e-1}return j+1},MA=function([,i,s]){const o=yt(this,Xr,xy).call(this,i);tt(this,Ao).splice(o,0,[i,s])},FA=function([,i,s]){const o=yt(this,Xr,xy).call(this,i);for(let j=o;j<tt(this,Ao).length;j++){const[_e,et]=tt(this,Ao)[j];if(_e!==i)break;if(_e===i&&et===s){tt(this,Ao).splice(j,1);return}}for(let j=o-1;j>=0;j--){const[_e,et]=tt(this,Ao)[j];if(_e!==i)break;if(_e===i&&et===s){tt(this,Ao).splice(j,1);return}}},mx=function(i){const[s,o,j]=i,_e=[[s,o,j]],et=yt(this,Xr,xy).call(this,j);for(let nt=0;nt<et;nt++){const[it,rt]=tt(this,Ao)[nt];for(let st=0,at=_e.length;st<at;st++){const[,ot,ut]=_e[st];if(!(rt<=ot||ut<=it)){if(ot>=it){if(ut>rt)_e[st][1]=rt;else{if(at===1)return[];_e.splice(st,1),st--,at--}continue}_e[st][2]=it,ut>rt&&_e.push([s,rt,ut])}}}return _e};class Outline{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(i,s){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof FreeHighlightOutline}}var g0,_m;class HighlightOutline extends Outline{constructor(s,o){super();At(this,g0);At(this,_m);xt(this,_m,s),xt(this,g0,o)}toSVGPath(){const s=[];for(const o of tt(this,_m)){let[j,_e]=o;s.push(`M${j} ${_e}`);for(let et=2;et<o.length;et+=2){const nt=o[et],it=o[et+1];nt===j?(s.push(`V${it}`),_e=it):it===_e&&(s.push(`H${nt}`),j=nt)}s.push("Z")}return s.join(" ")}serialize([s,o,j,_e],et){const nt=[],it=j-s,rt=_e-o;for(const st of tt(this,_m)){const at=new Array(st.length);for(let ot=0;ot<st.length;ot+=2)at[ot]=s+st[ot]*it,at[ot+1]=_e-st[ot+1]*rt;nt.push(at)}return nt}get box(){return tt(this,g0)}}g0=new WeakMap,_m=new WeakMap;var $o,Dl,bm,xm,Bo,$s,cp,up,m0,v0,Em,Am,gu,y0,Gy,Xy,_0,vx;const Zo=class Zo{constructor({x:i,y:s},o,j,_e,et,nt=0){At(this,_0);At(this,$o);At(this,Dl,[]);At(this,bm);At(this,xm);At(this,Bo,[]);At(this,$s,new Float64Array(18));At(this,cp);At(this,up);At(this,m0);At(this,v0);At(this,Em);At(this,Am);At(this,gu,[]);xt(this,$o,o),xt(this,Am,_e*j),xt(this,xm,et),tt(this,$s).set([NaN,NaN,NaN,NaN,i,s],6),xt(this,bm,nt),xt(this,v0,tt(Zo,y0)*j),xt(this,m0,tt(Zo,Xy)*j),xt(this,Em,j),tt(this,gu).push(i,s)}get free(){return!0}isEmpty(){return isNaN(tt(this,$s)[8])}add({x:i,y:s}){var Ct;xt(this,cp,i),xt(this,up,s);const[o,j,_e,et]=tt(this,$o);let[nt,it,rt,st]=tt(this,$s).subarray(8,12);const at=i-rt,ot=s-st,ut=Math.hypot(at,ot);if(ut<tt(this,m0))return!1;const ct=ut-tt(this,v0),dt=ct/ut,ft=dt*at,lt=dt*ot;let ht=nt,pt=it;nt=rt,it=st,rt+=ft,st+=lt,(Ct=tt(this,gu))==null||Ct.push(i,s);const vt=-lt/ct,gt=ft/ct,_t=vt*tt(this,Am),mt=gt*tt(this,Am);return tt(this,$s).set(tt(this,$s).subarray(2,8),0),tt(this,$s).set([rt+_t,st+mt],4),tt(this,$s).set(tt(this,$s).subarray(14,18),12),tt(this,$s).set([rt-_t,st-mt],16),isNaN(tt(this,$s)[6])?(tt(this,Bo).length===0&&(tt(this,$s).set([nt+_t,it+mt],2),tt(this,Bo).push(NaN,NaN,NaN,NaN,(nt+_t-o)/_e,(it+mt-j)/et),tt(this,$s).set([nt-_t,it-mt],14),tt(this,Dl).push(NaN,NaN,NaN,NaN,(nt-_t-o)/_e,(it-mt-j)/et)),tt(this,$s).set([ht,pt,nt,it,rt,st],6),!this.isEmpty()):(tt(this,$s).set([ht,pt,nt,it,rt,st],6),Math.abs(Math.atan2(pt-it,ht-nt)-Math.atan2(lt,ft))<Math.PI/2?([nt,it,rt,st]=tt(this,$s).subarray(2,6),tt(this,Bo).push(NaN,NaN,NaN,NaN,((nt+rt)/2-o)/_e,((it+st)/2-j)/et),[nt,it,ht,pt]=tt(this,$s).subarray(14,18),tt(this,Dl).push(NaN,NaN,NaN,NaN,((ht+nt)/2-o)/_e,((pt+it)/2-j)/et),!0):([ht,pt,nt,it,rt,st]=tt(this,$s).subarray(0,6),tt(this,Bo).push(((ht+5*nt)/6-o)/_e,((pt+5*it)/6-j)/et,((5*nt+rt)/6-o)/_e,((5*it+st)/6-j)/et,((nt+rt)/2-o)/_e,((it+st)/2-j)/et),[rt,st,nt,it,ht,pt]=tt(this,$s).subarray(12,18),tt(this,Dl).push(((ht+5*nt)/6-o)/_e,((pt+5*it)/6-j)/et,((5*nt+rt)/6-o)/_e,((5*it+st)/6-j)/et,((nt+rt)/2-o)/_e,((it+st)/2-j)/et),!0))}toSVGPath(){if(this.isEmpty())return"";const i=tt(this,Bo),s=tt(this,Dl),o=tt(this,$s).subarray(4,6),j=tt(this,$s).subarray(16,18),[_e,et,nt,it]=tt(this,$o),[rt,st,at,ot]=yt(this,_0,vx).call(this);if(isNaN(tt(this,$s)[6])&&!this.isEmpty())return`M${(tt(this,$s)[2]-_e)/nt} ${(tt(this,$s)[3]-et)/it} L${(tt(this,$s)[4]-_e)/nt} ${(tt(this,$s)[5]-et)/it} L${rt} ${st} L${at} ${ot} L${(tt(this,$s)[16]-_e)/nt} ${(tt(this,$s)[17]-et)/it} L${(tt(this,$s)[14]-_e)/nt} ${(tt(this,$s)[15]-et)/it} Z`;const ut=[];ut.push(`M${i[4]} ${i[5]}`);for(let ct=6;ct<i.length;ct+=6)isNaN(i[ct])?ut.push(`L${i[ct+4]} ${i[ct+5]}`):ut.push(`C${i[ct]} ${i[ct+1]} ${i[ct+2]} ${i[ct+3]} ${i[ct+4]} ${i[ct+5]}`);ut.push(`L${(o[0]-_e)/nt} ${(o[1]-et)/it} L${rt} ${st} L${at} ${ot} L${(j[0]-_e)/nt} ${(j[1]-et)/it}`);for(let ct=s.length-6;ct>=6;ct-=6)isNaN(s[ct])?ut.push(`L${s[ct+4]} ${s[ct+5]}`):ut.push(`C${s[ct]} ${s[ct+1]} ${s[ct+2]} ${s[ct+3]} ${s[ct+4]} ${s[ct+5]}`);return ut.push(`L${s[4]} ${s[5]} Z`),ut.join(" ")}getOutlines(){var lt;const i=tt(this,Bo),s=tt(this,Dl),o=tt(this,$s),j=o.subarray(4,6),_e=o.subarray(16,18),[et,nt,it,rt]=tt(this,$o),st=new Float64Array((((lt=tt(this,gu))==null?void 0:lt.length)??0)+2);for(let ht=0,pt=st.length-2;ht<pt;ht+=2)st[ht]=(tt(this,gu)[ht]-et)/it,st[ht+1]=(tt(this,gu)[ht+1]-nt)/rt;st[st.length-2]=(tt(this,cp)-et)/it,st[st.length-1]=(tt(this,up)-nt)/rt;const[at,ot,ut,ct]=yt(this,_0,vx).call(this);if(isNaN(o[6])&&!this.isEmpty()){const ht=new Float64Array(36);return ht.set([NaN,NaN,NaN,NaN,(o[2]-et)/it,(o[3]-nt)/rt,NaN,NaN,NaN,NaN,(o[4]-et)/it,(o[5]-nt)/rt,NaN,NaN,NaN,NaN,at,ot,NaN,NaN,NaN,NaN,ut,ct,NaN,NaN,NaN,NaN,(o[16]-et)/it,(o[17]-nt)/rt,NaN,NaN,NaN,NaN,(o[14]-et)/it,(o[15]-nt)/rt],0),new FreeHighlightOutline(ht,st,tt(this,$o),tt(this,Em),tt(this,bm),tt(this,xm))}const dt=new Float64Array(tt(this,Bo).length+24+tt(this,Dl).length);let ft=i.length;for(let ht=0;ht<ft;ht+=2){if(isNaN(i[ht])){dt[ht]=dt[ht+1]=NaN;continue}dt[ht]=i[ht],dt[ht+1]=i[ht+1]}dt.set([NaN,NaN,NaN,NaN,(j[0]-et)/it,(j[1]-nt)/rt,NaN,NaN,NaN,NaN,at,ot,NaN,NaN,NaN,NaN,ut,ct,NaN,NaN,NaN,NaN,(_e[0]-et)/it,(_e[1]-nt)/rt],ft),ft+=24;for(let ht=s.length-6;ht>=6;ht-=6)for(let pt=0;pt<6;pt+=2){if(isNaN(s[ht+pt])){dt[ft]=dt[ft+1]=NaN,ft+=2;continue}dt[ft]=s[ht+pt],dt[ft+1]=s[ht+pt+1],ft+=2}return dt.set([NaN,NaN,NaN,NaN,s[4],s[5]],ft),new FreeHighlightOutline(dt,st,tt(this,$o),tt(this,Em),tt(this,bm),tt(this,xm))}};$o=new WeakMap,Dl=new WeakMap,bm=new WeakMap,xm=new WeakMap,Bo=new WeakMap,$s=new WeakMap,cp=new WeakMap,up=new WeakMap,m0=new WeakMap,v0=new WeakMap,Em=new WeakMap,Am=new WeakMap,gu=new WeakMap,y0=new WeakMap,Gy=new WeakMap,Xy=new WeakMap,_0=new WeakSet,vx=function(){const i=tt(this,$s).subarray(4,6),s=tt(this,$s).subarray(16,18),[o,j,_e,et]=tt(this,$o);return[(tt(this,cp)+(i[0]-s[0])/2-o)/_e,(tt(this,up)+(i[1]-s[1])/2-j)/et,(tt(this,cp)+(s[0]-i[0])/2-o)/_e,(tt(this,up)+(s[1]-i[1])/2-j)/et]},At(Zo,y0,8),At(Zo,Gy,2),At(Zo,Xy,tt(Zo,y0)+tt(Zo,Gy));let FreeOutliner=Zo;var wm,hp,Nl,b0,eo,x0,gr,Qr,Qm,Zm,LA;class FreeHighlightOutline extends Outline{constructor(s,o,j,_e,et,nt){super();At(this,Qr);At(this,wm);At(this,hp,null);At(this,Nl);At(this,b0);At(this,eo);At(this,x0);At(this,gr);xt(this,gr,s),xt(this,eo,o),xt(this,wm,j),xt(this,x0,_e),xt(this,Nl,et),xt(this,b0,nt),yt(this,Qr,LA).call(this,nt);const{x:it,y:rt,width:st,height:at}=tt(this,hp);for(let ot=0,ut=s.length;ot<ut;ot+=2)s[ot]=(s[ot]-it)/st,s[ot+1]=(s[ot+1]-rt)/at;for(let ot=0,ut=o.length;ot<ut;ot+=2)o[ot]=(o[ot]-it)/st,o[ot+1]=(o[ot+1]-rt)/at}toSVGPath(){const s=[`M${tt(this,gr)[4]} ${tt(this,gr)[5]}`];for(let o=6,j=tt(this,gr).length;o<j;o+=6){if(isNaN(tt(this,gr)[o])){s.push(`L${tt(this,gr)[o+4]} ${tt(this,gr)[o+5]}`);continue}s.push(`C${tt(this,gr)[o]} ${tt(this,gr)[o+1]} ${tt(this,gr)[o+2]} ${tt(this,gr)[o+3]} ${tt(this,gr)[o+4]} ${tt(this,gr)[o+5]}`)}return s.push("Z"),s.join(" ")}serialize([s,o,j,_e],et){const nt=j-s,it=_e-o;let rt,st;switch(et){case 0:rt=yt(this,Qr,Qm).call(this,tt(this,gr),s,_e,nt,-it),st=yt(this,Qr,Qm).call(this,tt(this,eo),s,_e,nt,-it);break;case 90:rt=yt(this,Qr,Zm).call(this,tt(this,gr),s,o,nt,it),st=yt(this,Qr,Zm).call(this,tt(this,eo),s,o,nt,it);break;case 180:rt=yt(this,Qr,Qm).call(this,tt(this,gr),j,o,-nt,it),st=yt(this,Qr,Qm).call(this,tt(this,eo),j,o,-nt,it);break;case 270:rt=yt(this,Qr,Zm).call(this,tt(this,gr),j,_e,-nt,-it),st=yt(this,Qr,Zm).call(this,tt(this,eo),j,_e,-nt,-it);break}return{outline:Array.from(rt),points:[Array.from(st)]}}get box(){return tt(this,hp)}getNewOutline(s,o){const{x:j,y:_e,width:et,height:nt}=tt(this,hp),[it,rt,st,at]=tt(this,wm),ot=et*st,ut=nt*at,ct=j*st+it,dt=_e*at+rt,ft=new FreeOutliner({x:tt(this,eo)[0]*ot+ct,y:tt(this,eo)[1]*ut+dt},tt(this,wm),tt(this,x0),s,tt(this,b0),o??tt(this,Nl));for(let lt=2;lt<tt(this,eo).length;lt+=2)ft.add({x:tt(this,eo)[lt]*ot+ct,y:tt(this,eo)[lt+1]*ut+dt});return ft.getOutlines()}}wm=new WeakMap,hp=new WeakMap,Nl=new WeakMap,b0=new WeakMap,eo=new WeakMap,x0=new WeakMap,gr=new WeakMap,Qr=new WeakSet,Qm=function(s,o,j,_e,et){const nt=new Float64Array(s.length);for(let it=0,rt=s.length;it<rt;it+=2)nt[it]=o+s[it]*_e,nt[it+1]=j+s[it+1]*et;return nt},Zm=function(s,o,j,_e,et){const nt=new Float64Array(s.length);for(let it=0,rt=s.length;it<rt;it+=2)nt[it]=o+s[it+1]*_e,nt[it+1]=j+s[it]*et;return nt},LA=function(s){const o=tt(this,gr);let j=o[4],_e=o[5],et=j,nt=_e,it=j,rt=_e,st=j,at=_e;const ot=s?Math.max:Math.min;for(let lt=6,ht=o.length;lt<ht;lt+=6){if(isNaN(o[lt]))et=Math.min(et,o[lt+4]),nt=Math.min(nt,o[lt+5]),it=Math.max(it,o[lt+4]),rt=Math.max(rt,o[lt+5]),at<o[lt+5]?(st=o[lt+4],at=o[lt+5]):at===o[lt+5]&&(st=ot(st,o[lt+4]));else{const pt=Util.bezierBoundingBox(j,_e,...o.slice(lt,lt+6));et=Math.min(et,pt[0]),nt=Math.min(nt,pt[1]),it=Math.max(it,pt[2]),rt=Math.max(rt,pt[3]),at<pt[3]?(st=pt[2],at=pt[3]):at===pt[3]&&(st=ot(st,pt[2]))}j=o[lt+4],_e=o[lt+5]}const ut=et-tt(this,Nl),ct=nt-tt(this,Nl),dt=it-et+2*tt(this,Nl),ft=rt-nt+2*tt(this,Nl);xt(this,hp,{x:ut,y:ct,width:dt,height:ft,lastPoint:[st,at]})};var E0,A0,wo,dp,Sm,Er,w0,Cm,S0,C0,So,Tm,sr,yx,_x,IA,Ru,DA,tu;const Jo=class Jo{constructor({editor:i=null,uiManager:s=null}){At(this,sr);At(this,E0,yt(this,sr,IA).bind(this));At(this,A0,yt(this,sr,DA).bind(this));At(this,wo,null);At(this,dp,null);At(this,Sm);At(this,Er,null);At(this,w0,!1);At(this,Cm,!1);At(this,S0,null);At(this,C0);At(this,So,null);At(this,Tm);var o;i?(xt(this,Cm,!1),xt(this,Tm,AnnotationEditorParamsType.HIGHLIGHT_COLOR),xt(this,S0,i)):(xt(this,Cm,!0),xt(this,Tm,AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR)),xt(this,So,(i==null?void 0:i._uiManager)||s),xt(this,C0,tt(this,So)._eventBus),xt(this,Sm,(i==null?void 0:i.color)||((o=tt(this,So))==null?void 0:o.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return shadow(this,"_keyboardManager",new KeyboardManager([[["Escape","mac+Escape"],Jo.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Jo.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Jo.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Jo.prototype._moveToPrevious],[["Home","mac+Home"],Jo.prototype._moveToBeginning],[["End","mac+End"],Jo.prototype._moveToEnd]]))}renderButton(){const i=xt(this,wo,document.createElement("button"));i.className="colorPicker",i.tabIndex="0",i.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),i.setAttribute("aria-haspopup",!0);const s=tt(this,So)._signal;i.addEventListener("click",yt(this,sr,Ru).bind(this),{signal:s}),i.addEventListener("keydown",tt(this,E0),{signal:s});const o=xt(this,dp,document.createElement("span"));return o.className="swatch",o.setAttribute("aria-hidden",!0),o.style.backgroundColor=tt(this,Sm),i.append(o),i}renderMainDropdown(){const i=xt(this,Er,yt(this,sr,yx).call(this));return i.setAttribute("aria-orientation","horizontal"),i.setAttribute("aria-labelledby","highlightColorPickerLabel"),i}_colorSelectFromKeyboard(i){if(i.target===tt(this,wo)){yt(this,sr,Ru).call(this,i);return}const s=i.target.getAttribute("data-color");s&&yt(this,sr,_x).call(this,s,i)}_moveToNext(i){var s,o;if(!tt(this,sr,tu)){yt(this,sr,Ru).call(this,i);return}if(i.target===tt(this,wo)){(s=tt(this,Er).firstChild)==null||s.focus();return}(o=i.target.nextSibling)==null||o.focus()}_moveToPrevious(i){var s,o;if(i.target===((s=tt(this,Er))==null?void 0:s.firstChild)||i.target===tt(this,wo)){tt(this,sr,tu)&&this._hideDropdownFromKeyboard();return}tt(this,sr,tu)||yt(this,sr,Ru).call(this,i),(o=i.target.previousSibling)==null||o.focus()}_moveToBeginning(i){var s;if(!tt(this,sr,tu)){yt(this,sr,Ru).call(this,i);return}(s=tt(this,Er).firstChild)==null||s.focus()}_moveToEnd(i){var s;if(!tt(this,sr,tu)){yt(this,sr,Ru).call(this,i);return}(s=tt(this,Er).lastChild)==null||s.focus()}hideDropdown(){var i;(i=tt(this,Er))==null||i.classList.add("hidden"),window.removeEventListener("pointerdown",tt(this,A0))}_hideDropdownFromKeyboard(){var i;if(!tt(this,Cm)){if(!tt(this,sr,tu)){(i=tt(this,S0))==null||i.unselect();return}this.hideDropdown(),tt(this,wo).focus({preventScroll:!0,focusVisible:tt(this,w0)})}}updateColor(i){if(tt(this,dp)&&(tt(this,dp).style.backgroundColor=i),!tt(this,Er))return;const s=tt(this,So).highlightColors.values();for(const o of tt(this,Er).children)o.setAttribute("aria-selected",s.next().value===i)}destroy(){var i,s;(i=tt(this,wo))==null||i.remove(),xt(this,wo,null),xt(this,dp,null),(s=tt(this,Er))==null||s.remove(),xt(this,Er,null)}};E0=new WeakMap,A0=new WeakMap,wo=new WeakMap,dp=new WeakMap,Sm=new WeakMap,Er=new WeakMap,w0=new WeakMap,Cm=new WeakMap,S0=new WeakMap,C0=new WeakMap,So=new WeakMap,Tm=new WeakMap,sr=new WeakSet,yx=function(){const i=document.createElement("div"),s=tt(this,So)._signal;i.addEventListener("contextmenu",noContextMenu,{signal:s}),i.className="dropdown",i.role="listbox",i.setAttribute("aria-multiselectable",!1),i.setAttribute("aria-orientation","vertical"),i.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[o,j]of tt(this,So).highlightColors){const _e=document.createElement("button");_e.tabIndex="0",_e.role="option",_e.setAttribute("data-color",j),_e.title=o,_e.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${o}`);const et=document.createElement("span");_e.append(et),et.className="swatch",et.style.backgroundColor=j,_e.setAttribute("aria-selected",j===tt(this,Sm)),_e.addEventListener("click",yt(this,sr,_x).bind(this,j),{signal:s}),i.append(_e)}return i.addEventListener("keydown",tt(this,E0),{signal:s}),i},_x=function(i,s){s.stopPropagation(),tt(this,C0).dispatch("switchannotationeditorparams",{source:this,type:tt(this,Tm),value:i})},IA=function(i){Jo._keyboardManager.exec(this,i)},Ru=function(i){if(tt(this,sr,tu)){this.hideDropdown();return}if(xt(this,w0,i.detail===0),window.addEventListener("pointerdown",tt(this,A0),{signal:tt(this,So)._signal}),tt(this,Er)){tt(this,Er).classList.remove("hidden");return}const s=xt(this,Er,yt(this,sr,yx).call(this));tt(this,wo).append(s)},DA=function(i){var s;(s=tt(this,Er))!=null&&s.contains(i.target)||this.hideDropdown()},tu=function(){return tt(this,Er)&&!tt(this,Er).classList.contains("hidden")};let ColorPicker=Jo;var km,T0,mu,fp,Rm,oo,k0,R0,pp,Co,Vr,to,qy,Pm,gp,Ar,Mm,Ho,P0,Ns,bx,xx,NA,OA,jA,Ex,Jm,uo,$p,$A,Ey,ev,BA,HA,UA,zA;const Xs=class Xs extends AnnotationEditor{constructor(s){super({...s,name:"highlightEditor"});At(this,Ns);At(this,km,null);At(this,T0,0);At(this,mu);At(this,fp,null);At(this,Rm,null);At(this,oo,null);At(this,k0,null);At(this,R0,0);At(this,pp,null);At(this,Co,null);At(this,Vr,null);At(this,to,!1);At(this,qy,yt(this,Ns,$A).bind(this));At(this,Pm,null);At(this,gp);At(this,Ar,null);At(this,Mm,"");At(this,Ho);At(this,P0,"");this.color=s.color||Xs._defaultColor,xt(this,Ho,s.thickness||Xs._defaultThickness),xt(this,gp,s.opacity||Xs._defaultOpacity),xt(this,mu,s.boxes||null),xt(this,P0,s.methodOfCreation||""),xt(this,Mm,s.text||""),this._isDraggable=!1,s.highlightId>-1?(xt(this,to,!0),yt(this,Ns,xx).call(this,s),yt(this,Ns,Jm).call(this)):(xt(this,km,s.anchorNode),xt(this,T0,s.anchorOffset),xt(this,k0,s.focusNode),xt(this,R0,s.focusOffset),yt(this,Ns,bx).call(this),yt(this,Ns,Jm).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const s=Xs.prototype;return shadow(this,"_keyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],s._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],s._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],s._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],s._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:tt(this,to)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:tt(this,Ho),methodOfCreation:tt(this,P0)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(s){return{numberOfColors:s.get("color").size}}static initialize(s,o){var j;AnnotationEditor.initialize(s,o),Xs._defaultColor||(Xs._defaultColor=((j=o.highlightColors)==null?void 0:j.values().next().value)||"#fff066")}static updateDefaultParams(s,o){switch(s){case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:Xs._defaultColor=o;break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:Xs._defaultThickness=o;break}}translateInPage(s,o){}get toolbarPosition(){return tt(this,Pm)}updateParams(s,o){switch(s){case AnnotationEditorParamsType.HIGHLIGHT_COLOR:yt(this,Ns,NA).call(this,o);break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:yt(this,Ns,OA).call(this,o);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR,Xs._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,Xs._defaultThickness]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_COLOR,this.color||Xs._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,tt(this,Ho)||Xs._defaultThickness],[AnnotationEditorParamsType.HIGHLIGHT_FREE,tt(this,to)]]}async addEditToolbar(){const s=await super.addEditToolbar();return s?(this._uiManager.highlightColors&&(xt(this,Rm,new ColorPicker({editor:this})),s.addColorPicker(tt(this,Rm))),s):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(yt(this,Ns,ev).call(this))}getBaseTranslation(){return[0,0]}getRect(s,o){return super.getRect(s,o,yt(this,Ns,ev).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){yt(this,Ns,Ex).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(yt(this,Ns,Jm).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(s){var j;let o=!1;this.parent&&!s?yt(this,Ns,Ex).call(this):s&&(yt(this,Ns,Jm).call(this,s),o=!this.parent&&((j=this.div)==null?void 0:j.classList.contains("selectedEditor"))),super.setParent(s),this.show(this._isVisible),o&&this.select()}rotate(s){var _e,et,nt;const{drawLayer:o}=this.parent;let j;tt(this,to)?(s=(s-this.rotation+360)%360,j=yt(_e=Xs,uo,$p).call(_e,tt(this,Co).box,s)):j=yt(et=Xs,uo,$p).call(et,this,s),o.rotate(tt(this,Vr),s),o.rotate(tt(this,Ar),s),o.updateBox(tt(this,Vr),j),o.updateBox(tt(this,Ar),yt(nt=Xs,uo,$p).call(nt,tt(this,oo).box,s))}render(){if(this.div)return this.div;const s=super.render();tt(this,Mm)&&(s.setAttribute("aria-label",tt(this,Mm)),s.setAttribute("role","mark")),tt(this,to)?s.classList.add("free"):this.div.addEventListener("keydown",tt(this,qy),{signal:this._uiManager._signal});const o=xt(this,pp,document.createElement("div"));s.append(o),o.setAttribute("aria-hidden","true"),o.className="internal",o.style.clipPath=tt(this,fp);const[j,_e]=this.parentDimensions;return this.setDims(this.width*j,this.height*_e),bindEvents(this,tt(this,pp),["pointerover","pointerleave"]),this.enableEditing(),s}pointerover(){this.parent.drawLayer.addClass(tt(this,Ar),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(tt(this,Ar),"hovered")}_moveCaret(s){switch(this.parent.unselect(this),s){case 0:case 2:yt(this,Ns,Ey).call(this,!0);break;case 1:case 3:yt(this,Ns,Ey).call(this,!1);break}}select(){var s,o;super.select(),tt(this,Ar)&&((s=this.parent)==null||s.drawLayer.removeClass(tt(this,Ar),"hovered"),(o=this.parent)==null||o.drawLayer.addClass(tt(this,Ar),"selected"))}unselect(){var s;super.unselect(),tt(this,Ar)&&((s=this.parent)==null||s.drawLayer.removeClass(tt(this,Ar),"selected"),tt(this,to)||yt(this,Ns,Ey).call(this,!1))}get _mustFixPosition(){return!tt(this,to)}show(s=this._isVisible){super.show(s),this.parent&&(this.parent.drawLayer.show(tt(this,Vr),s),this.parent.drawLayer.show(tt(this,Ar),s))}static startHighlighting(s,o,{target:j,x:_e,y:et}){const{x:nt,y:it,width:rt,height:st}=j.getBoundingClientRect(),at=ft=>{yt(this,uo,UA).call(this,s,ft)},ot=s._signal,ut={capture:!0,passive:!1,signal:ot},ct=ft=>{ft.preventDefault(),ft.stopPropagation()},dt=ft=>{j.removeEventListener("pointermove",at),window.removeEventListener("blur",dt),window.removeEventListener("pointerup",dt),window.removeEventListener("pointerdown",ct,ut),window.removeEventListener("contextmenu",noContextMenu),yt(this,uo,zA).call(this,s,ft)};window.addEventListener("blur",dt,{signal:ot}),window.addEventListener("pointerup",dt,{signal:ot}),window.addEventListener("pointerdown",ct,ut),window.addEventListener("contextmenu",noContextMenu,{signal:ot}),j.addEventListener("pointermove",at,{signal:ot}),this._freeHighlight=new FreeOutliner({x:_e,y:et},[nt,it,rt,st],s.scale,this._defaultThickness/2,o,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=s.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(s,o,j){var dt;const _e=super.deserialize(s,o,j),{rect:[et,nt,it,rt],color:st,quadPoints:at}=s;_e.color=Util.makeHexColor(...st),xt(_e,gp,s.opacity);const[ot,ut]=_e.pageDimensions;_e.width=(it-et)/ot,_e.height=(rt-nt)/ut;const ct=xt(_e,mu,[]);for(let ft=0;ft<at.length;ft+=8)ct.push({x:(at[4]-it)/ot,y:(rt-(1-at[ft+5]))/ut,width:(at[ft+2]-at[ft])/ot,height:(at[ft+5]-at[ft+1])/ut});return yt(dt=_e,Ns,bx).call(dt),_e}serialize(s=!1){if(this.isEmpty()||s)return null;const o=this.getRect(0,0),j=AnnotationEditor._colorManager.convert(this.color);return{annotationType:AnnotationEditorType.HIGHLIGHT,color:j,opacity:tt(this,gp),thickness:tt(this,Ho),quadPoints:yt(this,Ns,BA).call(this),outlines:yt(this,Ns,HA).call(this,o),pageIndex:this.pageIndex,rect:o,rotation:yt(this,Ns,ev).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};km=new WeakMap,T0=new WeakMap,mu=new WeakMap,fp=new WeakMap,Rm=new WeakMap,oo=new WeakMap,k0=new WeakMap,R0=new WeakMap,pp=new WeakMap,Co=new WeakMap,Vr=new WeakMap,to=new WeakMap,qy=new WeakMap,Pm=new WeakMap,gp=new WeakMap,Ar=new WeakMap,Mm=new WeakMap,Ho=new WeakMap,P0=new WeakMap,Ns=new WeakSet,bx=function(){const s=new Outliner(tt(this,mu),.001);xt(this,Co,s.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=tt(this,Co).box;const o=new Outliner(tt(this,mu),.0025,.001,this._uiManager.direction==="ltr");xt(this,oo,o.getOutlines());const{lastPoint:j}=tt(this,oo).box;xt(this,Pm,[(j[0]-this.x)/this.width,(j[1]-this.y)/this.height])},xx=function({highlightOutlines:s,highlightId:o,clipPathId:j}){var at,ot;if(xt(this,Co,s),xt(this,oo,s.getNewOutline(tt(this,Ho)/2+1.5,.0025)),o>=0)xt(this,Vr,o),xt(this,fp,j),this.parent.drawLayer.finalizeLine(o,s),xt(this,Ar,this.parent.drawLayer.highlightOutline(tt(this,oo)));else if(this.parent){const ut=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(tt(this,Vr),s),this.parent.drawLayer.updateBox(tt(this,Vr),yt(at=Xs,uo,$p).call(at,tt(this,Co).box,(ut-this.rotation+360)%360)),this.parent.drawLayer.updateLine(tt(this,Ar),tt(this,oo)),this.parent.drawLayer.updateBox(tt(this,Ar),yt(ot=Xs,uo,$p).call(ot,tt(this,oo).box,ut))}const{x:et,y:nt,width:it,height:rt}=s.box;switch(this.rotation){case 0:this.x=et,this.y=nt,this.width=it,this.height=rt;break;case 90:{const[ut,ct]=this.parentDimensions;this.x=nt,this.y=1-et,this.width=it*ct/ut,this.height=rt*ut/ct;break}case 180:this.x=1-et,this.y=1-nt,this.width=it,this.height=rt;break;case 270:{const[ut,ct]=this.parentDimensions;this.x=1-nt,this.y=et,this.width=it*ct/ut,this.height=rt*ut/ct;break}}const{lastPoint:st}=tt(this,oo).box;xt(this,Pm,[(st[0]-et)/it,(st[1]-nt)/rt])},NA=function(s){const o=_e=>{var et,nt;this.color=_e,(et=this.parent)==null||et.drawLayer.changeColor(tt(this,Vr),_e),(nt=tt(this,Rm))==null||nt.updateColor(_e)},j=this.color;this.addCommands({cmd:o.bind(this,s),undo:o.bind(this,j),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(s)},!0)},OA=function(s){const o=tt(this,Ho),j=_e=>{xt(this,Ho,_e),yt(this,Ns,jA).call(this,_e)};this.addCommands({cmd:j.bind(this,s),undo:j.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:s},!0)},jA=function(s){if(!tt(this,to))return;yt(this,Ns,xx).call(this,{highlightOutlines:tt(this,Co).getNewOutline(s/2)}),this.fixAndSetPosition();const[o,j]=this.parentDimensions;this.setDims(this.width*o,this.height*j)},Ex=function(){tt(this,Vr)===null||!this.parent||(this.parent.drawLayer.remove(tt(this,Vr)),xt(this,Vr,null),this.parent.drawLayer.remove(tt(this,Ar)),xt(this,Ar,null))},Jm=function(s=this.parent){tt(this,Vr)===null&&({id:Pr(this,Vr)._,clipPathId:Pr(this,fp)._}=s.drawLayer.highlight(tt(this,Co),this.color,tt(this,gp)),xt(this,Ar,s.drawLayer.highlightOutline(tt(this,oo))),tt(this,pp)&&(tt(this,pp).style.clipPath=tt(this,fp)))},uo=new WeakSet,$p=function({x:s,y:o,width:j,height:_e},et){switch(et){case 90:return{x:1-o-_e,y:s,width:_e,height:j};case 180:return{x:1-s-j,y:1-o-_e,width:j,height:_e};case 270:return{x:o,y:1-s-j,width:_e,height:j}}return{x:s,y:o,width:j,height:_e}},$A=function(s){Xs._keyboardManager.exec(this,s)},Ey=function(s){if(!tt(this,km))return;const o=window.getSelection();s?o.setPosition(tt(this,km),tt(this,T0)):o.setPosition(tt(this,k0),tt(this,R0))},ev=function(){return tt(this,to)?this.rotation:0},BA=function(){if(tt(this,to))return null;const[s,o]=this.pageDimensions,j=tt(this,mu),_e=new Float32Array(j.length*8);let et=0;for(const{x:nt,y:it,width:rt,height:st}of j){const at=nt*s,ot=(1-it-st)*o;_e[et]=_e[et+4]=at,_e[et+1]=_e[et+3]=ot,_e[et+2]=_e[et+6]=at+rt*s,_e[et+5]=_e[et+7]=ot+st*o,et+=8}return _e},HA=function(s){return tt(this,Co).serialize(s,yt(this,Ns,ev).call(this))},UA=function(s,o){this._freeHighlight.add(o)&&s.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},zA=function(s,o){this._freeHighlight.isEmpty()?s.drawLayer.removeFreeHighlight(this._freeHighlightId):s.createAndAddNewEditor(o,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},At(Xs,uo),es(Xs,"_defaultColor",null),es(Xs,"_defaultOpacity",1),es(Xs,"_defaultThickness",12),es(Xs,"_l10nPromise"),es(Xs,"_type","highlight"),es(Xs,"_editorType",AnnotationEditorType.HIGHLIGHT),es(Xs,"_freeHighlightId",-1),es(Xs,"_freeHighlight",null),es(Xs,"_freeHighlightClipId","");let HighlightEditor=Xs;var mp,vp,M0,F0,L0,yp,Uo,Ol,lo,_p,bp,$l,xp,Ep,vu,Jn,VA,WA,GA,XA,Ax,qA,wx,KA,YA,QA,ZA,JA,Pu,Sx,Ay,wy,Bp,Cx,Sy,Kl,ew,Tx,tw,nw,kx,Cy,tv;const hr=class hr extends AnnotationEditor{constructor(s){super({...s,name:"inkEditor"});At(this,Jn);At(this,mp,0);At(this,vp,0);At(this,M0,this.canvasPointermove.bind(this));At(this,F0,this.canvasPointerleave.bind(this));At(this,L0,this.canvasPointerup.bind(this));At(this,yp,this.canvasPointerdown.bind(this));At(this,Uo,null);At(this,Ol,new Path2D);At(this,lo,!1);At(this,_p,!1);At(this,bp,!1);At(this,$l,null);At(this,xp,0);At(this,Ep,0);At(this,vu,null);this.color=s.color||null,this.thickness=s.thickness||null,this.opacity=s.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(s,o){AnnotationEditor.initialize(s,o)}static updateDefaultParams(s,o){switch(s){case AnnotationEditorParamsType.INK_THICKNESS:hr._defaultThickness=o;break;case AnnotationEditorParamsType.INK_COLOR:hr._defaultColor=o;break;case AnnotationEditorParamsType.INK_OPACITY:hr._defaultOpacity=o/100;break}}updateParams(s,o){switch(s){case AnnotationEditorParamsType.INK_THICKNESS:yt(this,Jn,VA).call(this,o);break;case AnnotationEditorParamsType.INK_COLOR:yt(this,Jn,WA).call(this,o);break;case AnnotationEditorParamsType.INK_OPACITY:yt(this,Jn,GA).call(this,o);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.INK_THICKNESS,hr._defaultThickness],[AnnotationEditorParamsType.INK_COLOR,hr._defaultColor||AnnotationEditor._defaultLineColor],[AnnotationEditorParamsType.INK_OPACITY,Math.round(hr._defaultOpacity*100)]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.INK_THICKNESS,this.thickness||hr._defaultThickness],[AnnotationEditorParamsType.INK_COLOR,this.color||hr._defaultColor||AnnotationEditor._defaultLineColor],[AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??hr._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(yt(this,Jn,Ay).call(this),yt(this,Jn,wy).call(this)),this.isAttachedToDOM||(this.parent.add(this),yt(this,Jn,Bp).call(this)),yt(this,Jn,tv).call(this)))}remove(){var s;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,tt(this,Uo)&&(clearTimeout(tt(this,Uo)),xt(this,Uo,null)),(s=tt(this,$l))==null||s.disconnect(),xt(this,$l,null),super.remove())}setParent(s){!this.parent&&s?this._uiManager.removeShouldRescale(this):this.parent&&s===null&&this._uiManager.addShouldRescale(this),super.setParent(s)}onScaleChanging(){const[s,o]=this.parentDimensions,j=this.width*s,_e=this.height*o;this.setDimensions(j,_e)}enableEditMode(){tt(this,lo)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",tt(this,yp),{signal:this._uiManager._signal}))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",tt(this,yp)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){tt(this,lo)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),xt(this,lo,!0),this.div.classList.add("disabled"),yt(this,Jn,tv).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(s){this._focusEventsAllowed&&(super.focusin(s),this.enableEditMode())}canvasPointerdown(s){s.button!==0||!this.isInEditMode()||tt(this,lo)||(this.setInForeground(),s.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),yt(this,Jn,qA).call(this,s.offsetX,s.offsetY))}canvasPointermove(s){s.preventDefault(),yt(this,Jn,wx).call(this,s.offsetX,s.offsetY)}canvasPointerup(s){s.preventDefault(),yt(this,Jn,Sx).call(this,s)}canvasPointerleave(s){yt(this,Jn,Sx).call(this,s)}get isResizable(){return!this.isEmpty()&&tt(this,lo)}render(){if(this.div)return this.div;let s,o;this.width&&(s=this.x,o=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[j,_e,et,nt]=yt(this,Jn,XA).call(this);if(this.setAt(j,_e,0,0),this.setDims(et,nt),yt(this,Jn,Ay).call(this),this.width){const[it,rt]=this.parentDimensions;this.setAspectRatio(this.width*it,this.height*rt),this.setAt(s*it,o*rt,this.width*it,this.height*rt),xt(this,bp,!0),yt(this,Jn,Bp).call(this),this.setDims(this.width*it,this.height*rt),yt(this,Jn,Pu).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return yt(this,Jn,wy).call(this),this.div}setDimensions(s,o){const j=Math.round(s),_e=Math.round(o);if(tt(this,xp)===j&&tt(this,Ep)===_e)return;xt(this,xp,j),xt(this,Ep,_e),this.canvas.style.visibility="hidden";const[et,nt]=this.parentDimensions;this.width=s/et,this.height=o/nt,this.fixAndSetPosition(),tt(this,lo)&&yt(this,Jn,Cx).call(this,s,o),yt(this,Jn,Bp).call(this),yt(this,Jn,Pu).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(s,o,j){var ft,lt,ht;if(s instanceof InkAnnotationElement)return null;const _e=super.deserialize(s,o,j);_e.thickness=s.thickness,_e.color=Util.makeHexColor(...s.color),_e.opacity=s.opacity;const[et,nt]=_e.pageDimensions,it=_e.width*et,rt=_e.height*nt,st=_e.parentScale,at=s.thickness/2;xt(_e,lo,!0),xt(_e,xp,Math.round(it)),xt(_e,Ep,Math.round(rt));const{paths:ot,rect:ut,rotation:ct}=s;for(let{bezier:pt}of ot){pt=yt(ft=hr,Kl,tw).call(ft,pt,ut,ct);const vt=[];_e.paths.push(vt);let gt=st*(pt[0]-at),_t=st*(pt[1]-at);for(let bt=2,Ct=pt.length;bt<Ct;bt+=6){const Pt=st*(pt[bt]-at),St=st*(pt[bt+1]-at),Mt=st*(pt[bt+2]-at),Dt=st*(pt[bt+3]-at),Qt=st*(pt[bt+4]-at),Xt=st*(pt[bt+5]-at);vt.push([[gt,_t],[Pt,St],[Mt,Dt],[Qt,Xt]]),gt=Qt,_t=Xt}const mt=yt(this,Kl,ew).call(this,vt);_e.bezierPath2D.push(mt)}const dt=yt(lt=_e,Jn,kx).call(lt);return xt(_e,vp,Math.max(AnnotationEditor.MIN_SIZE,dt[2]-dt[0])),xt(_e,mp,Math.max(AnnotationEditor.MIN_SIZE,dt[3]-dt[1])),yt(ht=_e,Jn,Cx).call(ht,it,rt),_e}serialize(){if(this.isEmpty())return null;const s=this.getRect(0,0),o=AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:AnnotationEditorType.INK,color:o,thickness:this.thickness,opacity:this.opacity,paths:yt(this,Jn,nw).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,s),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};mp=new WeakMap,vp=new WeakMap,M0=new WeakMap,F0=new WeakMap,L0=new WeakMap,yp=new WeakMap,Uo=new WeakMap,Ol=new WeakMap,lo=new WeakMap,_p=new WeakMap,bp=new WeakMap,$l=new WeakMap,xp=new WeakMap,Ep=new WeakMap,vu=new WeakMap,Jn=new WeakSet,VA=function(s){const o=_e=>{this.thickness=_e,yt(this,Jn,tv).call(this)},j=this.thickness;this.addCommands({cmd:o.bind(this,s),undo:o.bind(this,j),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},WA=function(s){const o=_e=>{this.color=_e,yt(this,Jn,Pu).call(this)},j=this.color;this.addCommands({cmd:o.bind(this,s),undo:o.bind(this,j),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},GA=function(s){const o=_e=>{this.opacity=_e,yt(this,Jn,Pu).call(this)};s/=100;const j=this.opacity;this.addCommands({cmd:o.bind(this,s),undo:o.bind(this,j),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},XA=function(){const{parentRotation:s,parentDimensions:[o,j]}=this;switch(s){case 90:return[0,j,j,o];case 180:return[o,j,o,j];case 270:return[o,0,j,o];default:return[0,0,o,j]}},Ax=function(){const{ctx:s,color:o,opacity:j,thickness:_e,parentScale:et,scaleFactor:nt}=this;s.lineWidth=_e*et/nt,s.lineCap="round",s.lineJoin="round",s.miterLimit=10,s.strokeStyle=`${o}${opacityToHex(j)}`},qA=function(s,o){const j=this._uiManager._signal;this.canvas.addEventListener("contextmenu",noContextMenu,{signal:j}),this.canvas.addEventListener("pointerleave",tt(this,F0),{signal:j}),this.canvas.addEventListener("pointermove",tt(this,M0),{signal:j}),this.canvas.addEventListener("pointerup",tt(this,L0),{signal:j}),this.canvas.removeEventListener("pointerdown",tt(this,yp)),this.isEditing=!0,tt(this,bp)||(xt(this,bp,!0),yt(this,Jn,Bp).call(this),this.thickness||(this.thickness=hr._defaultThickness),this.color||(this.color=hr._defaultColor||AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=hr._defaultOpacity)),this.currentPath.push([s,o]),xt(this,_p,!1),yt(this,Jn,Ax).call(this),xt(this,vu,()=>{yt(this,Jn,QA).call(this),tt(this,vu)&&window.requestAnimationFrame(tt(this,vu))}),window.requestAnimationFrame(tt(this,vu))},wx=function(s,o){const[j,_e]=this.currentPath.at(-1);if(this.currentPath.length>1&&s===j&&o===_e)return;const et=this.currentPath;let nt=tt(this,Ol);if(et.push([s,o]),xt(this,_p,!0),et.length<=2){nt.moveTo(...et[0]),nt.lineTo(s,o);return}et.length===3&&(xt(this,Ol,nt=new Path2D),nt.moveTo(...et[0])),yt(this,Jn,ZA).call(this,nt,...et.at(-3),...et.at(-2),s,o)},KA=function(){if(this.currentPath.length===0)return;const s=this.currentPath.at(-1);tt(this,Ol).lineTo(...s)},YA=function(s,o){xt(this,vu,null),s=Math.min(Math.max(s,0),this.canvas.width),o=Math.min(Math.max(o,0),this.canvas.height),yt(this,Jn,wx).call(this,s,o),yt(this,Jn,KA).call(this);let j;if(this.currentPath.length!==1)j=yt(this,Jn,JA).call(this);else{const rt=[s,o];j=[[rt,rt.slice(),rt.slice(),rt]]}const _e=tt(this,Ol),et=this.currentPath;this.currentPath=[],xt(this,Ol,new Path2D);const nt=()=>{this.allRawPaths.push(et),this.paths.push(j),this.bezierPath2D.push(_e),this._uiManager.rebuild(this)},it=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(yt(this,Jn,Ay).call(this),yt(this,Jn,wy).call(this)),yt(this,Jn,tv).call(this))};this.addCommands({cmd:nt,undo:it,mustExec:!0})},QA=function(){if(!tt(this,_p))return;xt(this,_p,!1);const s=Math.ceil(this.thickness*this.parentScale),o=this.currentPath.slice(-3),j=o.map(nt=>nt[0]),_e=o.map(nt=>nt[1]);Math.min(...j)-s,Math.max(...j)+s,Math.min(..._e)-s,Math.max(..._e)+s;const{ctx:et}=this;et.save(),et.clearRect(0,0,this.canvas.width,this.canvas.height);for(const nt of this.bezierPath2D)et.stroke(nt);et.stroke(tt(this,Ol)),et.restore()},ZA=function(s,o,j,_e,et,nt,it){const rt=(o+_e)/2,st=(j+et)/2,at=(_e+nt)/2,ot=(et+it)/2;s.bezierCurveTo(rt+2*(_e-rt)/3,st+2*(et-st)/3,at+2*(_e-at)/3,ot+2*(et-ot)/3,at,ot)},JA=function(){const s=this.currentPath;if(s.length<=2)return[[s[0],s[0],s.at(-1),s.at(-1)]];const o=[];let j,[_e,et]=s[0];for(j=1;j<s.length-2;j++){const[ut,ct]=s[j],[dt,ft]=s[j+1],lt=(ut+dt)/2,ht=(ct+ft)/2,pt=[_e+2*(ut-_e)/3,et+2*(ct-et)/3],vt=[lt+2*(ut-lt)/3,ht+2*(ct-ht)/3];o.push([[_e,et],pt,vt,[lt,ht]]),[_e,et]=[lt,ht]}const[nt,it]=s[j],[rt,st]=s[j+1],at=[_e+2*(nt-_e)/3,et+2*(it-et)/3],ot=[rt+2*(nt-rt)/3,st+2*(it-st)/3];return o.push([[_e,et],at,ot,[rt,st]]),o},Pu=function(){if(this.isEmpty()){yt(this,Jn,Sy).call(this);return}yt(this,Jn,Ax).call(this);const{canvas:s,ctx:o}=this;o.setTransform(1,0,0,1,0,0),o.clearRect(0,0,s.width,s.height),yt(this,Jn,Sy).call(this);for(const j of this.bezierPath2D)o.stroke(j)},Sx=function(s){this.canvas.removeEventListener("pointerleave",tt(this,F0)),this.canvas.removeEventListener("pointermove",tt(this,M0)),this.canvas.removeEventListener("pointerup",tt(this,L0)),this.canvas.addEventListener("pointerdown",tt(this,yp),{signal:this._uiManager._signal}),tt(this,Uo)&&clearTimeout(tt(this,Uo)),xt(this,Uo,setTimeout(()=>{xt(this,Uo,null),this.canvas.removeEventListener("contextmenu",noContextMenu)},10)),yt(this,Jn,YA).call(this,s.offsetX,s.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Ay=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},wy=function(){xt(this,$l,new ResizeObserver(s=>{const o=s[0].contentRect;o.width&&o.height&&this.setDimensions(o.width,o.height)})),tt(this,$l).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var s;(s=tt(this,$l))==null||s.disconnect(),xt(this,$l,null)},{once:!0})},Bp=function(){if(!tt(this,bp))return;const[s,o]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*s),this.canvas.height=Math.ceil(this.height*o),yt(this,Jn,Sy).call(this)},Cx=function(s,o){const j=yt(this,Jn,Cy).call(this),_e=(s-j)/tt(this,vp),et=(o-j)/tt(this,mp);this.scaleFactor=Math.min(_e,et)},Sy=function(){const s=yt(this,Jn,Cy).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+s,this.translationY*this.scaleFactor+s)},Kl=new WeakSet,ew=function(s){const o=new Path2D;for(let j=0,_e=s.length;j<_e;j++){const[et,nt,it,rt]=s[j];j===0&&o.moveTo(...et),o.bezierCurveTo(nt[0],nt[1],it[0],it[1],rt[0],rt[1])}return o},Tx=function(s,o,j){const[_e,et,nt,it]=o;switch(j){case 0:for(let rt=0,st=s.length;rt<st;rt+=2)s[rt]+=_e,s[rt+1]=it-s[rt+1];break;case 90:for(let rt=0,st=s.length;rt<st;rt+=2){const at=s[rt];s[rt]=s[rt+1]+_e,s[rt+1]=at+et}break;case 180:for(let rt=0,st=s.length;rt<st;rt+=2)s[rt]=nt-s[rt],s[rt+1]+=et;break;case 270:for(let rt=0,st=s.length;rt<st;rt+=2){const at=s[rt];s[rt]=nt-s[rt+1],s[rt+1]=it-at}break;default:throw new Error("Invalid rotation")}return s},tw=function(s,o,j){const[_e,et,nt,it]=o;switch(j){case 0:for(let rt=0,st=s.length;rt<st;rt+=2)s[rt]-=_e,s[rt+1]=it-s[rt+1];break;case 90:for(let rt=0,st=s.length;rt<st;rt+=2){const at=s[rt];s[rt]=s[rt+1]-et,s[rt+1]=at-_e}break;case 180:for(let rt=0,st=s.length;rt<st;rt+=2)s[rt]=nt-s[rt],s[rt+1]-=et;break;case 270:for(let rt=0,st=s.length;rt<st;rt+=2){const at=s[rt];s[rt]=it-s[rt+1],s[rt+1]=nt-at}break;default:throw new Error("Invalid rotation")}return s},nw=function(s,o,j,_e){var st,at;const et=[],nt=this.thickness/2,it=s*o+nt,rt=s*j+nt;for(const ot of this.paths){const ut=[],ct=[];for(let dt=0,ft=ot.length;dt<ft;dt++){const[lt,ht,pt,vt]=ot[dt];if(lt[0]===vt[0]&&lt[1]===vt[1]&&ft===1){const Dt=s*lt[0]+it,Qt=s*lt[1]+rt;ut.push(Dt,Qt),ct.push(Dt,Qt);break}const gt=s*lt[0]+it,_t=s*lt[1]+rt,mt=s*ht[0]+it,bt=s*ht[1]+rt,Ct=s*pt[0]+it,Pt=s*pt[1]+rt,St=s*vt[0]+it,Mt=s*vt[1]+rt;dt===0&&(ut.push(gt,_t),ct.push(gt,_t)),ut.push(mt,bt,Ct,Pt,St,Mt),ct.push(mt,bt),dt===ft-1&&ct.push(St,Mt)}et.push({bezier:yt(st=hr,Kl,Tx).call(st,ut,_e,this.rotation),points:yt(at=hr,Kl,Tx).call(at,ct,_e,this.rotation)})}return et},kx=function(){let s=1/0,o=-1/0,j=1/0,_e=-1/0;for(const et of this.paths)for(const[nt,it,rt,st]of et){const at=Util.bezierBoundingBox(...nt,...it,...rt,...st);s=Math.min(s,at[0]),j=Math.min(j,at[1]),o=Math.max(o,at[2]),_e=Math.max(_e,at[3])}return[s,j,o,_e]},Cy=function(){return tt(this,lo)?Math.ceil(this.thickness*this.parentScale):0},tv=function(s=!1){if(this.isEmpty())return;if(!tt(this,lo)){yt(this,Jn,Pu).call(this);return}const o=yt(this,Jn,kx).call(this),j=yt(this,Jn,Cy).call(this);xt(this,vp,Math.max(AnnotationEditor.MIN_SIZE,o[2]-o[0])),xt(this,mp,Math.max(AnnotationEditor.MIN_SIZE,o[3]-o[1]));const _e=Math.ceil(j+tt(this,vp)*this.scaleFactor),et=Math.ceil(j+tt(this,mp)*this.scaleFactor),[nt,it]=this.parentDimensions;this.width=_e/nt,this.height=et/it,this.setAspectRatio(_e,et);const rt=this.translationX,st=this.translationY;this.translationX=-o[0],this.translationY=-o[1],yt(this,Jn,Bp).call(this),yt(this,Jn,Pu).call(this),xt(this,xp,_e),xt(this,Ep,et),this.setDims(_e,et);const at=s?j/this.scaleFactor/2:0;this.translate(rt-this.translationX-at,st-this.translationY-at)},At(hr,Kl),es(hr,"_defaultColor",null),es(hr,"_defaultOpacity",1),es(hr,"_defaultThickness",1),es(hr,"_type","ink"),es(hr,"_editorType",AnnotationEditorType.INK);let InkEditor=hr;var Nr,Or,yu,Bl,_u,Fm,zo,Hl,Vo,To,I0,Ws,nv,iv,Ty,Rx,iw,sw,Px,ky,rw;const sv=class sv extends AnnotationEditor{constructor(s){super({...s,name:"stampEditor"});At(this,Ws);At(this,Nr,null);At(this,Or,null);At(this,yu,null);At(this,Bl,null);At(this,_u,null);At(this,Fm,"");At(this,zo,null);At(this,Hl,null);At(this,Vo,null);At(this,To,!1);At(this,I0,!1);xt(this,Bl,s.bitmapUrl),xt(this,_u,s.bitmapFile)}static initialize(s,o){AnnotationEditor.initialize(s,o)}static get supportedTypes(){return shadow(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(o=>`image/${o}`))}static get supportedTypesStr(){return shadow(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(s){return this.supportedTypes.includes(s)}static paste(s,o){o.pasteEditor(AnnotationEditorType.STAMP,{bitmapFile:s.getAsFile()})}remove(){var s,o;tt(this,Or)&&(xt(this,Nr,null),this._uiManager.imageManager.deleteId(tt(this,Or)),(s=tt(this,zo))==null||s.remove(),xt(this,zo,null),(o=tt(this,Hl))==null||o.disconnect(),xt(this,Hl,null),tt(this,Vo)&&(clearTimeout(tt(this,Vo)),xt(this,Vo,null))),super.remove()}rebuild(){if(!this.parent){tt(this,Or)&&yt(this,Ws,Ty).call(this);return}super.rebuild(),this.div!==null&&(tt(this,Or)&&tt(this,zo)===null&&yt(this,Ws,Ty).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(tt(this,yu)||tt(this,Nr)||tt(this,Bl)||tt(this,_u)||tt(this,Or))}get isResizable(){return!0}render(){if(this.div)return this.div;let s,o;if(this.width&&(s=this.x,o=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),tt(this,Nr)?yt(this,Ws,Rx).call(this):yt(this,Ws,Ty).call(this),this.width){const[j,_e]=this.parentDimensions;this.setAt(s*j,o*_e,this.width*j,this.height*_e)}return this.div}getImageForAltText(){return tt(this,zo)}static deserialize(s,o,j){if(s instanceof StampAnnotationElement)return null;const _e=super.deserialize(s,o,j),{rect:et,bitmapUrl:nt,bitmapId:it,isSvg:rt,accessibilityData:st}=s;it&&j.imageManager.isValidId(it)?xt(_e,Or,it):xt(_e,Bl,nt),xt(_e,To,rt);const[at,ot]=_e.pageDimensions;return _e.width=(et[2]-et[0])/at,_e.height=(et[3]-et[1])/ot,st&&(_e.altTextData=st),_e}serialize(s=!1,o=null){if(this.isEmpty())return null;const j={annotationType:AnnotationEditorType.STAMP,bitmapId:tt(this,Or),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:tt(this,To),structTreeParentId:this._structTreeParentId};if(s)return j.bitmapUrl=yt(this,Ws,ky).call(this,!0),j.accessibilityData=this.altTextData,j;const{decorative:_e,altText:et}=this.altTextData;if(!_e&&et&&(j.accessibilityData={type:"Figure",alt:et}),o===null)return j;o.stamps||(o.stamps=new Map);const nt=tt(this,To)?(j.rect[2]-j.rect[0])*(j.rect[3]-j.rect[1]):null;if(!o.stamps.has(tt(this,Or)))o.stamps.set(tt(this,Or),{area:nt,serialized:j}),j.bitmap=yt(this,Ws,ky).call(this,!1);else if(tt(this,To)){const it=o.stamps.get(tt(this,Or));nt>it.area&&(it.area=nt,it.serialized.bitmap.close(),it.serialized.bitmap=yt(this,Ws,ky).call(this,!1))}return j}};Nr=new WeakMap,Or=new WeakMap,yu=new WeakMap,Bl=new WeakMap,_u=new WeakMap,Fm=new WeakMap,zo=new WeakMap,Hl=new WeakMap,Vo=new WeakMap,To=new WeakMap,I0=new WeakMap,Ws=new WeakSet,nv=function(s,o=!1){if(!s){this.remove();return}xt(this,Nr,s.bitmap),o||(xt(this,Or,s.id),xt(this,To,s.isSvg)),s.file&&xt(this,Fm,s.file.name),yt(this,Ws,Rx).call(this)},iv=function(){xt(this,yu,null),this._uiManager.enableWaiting(!1),tt(this,zo)&&this.div.focus()},Ty=function(){if(tt(this,Or)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(tt(this,Or)).then(j=>yt(this,Ws,nv).call(this,j,!0)).finally(()=>yt(this,Ws,iv).call(this));return}if(tt(this,Bl)){const j=tt(this,Bl);xt(this,Bl,null),this._uiManager.enableWaiting(!0),xt(this,yu,this._uiManager.imageManager.getFromUrl(j).then(_e=>yt(this,Ws,nv).call(this,_e)).finally(()=>yt(this,Ws,iv).call(this)));return}if(tt(this,_u)){const j=tt(this,_u);xt(this,_u,null),this._uiManager.enableWaiting(!0),xt(this,yu,this._uiManager.imageManager.getFromFile(j).then(_e=>yt(this,Ws,nv).call(this,_e)).finally(()=>yt(this,Ws,iv).call(this)));return}const s=document.createElement("input");s.type="file",s.accept=sv.supportedTypesStr;const o=this._uiManager._signal;xt(this,yu,new Promise(j=>{s.addEventListener("change",async()=>{if(!s.files||s.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const _e=await this._uiManager.imageManager.getFromFile(s.files[0]);yt(this,Ws,nv).call(this,_e)}j()},{signal:o}),s.addEventListener("cancel",()=>{this.remove(),j()},{signal:o})}).finally(()=>yt(this,Ws,iv).call(this))),s.click()},Rx=function(){const{div:s}=this;let{width:o,height:j}=tt(this,Nr);const[_e,et]=this.pageDimensions,nt=.75;if(this.width)o=this.width*_e,j=this.height*et;else if(o>nt*_e||j>nt*et){const at=Math.min(nt*_e/o,nt*et/j);o*=at,j*=at}const[it,rt]=this.parentDimensions;this.setDims(o*it/_e,j*rt/et),this._uiManager.enableWaiting(!1);const st=xt(this,zo,document.createElement("canvas"));s.append(st),s.hidden=!1,yt(this,Ws,Px).call(this,o,j),yt(this,Ws,rw).call(this),tt(this,I0)||(this.parent.addUndoableEditor(this),xt(this,I0,!0)),this._reportTelemetry({action:"inserted_image"}),tt(this,Fm)&&st.setAttribute("aria-label",tt(this,Fm))},iw=function(s,o){var nt;const[j,_e]=this.parentDimensions;this.width=s/j,this.height=o/_e,this.setDims(s,o),(nt=this._initialOptions)!=null&&nt.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,tt(this,Vo)!==null&&clearTimeout(tt(this,Vo)),xt(this,Vo,setTimeout(()=>{xt(this,Vo,null),yt(this,Ws,Px).call(this,s,o)},200))},sw=function(s,o){const{width:j,height:_e}=tt(this,Nr);let et=j,nt=_e,it=tt(this,Nr);for(;et>2*s||nt>2*o;){const rt=et,st=nt;et>2*s&&(et=et>=16384?Math.floor(et/2)-1:Math.ceil(et/2)),nt>2*o&&(nt=nt>=16384?Math.floor(nt/2)-1:Math.ceil(nt/2));const at=new OffscreenCanvas(et,nt);at.getContext("2d").drawImage(it,0,0,rt,st,0,0,et,nt),it=at.transferToImageBitmap()}return it},Px=function(s,o){s=Math.ceil(s),o=Math.ceil(o);const j=tt(this,zo);if(!j||j.width===s&&j.height===o)return;j.width=s,j.height=o;const _e=tt(this,To)?tt(this,Nr):yt(this,Ws,sw).call(this,s,o);if(this._uiManager.hasMLManager&&!this.hasAltText()){const it=new OffscreenCanvas(s,o).getContext("2d");it.drawImage(_e,0,0,_e.width,_e.height,0,0,s,o),this._uiManager.mlGuess({service:"image-to-text",request:{data:it.getImageData(0,0,s,o).data,width:s,height:o,channels:4}}).then(rt=>{const st=(rt==null?void 0:rt.output)||"";this.parent&&st&&!this.hasAltText()&&(this.altTextData={altText:st,decorative:!1})})}const et=j.getContext("2d");et.filter=this._uiManager.hcmFilter,et.drawImage(_e,0,0,_e.width,_e.height,0,0,s,o)},ky=function(s){if(s){if(tt(this,To)){const _e=this._uiManager.imageManager.getSvgUrl(tt(this,Or));if(_e)return _e}const o=document.createElement("canvas");return{width:o.width,height:o.height}=tt(this,Nr),o.getContext("2d").drawImage(tt(this,Nr),0,0),o.toDataURL()}if(tt(this,To)){const[o,j]=this.pageDimensions,_e=Math.round(this.width*o*PixelsPerInch.PDF_TO_CSS_UNITS),et=Math.round(this.height*j*PixelsPerInch.PDF_TO_CSS_UNITS),nt=new OffscreenCanvas(_e,et);return nt.getContext("2d").drawImage(tt(this,Nr),0,0,tt(this,Nr).width,tt(this,Nr).height,0,0,_e,et),nt.transferToImageBitmap()}return structuredClone(tt(this,Nr))},rw=function(){this._uiManager._signal&&(xt(this,Hl,new ResizeObserver(s=>{const o=s[0].contentRect;o.width&&o.height&&yt(this,Ws,iw).call(this,o.width,o.height)})),tt(this,Hl).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var s;(s=tt(this,Hl))==null||s.disconnect(),xt(this,Hl,null)},{once:!0}))},es(sv,"_type","stamp"),es(sv,"_editorType",AnnotationEditorType.STAMP);let StampEditor=sv;var Ap,Lm,Wo,wp,Ul,zl,Vl,no,bu,Im,Dm,Wr,_s,xu,jr,aw,Mx,Fx,Lx,Ry;const po=class po{constructor({uiManager:i,pageIndex:s,div:o,accessibilityManager:j,annotationLayer:_e,drawLayer:et,textLayer:nt,viewport:it,l10n:rt}){At(this,jr);At(this,Ap);At(this,Lm,!1);At(this,Wo,null);At(this,wp,null);At(this,Ul,null);At(this,zl,null);At(this,Vl,null);At(this,no,new Map);At(this,bu,!1);At(this,Im,!1);At(this,Dm,!1);At(this,Wr,null);At(this,_s);const st=[...tt(po,xu).values()];if(!po._initialized){po._initialized=!0;for(const at of st)at.initialize(rt,i)}i.registerEditorTypes(st),xt(this,_s,i),this.pageIndex=s,this.div=o,xt(this,Ap,j),xt(this,Wo,_e),this.viewport=it,xt(this,Wr,nt),this.drawLayer=et,tt(this,_s).addLayer(this)}get isEmpty(){return tt(this,no).size===0}get isInvisible(){return this.isEmpty&&tt(this,_s).getMode()===AnnotationEditorType.NONE}updateToolbar(i){tt(this,_s).updateToolbar(i)}updateMode(i=tt(this,_s).getMode()){switch(yt(this,jr,Ry).call(this),i){case AnnotationEditorType.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case AnnotationEditorType.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case AnnotationEditorType.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:s}=this.div;for(const o of tt(po,xu).values())s.toggle(`${o._type}Editing`,i===o._editorType);this.div.hidden=!1}hasTextLayer(i){var s;return i===((s=tt(this,Wr))==null?void 0:s.div)}addInkEditorIfNeeded(i){if(tt(this,_s).getMode()!==AnnotationEditorType.INK)return;if(!i){for(const o of tt(this,no).values())if(o.isEmpty()){o.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(i){tt(this,_s).setEditingState(i)}addCommands(i){tt(this,_s).addCommands(i)}togglePointerEvents(i=!1){this.div.classList.toggle("disabled",!i)}toggleAnnotationLayerPointerEvents(i=!1){var s;(s=tt(this,Wo))==null||s.div.classList.toggle("disabled",!i)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const i=new Set;for(const o of tt(this,no).values())o.enableEditing(),o.show(!0),o.annotationElementId&&(tt(this,_s).removeChangedExistingAnnotation(o),i.add(o.annotationElementId));if(!tt(this,Wo))return;const s=tt(this,Wo).getEditableAnnotations();for(const o of s){if(o.hide(),tt(this,_s).isDeletedAnnotationElement(o.data.id)||i.has(o.data.id))continue;const j=this.deserialize(o);j&&(this.addOrRebuild(j),j.enableEditing())}}disable(){var j;xt(this,Dm,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const i=new Map,s=new Map;for(const _e of tt(this,no).values())if(_e.disableEditing(),!!_e.annotationElementId){if(_e.serialize()!==null){i.set(_e.annotationElementId,_e);continue}else s.set(_e.annotationElementId,_e);(j=this.getEditableAnnotation(_e.annotationElementId))==null||j.show(),_e.remove()}if(tt(this,Wo)){const _e=tt(this,Wo).getEditableAnnotations();for(const et of _e){const{id:nt}=et.data;if(tt(this,_s).isDeletedAnnotationElement(nt))continue;let it=s.get(nt);if(it){it.resetAnnotationElement(et),it.show(!1),et.show();continue}it=i.get(nt),it&&(tt(this,_s).addChangedExistingAnnotation(it),it.renderAnnotationElement(et),it.show(!1)),et.show()}}yt(this,jr,Ry).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:o}=this.div;for(const _e of tt(po,xu).values())o.remove(`${_e._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),xt(this,Dm,!1)}getEditableAnnotation(i){var s;return((s=tt(this,Wo))==null?void 0:s.getEditableAnnotation(i))||null}setActiveEditor(i){tt(this,_s).getActive()!==i&&tt(this,_s).setActiveEditor(i)}enableTextSelection(){var i;this.div.tabIndex=-1,(i=tt(this,Wr))!=null&&i.div&&!tt(this,zl)&&(xt(this,zl,yt(this,jr,aw).bind(this)),tt(this,Wr).div.addEventListener("pointerdown",tt(this,zl),{signal:tt(this,_s)._signal}),tt(this,Wr).div.classList.add("highlighting"))}disableTextSelection(){var i;this.div.tabIndex=0,(i=tt(this,Wr))!=null&&i.div&&tt(this,zl)&&(tt(this,Wr).div.removeEventListener("pointerdown",tt(this,zl)),xt(this,zl,null),tt(this,Wr).div.classList.remove("highlighting"))}enableClick(){if(tt(this,Ul))return;const i=tt(this,_s)._signal;xt(this,Ul,this.pointerdown.bind(this)),xt(this,wp,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",tt(this,Ul),{signal:i}),this.div.addEventListener("pointerup",tt(this,wp),{signal:i})}disableClick(){tt(this,Ul)&&(this.div.removeEventListener("pointerdown",tt(this,Ul)),this.div.removeEventListener("pointerup",tt(this,wp)),xt(this,Ul,null),xt(this,wp,null))}attach(i){tt(this,no).set(i.id,i);const{annotationElementId:s}=i;s&&tt(this,_s).isDeletedAnnotationElement(s)&&tt(this,_s).removeDeletedAnnotationElement(i)}detach(i){var s;tt(this,no).delete(i.id),(s=tt(this,Ap))==null||s.removePointerInTextLayer(i.contentDiv),!tt(this,Dm)&&i.annotationElementId&&tt(this,_s).addDeletedAnnotationElement(i)}remove(i){this.detach(i),tt(this,_s).removeEditor(i),i.div.remove(),i.isAttachedToDOM=!1,tt(this,Im)||this.addInkEditorIfNeeded(!1)}changeParent(i){var s;i.parent!==this&&(i.parent&&i.annotationElementId&&(tt(this,_s).addDeletedAnnotationElement(i.annotationElementId),AnnotationEditor.deleteAnnotationElement(i),i.annotationElementId=null),this.attach(i),(s=i.parent)==null||s.detach(i),i.setParent(this),i.div&&i.isAttachedToDOM&&(i.div.remove(),this.div.append(i.div)))}add(i){if(!(i.parent===this&&i.isAttachedToDOM)){if(this.changeParent(i),tt(this,_s).addEditor(i),this.attach(i),!i.isAttachedToDOM){const s=i.render();this.div.append(s),i.isAttachedToDOM=!0}i.fixAndSetPosition(),i.onceAdded(),tt(this,_s).addToAnnotationStorage(i),i._reportTelemetry(i.telemetryInitialData)}}moveEditorInDOM(i){var o;if(!i.isAttachedToDOM)return;const{activeElement:s}=document;i.div.contains(s)&&!tt(this,Vl)&&(i._focusEventsAllowed=!1,xt(this,Vl,setTimeout(()=>{xt(this,Vl,null),i.div.contains(document.activeElement)?i._focusEventsAllowed=!0:(i.div.addEventListener("focusin",()=>{i._focusEventsAllowed=!0},{once:!0,signal:tt(this,_s)._signal}),s.focus())},0))),i._structTreeParentId=(o=tt(this,Ap))==null?void 0:o.moveElementInDOM(this.div,i.div,i.contentDiv,!0)}addOrRebuild(i){i.needsToBeRebuilt()?(i.parent||(i.parent=this),i.rebuild(),i.show()):this.add(i)}addUndoableEditor(i){const s=()=>i._uiManager.rebuild(i),o=()=>{i.remove()};this.addCommands({cmd:s,undo:o,mustExec:!1})}getNextId(){return tt(this,_s).getId()}get _signal(){return tt(this,_s)._signal}canCreateNewEmptyEditor(){var i;return(i=tt(this,jr,Mx))==null?void 0:i.canCreateNewEmptyEditor()}pasteEditor(i,s){tt(this,_s).updateToolbar(i),tt(this,_s).updateMode(i);const{offsetX:o,offsetY:j}=yt(this,jr,Lx).call(this),_e=this.getNextId(),et=yt(this,jr,Fx).call(this,{parent:this,id:_e,x:o,y:j,uiManager:tt(this,_s),isCentered:!0,...s});et&&this.add(et)}deserialize(i){var s;return((s=tt(po,xu).get(i.annotationType??i.annotationEditorType))==null?void 0:s.deserialize(i,this,tt(this,_s)))||null}createAndAddNewEditor(i,s,o={}){const j=this.getNextId(),_e=yt(this,jr,Fx).call(this,{parent:this,id:j,x:i.offsetX,y:i.offsetY,uiManager:tt(this,_s),isCentered:s,...o});return _e&&this.add(_e),_e}addNewEditor(){this.createAndAddNewEditor(yt(this,jr,Lx).call(this),!0)}setSelected(i){tt(this,_s).setSelected(i)}toggleSelected(i){tt(this,_s).toggleSelected(i)}isSelected(i){return tt(this,_s).isSelected(i)}unselect(i){tt(this,_s).unselect(i)}pointerup(i){const{isMac:s}=util_FeatureTest.platform;if(!(i.button!==0||i.ctrlKey&&s)&&i.target===this.div&&tt(this,bu)){if(xt(this,bu,!1),!tt(this,Lm)){xt(this,Lm,!0);return}if(tt(this,_s).getMode()===AnnotationEditorType.STAMP){tt(this,_s).unselectAll();return}this.createAndAddNewEditor(i,!1)}}pointerdown(i){if(tt(this,_s).getMode()===AnnotationEditorType.HIGHLIGHT&&this.enableTextSelection(),tt(this,bu)){xt(this,bu,!1);return}const{isMac:s}=util_FeatureTest.platform;if(i.button!==0||i.ctrlKey&&s||i.target!==this.div)return;xt(this,bu,!0);const o=tt(this,_s).getActive();xt(this,Lm,!o||o.isEmpty())}findNewParent(i,s,o){const j=tt(this,_s).findParent(s,o);return j===null||j===this?!1:(j.changeParent(i),!0)}destroy(){var i,s;((i=tt(this,_s).getActive())==null?void 0:i.parent)===this&&(tt(this,_s).commitOrRemove(),tt(this,_s).setActiveEditor(null)),tt(this,Vl)&&(clearTimeout(tt(this,Vl)),xt(this,Vl,null));for(const o of tt(this,no).values())(s=tt(this,Ap))==null||s.removePointerInTextLayer(o.contentDiv),o.setParent(null),o.isAttachedToDOM=!1,o.div.remove();this.div=null,tt(this,no).clear(),tt(this,_s).removeLayer(this)}render({viewport:i}){this.viewport=i,setLayerDimensions(this.div,i);for(const s of tt(this,_s).getEditors(this.pageIndex))this.add(s),s.rebuild();this.updateMode()}update({viewport:i}){tt(this,_s).commitOrRemove(),yt(this,jr,Ry).call(this);const s=this.viewport.rotation,o=i.rotation;if(this.viewport=i,setLayerDimensions(this.div,{rotation:o}),s!==o)for(const j of tt(this,no).values())j.rotate(o);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:i,pageHeight:s}=this.viewport.rawDims;return[i,s]}get scale(){return tt(this,_s).viewParameters.realScale}};Ap=new WeakMap,Lm=new WeakMap,Wo=new WeakMap,wp=new WeakMap,Ul=new WeakMap,zl=new WeakMap,Vl=new WeakMap,no=new WeakMap,bu=new WeakMap,Im=new WeakMap,Dm=new WeakMap,Wr=new WeakMap,_s=new WeakMap,xu=new WeakMap,jr=new WeakSet,aw=function(i){if(tt(this,_s).unselectAll(),i.target===tt(this,Wr).div){const{isMac:s}=util_FeatureTest.platform;if(i.button!==0||i.ctrlKey&&s)return;tt(this,_s).showAllEditors("highlight",!0,!0),tt(this,Wr).div.classList.add("free"),HighlightEditor.startHighlighting(this,tt(this,_s).direction==="ltr",i),tt(this,Wr).div.addEventListener("pointerup",()=>{tt(this,Wr).div.classList.remove("free")},{once:!0,signal:tt(this,_s)._signal}),i.preventDefault()}},Mx=function(){return tt(po,xu).get(tt(this,_s).getMode())},Fx=function(i){const s=tt(this,jr,Mx);return s?new s.prototype.constructor(i):null},Lx=function(){const{x:i,y:s,width:o,height:j}=this.div.getBoundingClientRect(),_e=Math.max(0,i),et=Math.max(0,s),nt=Math.min(window.innerWidth,i+o),it=Math.min(window.innerHeight,s+j),rt=(_e+nt)/2-i,st=(et+it)/2-s,[at,ot]=this.viewport.rotation%180===0?[rt,st]:[st,rt];return{offsetX:at,offsetY:ot}},Ry=function(){xt(this,Im,!0);for(const i of tt(this,no).values())i.isEmpty()&&i.remove();xt(this,Im,!1)},es(po,"_initialized",!1),At(po,xu,new Map([FreeTextEditor,InkEditor,StampEditor,HighlightEditor].map(i=>[i._editorType,i])));let AnnotationEditorLayer=po;var Go,D0,wr,Eu,N0,Ix,Cp,Dx,ow;const Mr=class Mr{constructor({pageIndex:i}){At(this,Cp);At(this,Go,null);At(this,D0,0);At(this,wr,new Map);At(this,Eu,new Map);this.pageIndex=i}setParent(i){if(!tt(this,Go)){xt(this,Go,i);return}if(tt(this,Go)!==i){if(tt(this,wr).size>0)for(const s of tt(this,wr).values())s.remove(),i.append(s);xt(this,Go,i)}}static get _svgFactory(){return shadow(this,"_svgFactory",new DOMSVGFactory)}highlight(i,s,o,j=!1){const _e=Pr(this,D0)._++,et=yt(this,Cp,Dx).call(this,i.box);et.classList.add("highlight"),i.free&&et.classList.add("free");const nt=Mr._svgFactory.createElement("defs");et.append(nt);const it=Mr._svgFactory.createElement("path");nt.append(it);const rt=`path_p${this.pageIndex}_${_e}`;it.setAttribute("id",rt),it.setAttribute("d",i.toSVGPath()),j&&tt(this,Eu).set(_e,it);const st=yt(this,Cp,ow).call(this,nt,rt),at=Mr._svgFactory.createElement("use");return et.append(at),et.setAttribute("fill",s),et.setAttribute("fill-opacity",o),at.setAttribute("href",`#${rt}`),tt(this,wr).set(_e,et),{id:_e,clipPathId:`url(#${st})`}}highlightOutline(i){const s=Pr(this,D0)._++,o=yt(this,Cp,Dx).call(this,i.box);o.classList.add("highlightOutline");const j=Mr._svgFactory.createElement("defs");o.append(j);const _e=Mr._svgFactory.createElement("path");j.append(_e);const et=`path_p${this.pageIndex}_${s}`;_e.setAttribute("id",et),_e.setAttribute("d",i.toSVGPath()),_e.setAttribute("vector-effect","non-scaling-stroke");let nt;if(i.free){o.classList.add("free");const st=Mr._svgFactory.createElement("mask");j.append(st),nt=`mask_p${this.pageIndex}_${s}`,st.setAttribute("id",nt),st.setAttribute("maskUnits","objectBoundingBox");const at=Mr._svgFactory.createElement("rect");st.append(at),at.setAttribute("width","1"),at.setAttribute("height","1"),at.setAttribute("fill","white");const ot=Mr._svgFactory.createElement("use");st.append(ot),ot.setAttribute("href",`#${et}`),ot.setAttribute("stroke","none"),ot.setAttribute("fill","black"),ot.setAttribute("fill-rule","nonzero"),ot.classList.add("mask")}const it=Mr._svgFactory.createElement("use");o.append(it),it.setAttribute("href",`#${et}`),nt&&it.setAttribute("mask",`url(#${nt})`);const rt=it.cloneNode();return o.append(rt),it.classList.add("mainOutline"),rt.classList.add("secondaryOutline"),tt(this,wr).set(s,o),s}finalizeLine(i,s){const o=tt(this,Eu).get(i);tt(this,Eu).delete(i),this.updateBox(i,s.box),o.setAttribute("d",s.toSVGPath())}updateLine(i,s){tt(this,wr).get(i).firstChild.firstChild.setAttribute("d",s.toSVGPath())}removeFreeHighlight(i){this.remove(i),tt(this,Eu).delete(i)}updatePath(i,s){tt(this,Eu).get(i).setAttribute("d",s.toSVGPath())}updateBox(i,s){var o;yt(o=Mr,N0,Ix).call(o,tt(this,wr).get(i),s)}show(i,s){tt(this,wr).get(i).classList.toggle("hidden",!s)}rotate(i,s){tt(this,wr).get(i).setAttribute("data-main-rotation",s)}changeColor(i,s){tt(this,wr).get(i).setAttribute("fill",s)}changeOpacity(i,s){tt(this,wr).get(i).setAttribute("fill-opacity",s)}addClass(i,s){tt(this,wr).get(i).classList.add(s)}removeClass(i,s){tt(this,wr).get(i).classList.remove(s)}remove(i){tt(this,Go)!==null&&(tt(this,wr).get(i).remove(),tt(this,wr).delete(i))}destroy(){xt(this,Go,null);for(const i of tt(this,wr).values())i.remove();tt(this,wr).clear()}};Go=new WeakMap,D0=new WeakMap,wr=new WeakMap,Eu=new WeakMap,N0=new WeakSet,Ix=function(i,{x:s=0,y:o=0,width:j=1,height:_e=1}={}){const{style:et}=i;et.top=`${100*o}%`,et.left=`${100*s}%`,et.width=`${100*j}%`,et.height=`${100*_e}%`},Cp=new WeakSet,Dx=function(i){var o;const s=Mr._svgFactory.create(1,1,!0);return tt(this,Go).append(s),s.setAttribute("aria-hidden",!0),yt(o=Mr,N0,Ix).call(o,s,i),s},ow=function(i,s){const o=Mr._svgFactory.createElement("clipPath");i.append(o);const j=`clip_${s}`;o.setAttribute("id",j),o.setAttribute("clipPathUnits","objectBoundingBox");const _e=Mr._svgFactory.createElement("use");return o.append(_e),_e.setAttribute("href",`#${s}`),_e.classList.add("clip"),j},At(Mr,N0);let DrawLayer=Mr;var __webpack_exports__AbortException=__webpack_exports__.AbortException,__webpack_exports__AnnotationEditorLayer=__webpack_exports__.AnnotationEditorLayer,__webpack_exports__AnnotationEditorParamsType=__webpack_exports__.AnnotationEditorParamsType,__webpack_exports__AnnotationEditorType=__webpack_exports__.AnnotationEditorType,__webpack_exports__AnnotationEditorUIManager=__webpack_exports__.AnnotationEditorUIManager,__webpack_exports__AnnotationLayer=__webpack_exports__.AnnotationLayer,__webpack_exports__AnnotationMode=__webpack_exports__.AnnotationMode,__webpack_exports__CMapCompressionType=__webpack_exports__.CMapCompressionType,__webpack_exports__ColorPicker=__webpack_exports__.ColorPicker,__webpack_exports__DOMSVGFactory=__webpack_exports__.DOMSVGFactory,__webpack_exports__DrawLayer=__webpack_exports__.DrawLayer,__webpack_exports__FeatureTest=__webpack_exports__.FeatureTest,__webpack_exports__GlobalWorkerOptions=__webpack_exports__.GlobalWorkerOptions,__webpack_exports__ImageKind=__webpack_exports__.ImageKind,__webpack_exports__InvalidPDFException=__webpack_exports__.InvalidPDFException,__webpack_exports__MissingPDFException=__webpack_exports__.MissingPDFException,__webpack_exports__OPS=__webpack_exports__.OPS,__webpack_exports__Outliner=__webpack_exports__.Outliner,__webpack_exports__PDFDataRangeTransport=__webpack_exports__.PDFDataRangeTransport,__webpack_exports__PDFDateString=__webpack_exports__.PDFDateString,__webpack_exports__PDFWorker=__webpack_exports__.PDFWorker,__webpack_exports__PasswordResponses=__webpack_exports__.PasswordResponses,__webpack_exports__PermissionFlag=__webpack_exports__.PermissionFlag,__webpack_exports__PixelsPerInch=__webpack_exports__.PixelsPerInch,__webpack_exports__RenderingCancelledException=__webpack_exports__.RenderingCancelledException,__webpack_exports__TextLayer=__webpack_exports__.TextLayer,__webpack_exports__UnexpectedResponseException=__webpack_exports__.UnexpectedResponseException,__webpack_exports__Util=__webpack_exports__.Util,__webpack_exports__VerbosityLevel=__webpack_exports__.VerbosityLevel,__webpack_exports__XfaLayer=__webpack_exports__.XfaLayer,__webpack_exports__build=__webpack_exports__.build,__webpack_exports__createValidAbsoluteUrl=__webpack_exports__.createValidAbsoluteUrl,__webpack_exports__fetchData=__webpack_exports__.fetchData,__webpack_exports__getDocument=__webpack_exports__.getDocument,__webpack_exports__getFilenameFromUrl=__webpack_exports__.getFilenameFromUrl,__webpack_exports__getPdfFilenameFromUrl=__webpack_exports__.getPdfFilenameFromUrl,__webpack_exports__getXfaPageViewport=__webpack_exports__.getXfaPageViewport,__webpack_exports__isDataScheme=__webpack_exports__.isDataScheme,__webpack_exports__isPdfFile=__webpack_exports__.isPdfFile,__webpack_exports__noContextMenu=__webpack_exports__.noContextMenu,__webpack_exports__normalizeUnicode=__webpack_exports__.normalizeUnicode,__webpack_exports__renderTextLayer=__webpack_exports__.renderTextLayer,__webpack_exports__setLayerDimensions=__webpack_exports__.setLayerDimensions,__webpack_exports__shadow=__webpack_exports__.shadow,__webpack_exports__updateTextLayer=__webpack_exports__.updateTextLayer,__webpack_exports__version=__webpack_exports__.version;const pdfjs=Object.freeze(Object.defineProperty({__proto__:null,AbortException:__webpack_exports__AbortException,AnnotationEditorLayer:__webpack_exports__AnnotationEditorLayer,AnnotationEditorParamsType:__webpack_exports__AnnotationEditorParamsType,AnnotationEditorType:__webpack_exports__AnnotationEditorType,AnnotationEditorUIManager:__webpack_exports__AnnotationEditorUIManager,AnnotationLayer:__webpack_exports__AnnotationLayer,AnnotationMode:__webpack_exports__AnnotationMode,CMapCompressionType:__webpack_exports__CMapCompressionType,ColorPicker:__webpack_exports__ColorPicker,DOMSVGFactory:__webpack_exports__DOMSVGFactory,DrawLayer:__webpack_exports__DrawLayer,FeatureTest:__webpack_exports__FeatureTest,GlobalWorkerOptions:__webpack_exports__GlobalWorkerOptions,ImageKind:__webpack_exports__ImageKind,InvalidPDFException:__webpack_exports__InvalidPDFException,MissingPDFException:__webpack_exports__MissingPDFException,OPS:__webpack_exports__OPS,Outliner:__webpack_exports__Outliner,PDFDataRangeTransport:__webpack_exports__PDFDataRangeTransport,PDFDateString:__webpack_exports__PDFDateString,PDFWorker:__webpack_exports__PDFWorker,PasswordResponses:__webpack_exports__PasswordResponses,PermissionFlag:__webpack_exports__PermissionFlag,PixelsPerInch:__webpack_exports__PixelsPerInch,RenderingCancelledException:__webpack_exports__RenderingCancelledException,TextLayer:__webpack_exports__TextLayer,UnexpectedResponseException:__webpack_exports__UnexpectedResponseException,Util:__webpack_exports__Util,VerbosityLevel:__webpack_exports__VerbosityLevel,XfaLayer:__webpack_exports__XfaLayer,build:__webpack_exports__build,createValidAbsoluteUrl:__webpack_exports__createValidAbsoluteUrl,fetchData:__webpack_exports__fetchData,getDocument:__webpack_exports__getDocument,getFilenameFromUrl:__webpack_exports__getFilenameFromUrl,getPdfFilenameFromUrl:__webpack_exports__getPdfFilenameFromUrl,getXfaPageViewport:__webpack_exports__getXfaPageViewport,isDataScheme:__webpack_exports__isDataScheme,isPdfFile:__webpack_exports__isPdfFile,noContextMenu:__webpack_exports__noContextMenu,normalizeUnicode:__webpack_exports__normalizeUnicode,renderTextLayer:__webpack_exports__renderTextLayer,setLayerDimensions:__webpack_exports__setLayerDimensions,shadow:__webpack_exports__shadow,updateTextLayer:__webpack_exports__updateTextLayer,version:__webpack_exports__version},Symbol.toStringTag,{value:"Module"}));var __spreadArray=function(a,i,s){if(s||arguments.length===2)for(var o=0,j=i.length,_e;o<j;o++)(_e||!(o in i))&&(_e||(_e=Array.prototype.slice.call(i,0,o)),_e[o]=i[o]);return a.concat(_e||Array.prototype.slice.call(i))},clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],focusEvents=["onFocus","onBlur"],formEvents=["onInput","onInvalid","onReset","onSubmit"],imageEvents=["onLoad","onError"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],uiEvents=["onScroll"],wheelEvents=["onWheel"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],changeEvents=["onChange"],allEvents=__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([],clipboardEvents,!0),compositionEvents,!0),focusEvents,!0),formEvents,!0),imageEvents,!0),keyboardEvents,!0),mediaEvents,!0),mouseEvents,!0),dragEvents,!0),selectionEvents,!0),touchEvents,!0),pointerEvents,!0),uiEvents,!0),wheelEvents,!0),animationEvents,!0),transitionEvents,!0),changeEvents,!0),otherEvents,!0);function makeEventProps(a,i){var s={};return allEvents.forEach(function(o){var j=a[o];j&&(i?s[o]=function(_e){return j(_e,i(o))}:s[o]=j)}),s}function makeCancellablePromise(a){var i=!1,s=new Promise(function(o,j){a.then(function(_e){return!i&&o(_e)}).catch(function(_e){return!i&&j(_e)})});return{promise:s,cancel:function(){i=!0}}}var prefix="Invariant failed";function invariant(a,i){if(!a)throw new Error(prefix)}var warning=function(){},warning_1=warning;const warning$1=getDefaultExportFromCjs(warning_1);var has=Object.prototype.hasOwnProperty;function find(a,i,s){for(s of a.keys())if(dequal(s,i))return s}function dequal(a,i){var s,o,j;if(a===i)return!0;if(a&&i&&(s=a.constructor)===i.constructor){if(s===Date)return a.getTime()===i.getTime();if(s===RegExp)return a.toString()===i.toString();if(s===Array){if((o=a.length)===i.length)for(;o--&&dequal(a[o],i[o]););return o===-1}if(s===Set){if(a.size!==i.size)return!1;for(o of a)if(j=o,j&&typeof j=="object"&&(j=find(i,j),!j)||!i.has(j))return!1;return!0}if(s===Map){if(a.size!==i.size)return!1;for(o of a)if(j=o[0],j&&typeof j=="object"&&(j=find(i,j),!j)||!dequal(o[1],i.get(j)))return!1;return!0}if(s===ArrayBuffer)a=new Uint8Array(a),i=new Uint8Array(i);else if(s===DataView){if((o=a.byteLength)===i.byteLength)for(;o--&&a.getInt8(o)===i.getInt8(o););return o===-1}if(ArrayBuffer.isView(a)){if((o=a.byteLength)===i.byteLength)for(;o--&&a[o]===i[o];);return o===-1}if(!s||typeof a=="object"){o=0;for(s in a)if(has.call(a,s)&&++o&&!has.call(i,s)||!(s in i)||!dequal(a[s],i[s]))return!1;return Object.keys(i).length===o}}return a!==a&&i!==i}const documentContext=reactExports.createContext(null);function Message({children:a,type:i}){return jsxRuntimeExports.jsx("div",{className:`react-pdf__message react-pdf__message--${i}`,children:a})}const DEFAULT_LINK_REL="noopener noreferrer nofollow";class LinkService{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(i){this.pdfDocument=i}setViewer(i){this.pdfViewer=i}setExternalLinkRel(i){this.externalLinkRel=i}setExternalLinkTarget(i){this.externalLinkTarget=i}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return invariant(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(i){invariant(this.pdfViewer),this.pdfViewer.currentPageNumber=i}get rotation(){return 0}set rotation(i){}goToDestination(i){return new Promise(s=>{invariant(this.pdfDocument),invariant(i),typeof i=="string"?this.pdfDocument.getDestination(i).then(s):Array.isArray(i)?s(i):i.then(s)}).then(s=>{invariant(Array.isArray(s));const o=s[0];new Promise(j=>{invariant(this.pdfDocument),o instanceof Object?this.pdfDocument.getPageIndex(o).then(_e=>{j(_e)}).catch(()=>{invariant(!1)}):typeof o=="number"?j(o):invariant(!1)}).then(j=>{const _e=j+1;invariant(this.pdfViewer),invariant(_e>=1&&_e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:s,pageIndex:j,pageNumber:_e})})})}navigateTo(i){this.goToDestination(i)}goToPage(i){const s=i-1;invariant(this.pdfViewer),invariant(i>=1&&i<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:s,pageNumber:i})}addLinkAttributes(i,s,o){i.href=s,i.rel=this.externalLinkRel||DEFAULT_LINK_REL,i.target=o?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},isBrowser=typeof window<"u",isLocalFileSystem=isBrowser&&window.location.protocol==="file:";function isString(a){return typeof a=="string"}function isArrayBuffer(a){return a instanceof ArrayBuffer}function isBlob(a){return invariant(isBrowser),a instanceof Blob}function isDataURI(a){return isString(a)&&/^data:/.test(a)}function dataURItoByteString(a){invariant(isDataURI(a));const[i="",s=""]=a.split(",");return i.split(";").indexOf("base64")!==-1?atob(s):unescape(s)}const allowFileAccessFromFilesTip="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function displayCORSWarning(){warning$1(!isLocalFileSystem,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function displayWorkerWarning(){warning$1(!isLocalFileSystem,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function cancelRunningTask(a){a!=null&&a.cancel&&a.cancel()}function loadFromFile(a){return new Promise((i,s)=>{const o=new FileReader;o.onload=()=>{if(!o.result)return s(new Error("Error while reading a file."));i(o.result)},o.onerror=j=>{if(!j.target)return s(new Error("Error while reading a file."));const{error:_e}=j.target;if(!_e)return s(new Error("Error while reading a file."));switch(_e.code){case _e.NOT_FOUND_ERR:return s(new Error("Error while reading a file: File not found."));case _e.SECURITY_ERR:return s(new Error("Error while reading a file: Security error."));case _e.ABORT_ERR:return s(new Error("Error while reading a file: Aborted."));default:return s(new Error("Error while reading a file."))}},o.readAsArrayBuffer(a)})}function reducer(a,i){switch(i.type){case"RESOLVE":return{value:i.value,error:void 0};case"REJECT":return{value:!1,error:i.error};case"RESET":return{value:void 0,error:void 0};default:return a}}function useResolver(){return reactExports.useReducer(reducer,{value:void 0,error:void 0})}var __awaiter=function(a,i,s,o){function j(_e){return _e instanceof s?_e:new s(function(et){et(_e)})}return new(s||(s=Promise))(function(_e,et){function nt(st){try{rt(o.next(st))}catch(at){et(at)}}function it(st){try{rt(o.throw(st))}catch(at){et(at)}}function rt(st){st.done?_e(st.value):j(st.value).then(nt,it)}rt((o=o.apply(a,i||[])).next())})},__rest=function(a,i){var s={};for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.indexOf(o)<0&&(s[o]=a[o]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var j=0,o=Object.getOwnPropertySymbols(a);j<o.length;j++)i.indexOf(o[j])<0&&Object.prototype.propertyIsEnumerable.call(a,o[j])&&(s[o[j]]=a[o[j]]);return s};const{PDFDataRangeTransport}=pdfjs,defaultOnPassword=(a,i)=>{switch(i){case PasswordResponses.NEED_PASSWORD:{const s=prompt("Enter the password to open this PDF file.");a(s);break}case PasswordResponses.INCORRECT_PASSWORD:{const s=prompt("Invalid password. Please try again.");a(s);break}}};function isParameterObject(a){return typeof a=="object"&&a!==null&&("data"in a||"range"in a||"url"in a)}const Document=reactExports.forwardRef(function a(i,s){var{children:o,className:j,error:_e="Failed to load PDF file.",externalLinkRel:et,externalLinkTarget:nt,file:it,inputRef:rt,imageResourcesPath:st,loading:at="Loading PDF…",noData:ot="No PDF file specified.",onItemClick:ut,onLoadError:ct,onLoadProgress:dt,onLoadSuccess:ft,onPassword:lt=defaultOnPassword,onSourceError:ht,onSourceSuccess:pt,options:vt,renderMode:gt,rotate:_t}=i,mt=__rest(i,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[bt,Ct]=useResolver(),{value:Pt,error:St}=bt,[Mt,Dt]=useResolver(),{value:Qt,error:Xt}=Mt,Yt=reactExports.useRef(new LinkService),Ht=reactExports.useRef([]),Ut=reactExports.useRef(void 0),Lt=reactExports.useRef(void 0);it&&it!==Ut.current&&isParameterObject(it)&&(warning$1(!dequal(it,Ut.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),Ut.current=it),vt&&vt!==Lt.current&&(warning$1(!dequal(vt,Lt.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),Lt.current=vt);const zt=reactExports.useRef({scrollPageIntoView:_n=>{const{dest:An,pageNumber:wn,pageIndex:on=wn-1}=_n;if(ut){ut({dest:An,pageIndex:on,pageNumber:wn});return}const hn=Ht.current[on];if(hn){hn.scrollIntoView();return}warning$1(!1,`An internal link leading to page ${wn} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});reactExports.useImperativeHandle(s,()=>({linkService:Yt,pages:Ht,viewer:zt}),[]);function Zt(){pt&&pt()}function Ft(){St&&(warning$1(!1,St.toString()),ht&&ht(St))}function Et(){Ct({type:"RESET"})}reactExports.useEffect(Et,[it,Ct]);const Tt=reactExports.useCallback(()=>__awaiter(this,void 0,void 0,function*(){if(!it)return null;if(typeof it=="string")return isDataURI(it)?{data:dataURItoByteString(it)}:(displayCORSWarning(),{url:it});if(it instanceof PDFDataRangeTransport)return{range:it};if(isArrayBuffer(it))return{data:it};if(isBrowser&&isBlob(it))return{data:yield loadFromFile(it)};if(invariant(typeof it=="object"),invariant(isParameterObject(it)),"url"in it&&typeof it.url=="string"){if(isDataURI(it.url)){const{url:_n}=it,An=__rest(it,["url"]),wn=dataURItoByteString(_n);return Object.assign({data:wn},An)}displayCORSWarning()}return it}),[it]);reactExports.useEffect(()=>{const _n=makeCancellablePromise(Tt());return _n.promise.then(An=>{Ct({type:"RESOLVE",value:An})}).catch(An=>{Ct({type:"REJECT",error:An})}),()=>{cancelRunningTask(_n)}},[Tt,Ct]),reactExports.useEffect(()=>{if(!(typeof Pt>"u")){if(Pt===!1){Ft();return}Zt()}},[Pt]);function kt(){Qt&&(ft&&ft(Qt),Ht.current=new Array(Qt.numPages),Yt.current.setDocument(Qt))}function jt(){Xt&&(warning$1(!1,Xt.toString()),ct&&ct(Xt))}reactExports.useEffect(function(){Dt({type:"RESET"})},[Dt,Pt]),reactExports.useEffect(function(){if(!Pt)return;const An=vt?Object.assign(Object.assign({},Pt),vt):Pt,wn=__webpack_exports__getDocument(An);dt&&(wn.onProgress=dt),lt&&(wn.onPassword=lt);const on=wn,hn=on.promise.then(It=>{Dt({type:"RESOLVE",value:It})}).catch(It=>{on.destroyed||Dt({type:"REJECT",error:It})});return()=>{hn.finally(()=>on.destroy())}},[vt,Dt,Pt]),reactExports.useEffect(()=>{if(!(typeof Qt>"u")){if(Qt===!1){jt();return}kt()}},[Qt]),reactExports.useEffect(function(){Yt.current.setViewer(zt.current),Yt.current.setExternalLinkRel(et),Yt.current.setExternalLinkTarget(nt)},[et,nt]);const Nt=reactExports.useCallback((_n,An)=>{Ht.current[_n]=An},[]),$t=reactExports.useCallback(_n=>{delete Ht.current[_n]},[]),tn=reactExports.useMemo(()=>({imageResourcesPath:st,linkService:Yt.current,onItemClick:ut,pdf:Qt,registerPage:Nt,renderMode:gt,rotate:_t,unregisterPage:$t}),[st,ut,Qt,Nt,gt,_t,$t]),gn=reactExports.useMemo(()=>makeEventProps(mt,()=>Qt),[mt,Qt]);function vn(){return jsxRuntimeExports.jsx(documentContext.Provider,{value:tn,children:o})}function bn(){return it?Qt==null?jsxRuntimeExports.jsx(Message,{type:"loading",children:typeof at=="function"?at():at}):Qt===!1?jsxRuntimeExports.jsx(Message,{type:"error",children:typeof _e=="function"?_e():_e}):vn():jsxRuntimeExports.jsx(Message,{type:"no-data",children:typeof ot=="function"?ot():ot})}return jsxRuntimeExports.jsx("div",Object.assign({className:clsx("react-pdf__Document",j),ref:rt,style:{"--scale-factor":"1"}},gn,{children:bn()}))});displayWorkerWarning();__webpack_exports__GlobalWorkerOptions.workerSrc="pdf.worker.mjs";__webpack_exports__GlobalWorkerOptions.workerSrc=new URL("pdfjs-dist/build/pdf.worker.min.mjs",import.meta.url).toString();__webpack_exports__GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${__webpack_exports__version}/pdf.worker.min.js`;const OfflineForm=()=>{const[a,i]=reactExports.useState(!1),s=()=>{const o=document.createElement("a");o.href=SISTNApplicationForm,o.download="SISTN-Membership-Form.pdf",o.click()};return jsxRuntimeExports.jsx("div",{className:"py-16 px-4",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto bg-white shadow-lg rounded-xl p-8",children:[jsxRuntimeExports.jsx("h2",{className:"text-4xl text-center text-sistn-dark-blue font-bold mb-6",children:"Membership Offline Form"}),jsxRuntimeExports.jsxs("div",{className:"text-sistn-blue mb-6",children:[jsxRuntimeExports.jsx("p",{className:"max-md:text-2xl",children:"Please download, print, and fill out this application form. After completing the form, submit it via email following the instructions below."}),jsxRuntimeExports.jsx("p",{className:"max-md:text-2xl",children:"This form is required for registering as a new member of the Society for Information Science and Technology of Nigeria (SISTN)."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-100 p-6 rounded-lg shadow-inner mb-8",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold mb-4 max-md:text-3xl",children:"Submission of Application"}),jsxRuntimeExports.jsxs("ol",{className:"list-decimal list-inside max-md:text-3xl",children:[jsxRuntimeExports.jsx("li",{children:"Download, fill out completely, affix a passport photo, and sign the SISTN Application Form."}),jsxRuntimeExports.jsxs("li",{children:["Scan and save in PDF format the following documents:",jsxRuntimeExports.jsxs("ul",{className:"list-disc ml-6 max-md:text-3xl",children:[jsxRuntimeExports.jsx("li",{children:"Completed Application Form"}),jsxRuntimeExports.jsx("li",{children:"Photocopies of all certificates for educational qualifications listed in the form (mandatory for all applications)"}),jsxRuntimeExports.jsx("li",{children:"Photocopies of evidence of professional/work experience (e.g., letters of appointment) (mandatory for Associate Member and Fellow applications)"}),jsxRuntimeExports.jsx("li",{children:"Curriculum Vitae (CV)"})]})]}),jsxRuntimeExports.jsx("li",{children:"Get your curriculum vitae ready in PDF format."}),jsxRuntimeExports.jsx("li",{children:"Prepare your passport photograph in JPEG format."}),jsxRuntimeExports.jsxs("li",{children:["Send an email with your full names, physical address, phone number, and statement of intent, along with the files mentioned above, to ",jsxRuntimeExports.jsx("strong",{children:"sistn2015plus@gmail.com"}),". Your email will be acknowledged within 72 hours."]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-100 p-6 rounded-lg shadow-inner mb-8",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Payment of Fees"}),jsxRuntimeExports.jsxs("ol",{className:"list-disc",children:[jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Important:"})," You can only pay the application and annual fees after your membership application has been approved."]}),jsxRuntimeExports.jsxs("li",{children:["Upon receiving the approval email, pay the Membership and Annual fees into the following bank account:",jsxRuntimeExports.jsxs("ul",{className:"ml-6",children:[jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Account Name:"})," Society for Information Science and Technology of Nigeria"]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Account Number:"})," 0171598523"]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Bank Name:"})," Guaranty Trust Bank (GTB)"]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Branch Name:"})," Bodija, Ibadan, Nigeria"]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Bank Swift Code/BIC:"})," GTBINGLA"]})]})]}),jsxRuntimeExports.jsxs("li",{children:["After payment, email the payment details along with a scanned copy of the payment receipt to ",jsxRuntimeExports.jsx("strong",{children:"sistn2015plus@gmail.com"}),". Your email will be acknowledged within 72 hours."]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-100 p-6 rounded-lg shadow-inner mb-8",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Preview of Application Form"}),jsxRuntimeExports.jsx("p",{className:"text-md mb-4",children:"This is a preview of the form. To submit, download the form and fill it out."}),jsxRuntimeExports.jsx("div",{className:"flex justify-center mb-4",children:jsxRuntimeExports.jsx(Button,{body:jsxRuntimeExports.jsx("a",{href:SISTNApplicationForm,target:"_blank",children:"Show PDF Preview"}),size:"large",btnClass:"py-2 max-md:text-2xl px-4 bg-blue-500 text-white rounded-lg"})}),a&&jsxRuntimeExports.jsx("div",{className:"w-full h-[500px] border rounded-lg overflow-hidden",children:jsxRuntimeExports.jsx(Document,{file:SISTNApplicationForm})})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsx(Button,{body:"Download Application Form",size:"large",btnClass:"py-3 max-md:text-2xl px-6 bg-sistn-dark-blue text-white rounded-lg font-semibold hover:bg-sistn-blue transition-colors",onClick:s})})]})})},MembershipFormPage=()=>jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-start bg-gray-50 py-16 px-4",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold text-center text-gray-900 mb-14",children:"Choose Your Membership Form"}),jsxRuntimeExports.jsx("p",{className:"text-2xl text-gray-700 text-center max-w-2xl mb-12",children:"You can register as a new member by completing either the online or offline membership forms. Please select your preferred option below to proceed."}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-8 w-full max-w-md",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsx("a",{href:"https://sistn.org/php-membership-form-page/memberform.php",children:jsxRuntimeExports.jsx(Button,{body:"Online Form",size:"large",btnClass:"w-full max-md:text-3xl py-4 bg-sistn-dark-blue text-white text-center rounded-lg font-semibold hover:bg-sistn-blue transition-colors text-2xl"})})}),jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsx(LinkComponent,{label:jsxRuntimeExports.jsx(Button,{body:"Offline Form",size:"large",btnClass:"w-full max-md:text-3xl py-4 bg-sistn-dark-blue text-white text-center rounded-lg font-semibold hover:bg-sistn-blue transition-colors text-2xl"}),href:"/membership-offline-form"})})]})]}),App=()=>jsxRuntimeExports.jsx(Routes,{children:jsxRuntimeExports.jsxs(Route,{path:"/",element:jsxRuntimeExports.jsx(WebsiteContainer,{}),children:[jsxRuntimeExports.jsx(Route,{index:!0,element:jsxRuntimeExports.jsx(Welcome,{})}),jsxRuntimeExports.jsx(Route,{path:"history",element:jsxRuntimeExports.jsx(History,{})}),jsxRuntimeExports.jsx(Route,{path:"membership-categories",element:jsxRuntimeExports.jsx(MembershipCategories,{})}),jsxRuntimeExports.jsx(Route,{path:"/membership-categories/:membershipType",element:jsxRuntimeExports.jsx(LearnMore,{})}),jsxRuntimeExports.jsx(Route,{path:"form",element:jsxRuntimeExports.jsx(MembershipFormPage,{})}),jsxRuntimeExports.jsx(Route,{path:"membership-offline-form",element:jsxRuntimeExports.jsx(OfflineForm,{})}),jsxRuntimeExports.jsx(Route,{path:"thank-you",element:jsxRuntimeExports.jsx(ThankYouPage,{})}),jsxRuntimeExports.jsx(Route,{path:"webinars",element:jsxRuntimeExports.jsx(Event$1,{})}),jsxRuntimeExports.jsx(Route,{path:"induction-of-members",element:jsxRuntimeExports.jsx(InductionOfMembers,{})}),jsxRuntimeExports.jsx(Route,{path:"contact",element:jsxRuntimeExports.jsx(Contact,{})}),jsxRuntimeExports.jsx(Route,{path:"/organization",element:jsxRuntimeExports.jsx(UnderConstruction,{title:"Organization"})}),jsxRuntimeExports.jsx(Route,{path:"/about/memorandum-of-association",element:jsxRuntimeExports.jsx(UnderConstruction,{title:"Memorandum of Association"})}),jsxRuntimeExports.jsx(Route,{path:"/about/article-of-association",element:jsxRuntimeExports.jsx(UnderConstruction,{title:"Article of Association"})}),jsxRuntimeExports.jsx(Route,{path:"/lectures-and-seminars",element:jsxRuntimeExports.jsx(UnderConstruction,{title:"Lectures and Seminars"})}),jsxRuntimeExports.jsx(Route,{path:"/founders-day-lectures",element:jsxRuntimeExports.jsx(UnderConstruction,{title:"Founders Day Lectures"})}),jsxRuntimeExports.jsx(Route,{path:"/conference",element:jsxRuntimeExports.jsx(UnderConstruction,{title:"Conference"})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(NotFound,{})})]})});createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsxs(BrowserRouter,{children:[jsxRuntimeExports.jsx(App,{}),jsxRuntimeExports.jsx(Q,{position:"top-right",autoClose:5e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}));
